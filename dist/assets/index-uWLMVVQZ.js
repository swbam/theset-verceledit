import{r as zs,R as H,a as m,b as Uu,j as s,c as Vu,d as Hs,g as Wu,u as jt,e as mr,L as Ee,f as at,h as hx,i as zu,_ as px,k as Hu,N as qu,Q as gx,l as xx,B as vx,m as yx,n as rt}from"./vendor-BLy60-vt.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var Yu,zc=zs;Yu=zc.createRoot,zc.hydrateRoot;var wx=e=>{switch(e){case"success":return Nx;case"info":return Sx;case"warning":return jx;case"error":return Ex;default:return null}},bx=Array(12).fill(0),_x=({visible:e,className:t})=>H.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},H.createElement("div",{className:"sonner-spinner"},bx.map((r,n)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Nx=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jx=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Sx=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Ex=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Cx=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ax=()=>{let[e,t]=H.useState(document.hidden);return H.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},al=1,kx=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:al++,a=this.toasts.find(i=>i.id===o),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),a?this.toasts=this.toasts.map(i=>i.id===o?(this.publish({...i,...e,id:o,title:r}),{...i,...e,id:o,dismissible:l,title:r}):i):this.addToast({title:r,...n,dismissible:l,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),o=r!==void 0,a,l=n.then(async c=>{if(a=["resolve",c],H.isValidElement(c))o=!1,this.create({id:r,type:"default",message:c});else if(Rx(c)&&!c.ok){o=!1;let d=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,u=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:d,description:u})}else if(t.success!==void 0){o=!1;let d=typeof t.success=="function"?await t.success(c):t.success,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:d,description:u})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){o=!1;let d=typeof t.error=="function"?await t.error(c):t.error,u=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:d,description:u})}}).finally(()=>{var c;o&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),i=()=>new Promise((c,d)=>l.then(()=>a[0]==="reject"?d(a[1]):c(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:i}:Object.assign(r,{unwrap:i})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||al++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yt=new kx,Tx=(e,t)=>{let r=(t==null?void 0:t.id)||al++;return yt.addToast({title:e,...t,id:r}),r},Rx=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Px=Tx,Ix=()=>yt.toasts,Mx=()=>yt.getActiveToasts(),re=Object.assign(Px,{success:yt.success,info:yt.info,warning:yt.warning,error:yt.error,custom:yt.custom,message:yt.message,promise:yt.promise,dismiss:yt.dismiss,loading:yt.loading},{getHistory:Ix,getToasts:Mx});function Dx(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Dx(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function lo(e){return e.label!==void 0}var Ox=3,Lx="32px",Fx="16px",Hc=4e3,$x=356,Bx=14,Ux=20,Vx=200;function Bt(...e){return e.filter(Boolean).join(" ")}function Wx(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var zx=e=>{var t,r,n,o,a,l,i,c,d,u,f;let{invert:g,toast:p,unstyled:w,interacting:v,setHeights:y,visibleToasts:N,heights:_,index:j,toasts:S,expanded:E,removeToast:D,defaultRichColors:I,closeButton:B,style:$,cancelButtonStyle:q,actionButtonStyle:Z,className:V="",descriptionClassName:Y="",duration:L,position:M,gap:T,loadingIcon:A,expandByDefault:P,classNames:O,icons:G,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:ee}=e,[ce,oe]=H.useState(null),[Te,he]=H.useState(null),[Q,ue]=H.useState(!1),[ge,Ne]=H.useState(!1),[de,xe]=H.useState(!1),[Re,ze]=H.useState(!1),[lt,Le]=H.useState(!1),[Xe,Rt]=H.useState(0),[St,xr]=H.useState(0),mt=H.useRef(p.duration||L||Hc),k=H.useRef(null),F=H.useRef(null),W=j===0,te=j+1<=N,J=p.type,b=p.dismissible!==!1,h=p.className||"",x=p.descriptionClassName||"",C=H.useMemo(()=>_.findIndex(Ae=>Ae.toastId===p.id)||0,[_,p.id]),R=H.useMemo(()=>{var Ae;return(Ae=p.closeButton)!=null?Ae:B},[p.closeButton,B]),U=H.useMemo(()=>p.duration||L||Hc,[p.duration,L]),z=H.useRef(0),we=H.useRef(0),Ve=H.useRef(0),Me=H.useRef(null),[He,Fe]=M.split("-"),Vc=H.useMemo(()=>_.reduce((Ae,Ue,Ze)=>Ze>=C?Ae:Ae+Ue.height,0),[_,C]),Wc=Ax(),fx=p.invert||g,ri=J==="loading";we.current=H.useMemo(()=>C*T+Vc,[C,Vc]),H.useEffect(()=>{mt.current=U},[U]),H.useEffect(()=>{ue(!0)},[]),H.useEffect(()=>{let Ae=F.current;if(Ae){let Ue=Ae.getBoundingClientRect().height;return xr(Ue),y(Ze=>[{toastId:p.id,height:Ue,position:p.position},...Ze]),()=>y(Ze=>Ze.filter(Lt=>Lt.toastId!==p.id))}},[y,p.id]),H.useLayoutEffect(()=>{if(!Q)return;let Ae=F.current,Ue=Ae.style.height;Ae.style.height="auto";let Ze=Ae.getBoundingClientRect().height;Ae.style.height=Ue,xr(Ze),y(Lt=>Lt.find(Ft=>Ft.toastId===p.id)?Lt.map(Ft=>Ft.toastId===p.id?{...Ft,height:Ze}:Ft):[{toastId:p.id,height:Ze,position:p.position},...Lt])},[Q,p.title,p.description,y,p.id]);let Rr=H.useCallback(()=>{Ne(!0),Rt(we.current),y(Ae=>Ae.filter(Ue=>Ue.toastId!==p.id)),setTimeout(()=>{D(p)},Vx)},[p,D,y,we]);H.useEffect(()=>{if(p.promise&&J==="loading"||p.duration===1/0||p.type==="loading")return;let Ae;return E||v||ee&&Wc?(()=>{if(Ve.current<z.current){let Ue=new Date().getTime()-z.current;mt.current=mt.current-Ue}Ve.current=new Date().getTime()})():mt.current!==1/0&&(z.current=new Date().getTime(),Ae=setTimeout(()=>{var Ue;(Ue=p.onAutoClose)==null||Ue.call(p,p),Rr()},mt.current)),()=>clearTimeout(Ae)},[E,v,p,J,ee,Wc,Rr]),H.useEffect(()=>{p.delete&&Rr()},[Rr,p.delete]);function mx(){var Ae,Ue,Ze;return G!=null&&G.loading?H.createElement("div",{className:Bt(O==null?void 0:O.loader,(Ae=p==null?void 0:p.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":J==="loading"},G.loading):A?H.createElement("div",{className:Bt(O==null?void 0:O.loader,(Ue=p==null?void 0:p.classNames)==null?void 0:Ue.loader,"sonner-loader"),"data-visible":J==="loading"},A):H.createElement(_x,{className:Bt(O==null?void 0:O.loader,(Ze=p==null?void 0:p.classNames)==null?void 0:Ze.loader),visible:J==="loading"})}return H.createElement("li",{tabIndex:0,ref:F,className:Bt(V,h,O==null?void 0:O.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,O==null?void 0:O.default,O==null?void 0:O[J],(r=p==null?void 0:p.classNames)==null?void 0:r[J]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:I,"data-styled":!(p.jsx||p.unstyled||w),"data-mounted":Q,"data-promise":!!p.promise,"data-swiped":lt,"data-removed":ge,"data-visible":te,"data-y-position":He,"data-x-position":Fe,"data-index":j,"data-front":W,"data-swiping":de,"data-dismissible":b,"data-type":J,"data-invert":fx,"data-swipe-out":Re,"data-swipe-direction":Te,"data-expanded":!!(E||P&&Q),style:{"--index":j,"--toasts-before":j,"--z-index":S.length-j,"--offset":`${ge?Xe:we.current}px`,"--initial-height":P?"auto":`${St}px`,...$,...p.style},onDragEnd:()=>{xe(!1),oe(null),Me.current=null},onPointerDown:Ae=>{ri||!b||(k.current=new Date,Rt(we.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(xe(!0),Me.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,Ue,Ze,Lt;if(Re||!b)return;Me.current=null;let Ft=Number(((Ae=F.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pr=Number(((Ue=F.current)==null?void 0:Ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),en=new Date().getTime()-((Ze=k.current)==null?void 0:Ze.getTime()),$t=ce==="x"?Ft:Pr,Ir=Math.abs($t)/en;if(Math.abs($t)>=Ux||Ir>.11){Rt(we.current),(Lt=p.onDismiss)==null||Lt.call(p,p),he(ce==="x"?Ft>0?"right":"left":Pr>0?"down":"up"),Rr(),ze(!0),Le(!1);return}xe(!1),oe(null)},onPointerMove:Ae=>{var Ue,Ze,Lt,Ft;if(!Me.current||!b||((Ue=window.getSelection())==null?void 0:Ue.toString().length)>0)return;let Pr=Ae.clientY-Me.current.y,en=Ae.clientX-Me.current.x,$t=(Ze=e.swipeDirections)!=null?Ze:Wx(M);!ce&&(Math.abs(en)>1||Math.abs(Pr)>1)&&oe(Math.abs(en)>Math.abs(Pr)?"x":"y");let Ir={x:0,y:0};ce==="y"?($t.includes("top")||$t.includes("bottom"))&&($t.includes("top")&&Pr<0||$t.includes("bottom")&&Pr>0)&&(Ir.y=Pr):ce==="x"&&($t.includes("left")||$t.includes("right"))&&($t.includes("left")&&en<0||$t.includes("right")&&en>0)&&(Ir.x=en),(Math.abs(Ir.x)>0||Math.abs(Ir.y)>0)&&Le(!0),(Lt=F.current)==null||Lt.style.setProperty("--swipe-amount-x",`${Ir.x}px`),(Ft=F.current)==null||Ft.style.setProperty("--swipe-amount-y",`${Ir.y}px`)}},R&&!p.jsx?H.createElement("button",{"aria-label":X,"data-disabled":ri,"data-close-button":!0,onClick:ri||!b?()=>{}:()=>{var Ae;Rr(),(Ae=p.onDismiss)==null||Ae.call(p,p)},className:Bt(O==null?void 0:O.closeButton,(o=p==null?void 0:p.classNames)==null?void 0:o.closeButton)},(a=G==null?void 0:G.close)!=null?a:Cx):null,p.jsx||m.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:H.createElement(H.Fragment,null,J||p.icon||p.promise?H.createElement("div",{"data-icon":"",className:Bt(O==null?void 0:O.icon,(l=p==null?void 0:p.classNames)==null?void 0:l.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||mx():null,p.type!=="loading"?p.icon||(G==null?void 0:G[J])||wx(J):null):null,H.createElement("div",{"data-content":"",className:Bt(O==null?void 0:O.content,(i=p==null?void 0:p.classNames)==null?void 0:i.content)},H.createElement("div",{"data-title":"",className:Bt(O==null?void 0:O.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?H.createElement("div",{"data-description":"",className:Bt(Y,x,O==null?void 0:O.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),m.isValidElement(p.cancel)?p.cancel:p.cancel&&lo(p.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||q,onClick:Ae=>{var Ue,Ze;lo(p.cancel)&&b&&((Ze=(Ue=p.cancel).onClick)==null||Ze.call(Ue,Ae),Rr())},className:Bt(O==null?void 0:O.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,m.isValidElement(p.action)?p.action:p.action&&lo(p.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||Z,onClick:Ae=>{var Ue,Ze;lo(p.action)&&((Ze=(Ue=p.action).onClick)==null||Ze.call(Ue,Ae),!Ae.defaultPrevented&&Rr())},className:Bt(O==null?void 0:O.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function qc(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Hx(e,t){let r={};return[e,t].forEach((n,o)=>{let a=o===1,l=a?"--mobile-offset":"--offset",i=a?Fx:Lx;function c(d){["top","right","bottom","left"].forEach(u=>{r[`${l}-${u}`]=typeof d=="number"?`${d}px`:d})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(d=>{n[d]===void 0?r[`${l}-${d}`]=i:r[`${l}-${d}`]=typeof n[d]=="number"?`${n[d]}px`:n[d]}):c(i)}),r}var qx=m.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:l,className:i,offset:c,mobileOffset:d,theme:u="light",richColors:f,duration:g,style:p,visibleToasts:w=Ox,toastOptions:v,dir:y=qc(),gap:N=Bx,loadingIcon:_,icons:j,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:E}=e,[D,I]=H.useState([]),B=H.useMemo(()=>Array.from(new Set([n].concat(D.filter(ee=>ee.position).map(ee=>ee.position)))),[D,n]),[$,q]=H.useState([]),[Z,V]=H.useState(!1),[Y,L]=H.useState(!1),[M,T]=H.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),A=H.useRef(null),P=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=H.useRef(null),G=H.useRef(!1),X=H.useCallback(ee=>{I(ce=>{var oe;return(oe=ce.find(Te=>Te.id===ee.id))!=null&&oe.delete||yt.dismiss(ee.id),ce.filter(({id:Te})=>Te!==ee.id)})},[]);return H.useEffect(()=>yt.subscribe(ee=>{if(ee.dismiss){I(ce=>ce.map(oe=>oe.id===ee.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{Uu.flushSync(()=>{I(ce=>{let oe=ce.findIndex(Te=>Te.id===ee.id);return oe!==-1?[...ce.slice(0,oe),{...ce[oe],...ee},...ce.slice(oe+1)]:[ee,...ce]})})})}),[]),H.useEffect(()=>{if(u!=="system"){T(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?T("dark"):T("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:ce})=>{T(ce?"dark":"light")})}catch{ee.addListener(({matches:oe})=>{try{T(oe?"dark":"light")}catch(Te){console.error(Te)}})}},[u]),H.useEffect(()=>{D.length<=1&&V(!1)},[D]),H.useEffect(()=>{let ee=ce=>{var oe,Te;o.every(he=>ce[he]||ce.code===he)&&(V(!0),(oe=A.current)==null||oe.focus()),ce.code==="Escape"&&(document.activeElement===A.current||(Te=A.current)!=null&&Te.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[o]),H.useEffect(()=>{if(A.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,G.current=!1)}},[A.current]),H.createElement("section",{ref:t,"aria-label":`${S} ${P}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((ee,ce)=>{var oe;let[Te,he]=ee.split("-");return D.length?H.createElement("ol",{key:ee,dir:y==="auto"?qc():y,tabIndex:-1,ref:A,className:i,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":Te,"data-lifted":Z&&D.length>1&&!a,"data-x-position":he,style:{"--front-toast-height":`${((oe=$[0])==null?void 0:oe.height)||0}px`,"--width":`${$x}px`,"--gap":`${N}px`,...p,...Hx(c,d)},onBlur:Q=>{G.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(G.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||G.current||(G.current=!0,O.current=Q.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{Y||V(!1)},onDragEnd:()=>V(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},D.filter(Q=>!Q.position&&ce===0||Q.position===ee).map((Q,ue)=>{var ge,Ne;return H.createElement(zx,{key:Q.id,icons:j,index:ue,toast:Q,defaultRichColors:f,duration:(ge=v==null?void 0:v.duration)!=null?ge:g,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:w,closeButton:(Ne=v==null?void 0:v.closeButton)!=null?Ne:l,interacting:Y,position:ee,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:X,toasts:D.filter(de=>de.position==Q.position),heights:$.filter(de=>de.position==Q.position),setHeights:q,expandByDefault:a,gap:N,loadingIcon:_,expanded:Z,pauseWhenPageIsHidden:E,swipeDirections:e.swipeDirections})})):null}))});function ie(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function Yc(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function va(...e){return t=>{let r=!1;const n=e.map(o=>{const a=Yc(o,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<n.length;o++){const a=n[o];typeof a=="function"?a():Yc(e[o],null)}}}}function Oe(...e){return m.useCallback(va(...e),e)}function Jt(e,t=[]){let r=[];function n(a,l){const i=m.createContext(l),c=r.length;r=[...r,l];const d=f=>{var N;const{scope:g,children:p,...w}=f,v=((N=g==null?void 0:g[e])==null?void 0:N[c])||i,y=m.useMemo(()=>w,Object.values(w));return s.jsx(v.Provider,{value:y,children:p})};d.displayName=a+"Provider";function u(f,g){var v;const p=((v=g==null?void 0:g[e])==null?void 0:v[c])||i,w=m.useContext(p);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[d,u]}const o=()=>{const a=r.map(l=>m.createContext(l));return function(i){const c=(i==null?void 0:i[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...i,[e]:c}}),[i,c])}};return o.scopeName=e,[n,Yx(o,...t)]}function Yx(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const l=n.reduce((i,{useScope:c,scopeName:d})=>{const f=c(a)[`__scope${d}`];return{...i,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return r.scopeName=t.scopeName,r}function cn(e){const t=Gx(e),r=m.forwardRef((n,o)=>{const{children:a,...l}=n,i=m.Children.toArray(a),c=i.find(Kx);if(c){const d=c.props.children,u=i.map(f=>f===c?m.Children.count(d)>1?m.Children.only(null):m.isValidElement(d)?d.props.children:null:f);return s.jsx(t,{...l,ref:o,children:m.isValidElement(d)?m.cloneElement(d,void 0,u):null})}return s.jsx(t,{...l,ref:o,children:a})});return r.displayName=`${e}.Slot`,r}var Gu=cn("Slot");function Gx(e){const t=m.forwardRef((r,n)=>{const{children:o,...a}=r;if(m.isValidElement(o)){const l=Qx(o),i=Xx(a,o.props);return o.type!==m.Fragment&&(i.ref=n?va(n,l):l),m.cloneElement(o,i)}return m.Children.count(o)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zu=Symbol("radix.slottable");function Zx(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Zu,t}function Kx(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Zu}function Xx(e,t){const r={...t};for(const n in t){const o=e[n],a=t[n];/^on[A-Z]/.test(n)?o&&a?r[n]=(...i)=>{a(...i),o(...i)}:o&&(r[n]=o):n==="style"?r[n]={...o,...a}:n==="className"&&(r[n]=[o,a].filter(Boolean).join(" "))}return{...e,...r}}function Qx(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Jx=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ce=Jx.reduce((e,t)=>{const r=cn(`Primitive.${t}`),n=m.forwardRef((o,a)=>{const{asChild:l,...i}=o,c=l?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...i,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Ku(e,t){e&&zs.flushSync(()=>e.dispatchEvent(t))}function it(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function ev(e,t=globalThis==null?void 0:globalThis.document){const r=it(e);m.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var tv="DismissableLayer",il="dismissableLayer.update",rv="dismissableLayer.pointerDownOutside",nv="dismissableLayer.focusOutside",Gc,Xu=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),qs=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:l,onDismiss:i,...c}=e,d=m.useContext(Xu),[u,f]=m.useState(null),g=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),w=Oe(t,I=>f(I)),v=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(y),_=u?v.indexOf(u):-1,j=d.layersWithOutsidePointerEventsDisabled.size>0,S=_>=N,E=av(I=>{const B=I.target,$=[...d.branches].some(q=>q.contains(B));!S||$||(o==null||o(I),l==null||l(I),I.defaultPrevented||i==null||i())},g),D=iv(I=>{const B=I.target;[...d.branches].some(q=>q.contains(B))||(a==null||a(I),l==null||l(I),I.defaultPrevented||i==null||i())},g);return ev(I=>{_===d.layers.size-1&&(n==null||n(I),!I.defaultPrevented&&i&&(I.preventDefault(),i()))},g),m.useEffect(()=>{if(u)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Gc=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),Zc(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Gc)}},[u,g,r,d]),m.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),Zc())},[u,d]),m.useEffect(()=>{const I=()=>p({});return document.addEventListener(il,I),()=>document.removeEventListener(il,I)},[]),s.jsx(Ce.div,{...c,ref:w,style:{pointerEvents:j?S?"auto":"none":void 0,...e.style},onFocusCapture:ie(e.onFocusCapture,D.onFocusCapture),onBlurCapture:ie(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ie(e.onPointerDownCapture,E.onPointerDownCapture)})});qs.displayName=tv;var sv="DismissableLayerBranch",ov=m.forwardRef((e,t)=>{const r=m.useContext(Xu),n=m.useRef(null),o=Oe(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(Ce.div,{...e,ref:o})});ov.displayName=sv;function av(e,t=globalThis==null?void 0:globalThis.document){const r=it(e),n=m.useRef(!1),o=m.useRef(()=>{});return m.useEffect(()=>{const a=i=>{if(i.target&&!n.current){let c=function(){Qu(rv,r,d,{discrete:!0})};const d={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=c,t.addEventListener("click",o.current,{once:!0})):c()}else t.removeEventListener("click",o.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function iv(e,t=globalThis==null?void 0:globalThis.document){const r=it(e),n=m.useRef(!1);return m.useEffect(()=>{const o=a=>{a.target&&!n.current&&Qu(nv,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Zc(){const e=new CustomEvent(il);document.dispatchEvent(e)}function Qu(e,t,r,{discrete:n}){const o=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?Ku(o,a):o.dispatchEvent(a)}var nt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},lv=Vu[" useId ".trim().toString()]||(()=>{}),cv=0;function jr(e){const[t,r]=m.useState(lv());return nt(()=>{r(n=>n??String(cv++))},[e]),t?`radix-${t}`:""}const dv=["top","right","bottom","left"],Wr=Math.min,Ct=Math.max,Wo=Math.round,co=Math.floor,ar=e=>({x:e,y:e}),uv={left:"right",right:"left",bottom:"top",top:"bottom"},fv={start:"end",end:"start"};function ll(e,t,r){return Ct(e,Wr(t,r))}function Sr(e,t){return typeof e=="function"?e(t):e}function Er(e){return e.split("-")[0]}function Qn(e){return e.split("-")[1]}function Ml(e){return e==="x"?"y":"x"}function Dl(e){return e==="y"?"height":"width"}function zr(e){return["top","bottom"].includes(Er(e))?"y":"x"}function Ol(e){return Ml(zr(e))}function mv(e,t,r){r===void 0&&(r=!1);const n=Qn(e),o=Ol(e),a=Dl(o);let l=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(l=zo(l)),[l,zo(l)]}function hv(e){const t=zo(e);return[cl(e),t,cl(t)]}function cl(e){return e.replace(/start|end/g,t=>fv[t])}function pv(e,t,r){const n=["left","right"],o=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return r?t?o:n:t?n:o;case"left":case"right":return t?a:l;default:return[]}}function gv(e,t,r,n){const o=Qn(e);let a=pv(Er(e),r==="start",n);return o&&(a=a.map(l=>l+"-"+o),t&&(a=a.concat(a.map(cl)))),a}function zo(e){return e.replace(/left|right|bottom|top/g,t=>uv[t])}function xv(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ju(e){return typeof e!="number"?xv(e):{top:e,right:e,bottom:e,left:e}}function Ho(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function Kc(e,t,r){let{reference:n,floating:o}=e;const a=zr(t),l=Ol(t),i=Dl(l),c=Er(t),d=a==="y",u=n.x+n.width/2-o.width/2,f=n.y+n.height/2-o.height/2,g=n[i]/2-o[i]/2;let p;switch(c){case"top":p={x:u,y:n.y-o.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-o.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Qn(t)){case"start":p[l]-=g*(r&&d?-1:1);break;case"end":p[l]+=g*(r&&d?-1:1);break}return p}const vv=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:l}=r,i=a.filter(Boolean),c=await(l.isRTL==null?void 0:l.isRTL(t));let d=await l.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:f}=Kc(d,n,c),g=n,p={},w=0;for(let v=0;v<i.length;v++){const{name:y,fn:N}=i[v],{x:_,y:j,data:S,reset:E}=await N({x:u,y:f,initialPlacement:n,placement:g,strategy:o,middlewareData:p,rects:d,platform:l,elements:{reference:e,floating:t}});u=_??u,f=j??f,p={...p,[y]:{...p[y],...S}},E&&w<=50&&(w++,typeof E=="object"&&(E.placement&&(g=E.placement),E.rects&&(d=E.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:o}):E.rects),{x:u,y:f}=Kc(d,g,c)),v=-1)}return{x:u,y:f,placement:g,strategy:o,middlewareData:p}};async function _s(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:a,rects:l,elements:i,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:g=!1,padding:p=0}=Sr(t,e),w=Ju(p),y=i[g?f==="floating"?"reference":"floating":f],N=Ho(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(y)))==null||r?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(i.floating)),boundary:d,rootBoundary:u,strategy:c})),_=f==="floating"?{x:n,y:o,width:l.floating.width,height:l.floating.height}:l.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(i.floating)),S=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},E=Ho(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:_,offsetParent:j,strategy:c}):_);return{top:(N.top-E.top+w.top)/S.y,bottom:(E.bottom-N.bottom+w.bottom)/S.y,left:(N.left-E.left+w.left)/S.x,right:(E.right-N.right+w.right)/S.x}}const yv=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:a,platform:l,elements:i,middlewareData:c}=t,{element:d,padding:u=0}=Sr(e,t)||{};if(d==null)return{};const f=Ju(u),g={x:r,y:n},p=Ol(o),w=Dl(p),v=await l.getDimensions(d),y=p==="y",N=y?"top":"left",_=y?"bottom":"right",j=y?"clientHeight":"clientWidth",S=a.reference[w]+a.reference[p]-g[p]-a.floating[w],E=g[p]-a.reference[p],D=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let I=D?D[j]:0;(!I||!await(l.isElement==null?void 0:l.isElement(D)))&&(I=i.floating[j]||a.floating[w]);const B=S/2-E/2,$=I/2-v[w]/2-1,q=Wr(f[N],$),Z=Wr(f[_],$),V=q,Y=I-v[w]-Z,L=I/2-v[w]/2+B,M=ll(V,L,Y),T=!c.arrow&&Qn(o)!=null&&L!==M&&a.reference[w]/2-(L<V?q:Z)-v[w]/2<0,A=T?L<V?L-V:L-Y:0;return{[p]:g[p]+A,data:{[p]:M,centerOffset:L-M-A,...T&&{alignmentOffset:A}},reset:T}}}),wv=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:a,rects:l,initialPlacement:i,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...y}=Sr(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const N=Er(o),_=zr(i),j=Er(i)===i,S=await(c.isRTL==null?void 0:c.isRTL(d.floating)),E=g||(j||!v?[zo(i)]:hv(i)),D=w!=="none";!g&&D&&E.push(...gv(i,v,w,S));const I=[i,...E],B=await _s(t,y),$=[];let q=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&$.push(B[N]),f){const L=mv(o,l,S);$.push(B[L[0]],B[L[1]])}if(q=[...q,{placement:o,overflows:$}],!$.every(L=>L<=0)){var Z,V;const L=(((Z=a.flip)==null?void 0:Z.index)||0)+1,M=I[L];if(M)return{data:{index:L,overflows:q},reset:{placement:M}};let T=(V=q.filter(A=>A.overflows[0]<=0).sort((A,P)=>A.overflows[1]-P.overflows[1])[0])==null?void 0:V.placement;if(!T)switch(p){case"bestFit":{var Y;const A=(Y=q.filter(P=>{if(D){const O=zr(P.placement);return O===_||O==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(O=>O>0).reduce((O,G)=>O+G,0)]).sort((P,O)=>P[1]-O[1])[0])==null?void 0:Y[0];A&&(T=A);break}case"initialPlacement":T=i;break}if(o!==T)return{reset:{placement:T}}}return{}}}};function Xc(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Qc(e){return dv.some(t=>e[t]>=0)}const bv=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=Sr(e,t);switch(n){case"referenceHidden":{const a=await _s(t,{...o,elementContext:"reference"}),l=Xc(a,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Qc(l)}}}case"escaped":{const a=await _s(t,{...o,altBoundary:!0}),l=Xc(a,r.floating);return{data:{escapedOffsets:l,escaped:Qc(l)}}}default:return{}}}}};async function _v(e,t){const{placement:r,platform:n,elements:o}=e,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),l=Er(r),i=Qn(r),c=zr(r)==="y",d=["left","top"].includes(l)?-1:1,u=a&&c?-1:1,f=Sr(t,e);let{mainAxis:g,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return i&&typeof w=="number"&&(p=i==="end"?w*-1:w),c?{x:p*u,y:g*d}:{x:g*d,y:p*u}}const Nv=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:a,placement:l,middlewareData:i}=t,c=await _v(t,e);return l===((r=i.offset)==null?void 0:r.placement)&&(n=i.arrow)!=null&&n.alignmentOffset?{}:{x:o+c.x,y:a+c.y,data:{...c,placement:l}}}}},jv=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:a=!0,crossAxis:l=!1,limiter:i={fn:y=>{let{x:N,y:_}=y;return{x:N,y:_}}},...c}=Sr(e,t),d={x:r,y:n},u=await _s(t,c),f=zr(Er(o)),g=Ml(f);let p=d[g],w=d[f];if(a){const y=g==="y"?"top":"left",N=g==="y"?"bottom":"right",_=p+u[y],j=p-u[N];p=ll(_,p,j)}if(l){const y=f==="y"?"top":"left",N=f==="y"?"bottom":"right",_=w+u[y],j=w-u[N];w=ll(_,w,j)}const v=i.fn({...t,[g]:p,[f]:w});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[g]:a,[f]:l}}}}}},Sv=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:a,middlewareData:l}=t,{offset:i=0,mainAxis:c=!0,crossAxis:d=!0}=Sr(e,t),u={x:r,y:n},f=zr(o),g=Ml(f);let p=u[g],w=u[f];const v=Sr(i,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const j=g==="y"?"height":"width",S=a.reference[g]-a.floating[j]+y.mainAxis,E=a.reference[g]+a.reference[j]-y.mainAxis;p<S?p=S:p>E&&(p=E)}if(d){var N,_;const j=g==="y"?"width":"height",S=["top","left"].includes(Er(o)),E=a.reference[f]-a.floating[j]+(S&&((N=l.offset)==null?void 0:N[f])||0)+(S?0:y.crossAxis),D=a.reference[f]+a.reference[j]+(S?0:((_=l.offset)==null?void 0:_[f])||0)-(S?y.crossAxis:0);w<E?w=E:w>D&&(w=D)}return{[g]:p,[f]:w}}}},Ev=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:a,platform:l,elements:i}=t,{apply:c=()=>{},...d}=Sr(e,t),u=await _s(t,d),f=Er(o),g=Qn(o),p=zr(o)==="y",{width:w,height:v}=a.floating;let y,N;f==="top"||f==="bottom"?(y=f,N=g===(await(l.isRTL==null?void 0:l.isRTL(i.floating))?"start":"end")?"left":"right"):(N=f,y=g==="end"?"top":"bottom");const _=v-u.top-u.bottom,j=w-u.left-u.right,S=Wr(v-u[y],_),E=Wr(w-u[N],j),D=!t.middlewareData.shift;let I=S,B=E;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(B=j),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(I=_),D&&!g){const q=Ct(u.left,0),Z=Ct(u.right,0),V=Ct(u.top,0),Y=Ct(u.bottom,0);p?B=w-2*(q!==0||Z!==0?q+Z:Ct(u.left,u.right)):I=v-2*(V!==0||Y!==0?V+Y:Ct(u.top,u.bottom))}await c({...t,availableWidth:B,availableHeight:I});const $=await l.getDimensions(i.floating);return w!==$.width||v!==$.height?{reset:{rects:!0}}:{}}}};function ya(){return typeof window<"u"}function Jn(e){return ef(e)?(e.nodeName||"").toLowerCase():"#document"}function At(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hr(e){var t;return(t=(ef(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ef(e){return ya()?e instanceof Node||e instanceof At(e).Node:!1}function Gt(e){return ya()?e instanceof Element||e instanceof At(e).Element:!1}function lr(e){return ya()?e instanceof HTMLElement||e instanceof At(e).HTMLElement:!1}function Jc(e){return!ya()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof At(e).ShadowRoot}function Ys(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=Zt(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(o)}function Cv(e){return["table","td","th"].includes(Jn(e))}function wa(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ll(e){const t=Fl(),r=Gt(e)?Zt(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Av(e){let t=Hr(e);for(;lr(t)&&!Bn(t);){if(Ll(t))return t;if(wa(t))return null;t=Hr(t)}return null}function Fl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bn(e){return["html","body","#document"].includes(Jn(e))}function Zt(e){return At(e).getComputedStyle(e)}function ba(e){return Gt(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Hr(e){if(Jn(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Jc(e)&&e.host||hr(e);return Jc(t)?t.host:t}function tf(e){const t=Hr(e);return Bn(t)?e.ownerDocument?e.ownerDocument.body:e.body:lr(t)&&Ys(t)?t:tf(t)}function Ns(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=tf(e),a=o===((n=e.ownerDocument)==null?void 0:n.body),l=At(o);if(a){const i=dl(l);return t.concat(l,l.visualViewport||[],Ys(o)?o:[],i&&r?Ns(i):[])}return t.concat(o,Ns(o,[],r))}function dl(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function rf(e){const t=Zt(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=lr(e),a=o?e.offsetWidth:r,l=o?e.offsetHeight:n,i=Wo(r)!==a||Wo(n)!==l;return i&&(r=a,n=l),{width:r,height:n,$:i}}function $l(e){return Gt(e)?e:e.contextElement}function Mn(e){const t=$l(e);if(!lr(t))return ar(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:a}=rf(t);let l=(a?Wo(r.width):r.width)/n,i=(a?Wo(r.height):r.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!i||!Number.isFinite(i))&&(i=1),{x:l,y:i}}const kv=ar(0);function nf(e){const t=At(e);return!Fl()||!t.visualViewport?kv:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Tv(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==At(e)?!1:t}function dn(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),a=$l(e);let l=ar(1);t&&(n?Gt(n)&&(l=Mn(n)):l=Mn(e));const i=Tv(a,r,n)?nf(a):ar(0);let c=(o.left+i.x)/l.x,d=(o.top+i.y)/l.y,u=o.width/l.x,f=o.height/l.y;if(a){const g=At(a),p=n&&Gt(n)?At(n):n;let w=g,v=dl(w);for(;v&&n&&p!==w;){const y=Mn(v),N=v.getBoundingClientRect(),_=Zt(v),j=N.left+(v.clientLeft+parseFloat(_.paddingLeft))*y.x,S=N.top+(v.clientTop+parseFloat(_.paddingTop))*y.y;c*=y.x,d*=y.y,u*=y.x,f*=y.y,c+=j,d+=S,w=At(v),v=dl(w)}}return Ho({width:u,height:f,x:c,y:d})}function Bl(e,t){const r=ba(e).scrollLeft;return t?t.left+r:dn(hr(e)).left+r}function sf(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),o=n.left+t.scrollLeft-(r?0:Bl(e,n)),a=n.top+t.scrollTop;return{x:o,y:a}}function Rv(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const a=o==="fixed",l=hr(n),i=t?wa(t.floating):!1;if(n===l||i&&a)return r;let c={scrollLeft:0,scrollTop:0},d=ar(1);const u=ar(0),f=lr(n);if((f||!f&&!a)&&((Jn(n)!=="body"||Ys(l))&&(c=ba(n)),lr(n))){const p=dn(n);d=Mn(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const g=l&&!f&&!a?sf(l,c,!0):ar(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+g.x,y:r.y*d.y-c.scrollTop*d.y+u.y+g.y}}function Pv(e){return Array.from(e.getClientRects())}function Iv(e){const t=hr(e),r=ba(e),n=e.ownerDocument.body,o=Ct(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Ct(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+Bl(e);const i=-r.scrollTop;return Zt(n).direction==="rtl"&&(l+=Ct(t.clientWidth,n.clientWidth)-o),{width:o,height:a,x:l,y:i}}function Mv(e,t){const r=At(e),n=hr(e),o=r.visualViewport;let a=n.clientWidth,l=n.clientHeight,i=0,c=0;if(o){a=o.width,l=o.height;const d=Fl();(!d||d&&t==="fixed")&&(i=o.offsetLeft,c=o.offsetTop)}return{width:a,height:l,x:i,y:c}}function Dv(e,t){const r=dn(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,a=lr(e)?Mn(e):ar(1),l=e.clientWidth*a.x,i=e.clientHeight*a.y,c=o*a.x,d=n*a.y;return{width:l,height:i,x:c,y:d}}function ed(e,t,r){let n;if(t==="viewport")n=Mv(e,r);else if(t==="document")n=Iv(hr(e));else if(Gt(t))n=Dv(t,r);else{const o=nf(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Ho(n)}function of(e,t){const r=Hr(e);return r===t||!Gt(r)||Bn(r)?!1:Zt(r).position==="fixed"||of(r,t)}function Ov(e,t){const r=t.get(e);if(r)return r;let n=Ns(e,[],!1).filter(i=>Gt(i)&&Jn(i)!=="body"),o=null;const a=Zt(e).position==="fixed";let l=a?Hr(e):e;for(;Gt(l)&&!Bn(l);){const i=Zt(l),c=Ll(l);!c&&i.position==="fixed"&&(o=null),(a?!c&&!o:!c&&i.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ys(l)&&!c&&of(e,l))?n=n.filter(u=>u!==l):o=i,l=Hr(l)}return t.set(e,n),n}function Lv(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const l=[...r==="clippingAncestors"?wa(t)?[]:Ov(t,this._c):[].concat(r),n],i=l[0],c=l.reduce((d,u)=>{const f=ed(t,u,o);return d.top=Ct(f.top,d.top),d.right=Wr(f.right,d.right),d.bottom=Wr(f.bottom,d.bottom),d.left=Ct(f.left,d.left),d},ed(t,i,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Fv(e){const{width:t,height:r}=rf(e);return{width:t,height:r}}function $v(e,t,r){const n=lr(t),o=hr(t),a=r==="fixed",l=dn(e,!0,a,t);let i={scrollLeft:0,scrollTop:0};const c=ar(0);if(n||!n&&!a)if((Jn(t)!=="body"||Ys(o))&&(i=ba(t)),n){const g=dn(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else o&&(c.x=Bl(o));const d=o&&!n&&!a?sf(o,i):ar(0),u=l.left+i.scrollLeft-c.x-d.x,f=l.top+i.scrollTop-c.y-d.y;return{x:u,y:f,width:l.width,height:l.height}}function ni(e){return Zt(e).position==="static"}function td(e,t){if(!lr(e)||Zt(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return hr(e)===r&&(r=r.ownerDocument.body),r}function af(e,t){const r=At(e);if(wa(e))return r;if(!lr(e)){let o=Hr(e);for(;o&&!Bn(o);){if(Gt(o)&&!ni(o))return o;o=Hr(o)}return r}let n=td(e,t);for(;n&&Cv(n)&&ni(n);)n=td(n,t);return n&&Bn(n)&&ni(n)&&!Ll(n)?r:n||Av(e)||r}const Bv=async function(e){const t=this.getOffsetParent||af,r=this.getDimensions,n=await r(e.floating);return{reference:$v(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Uv(e){return Zt(e).direction==="rtl"}const Vv={convertOffsetParentRelativeRectToViewportRelativeRect:Rv,getDocumentElement:hr,getClippingRect:Lv,getOffsetParent:af,getElementRects:Bv,getClientRects:Pv,getDimensions:Fv,getScale:Mn,isElement:Gt,isRTL:Uv};function lf(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Wv(e,t){let r=null,n;const o=hr(e);function a(){var i;clearTimeout(n),(i=r)==null||i.disconnect(),r=null}function l(i,c){i===void 0&&(i=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:f,width:g,height:p}=d;if(i||t(),!g||!p)return;const w=co(f),v=co(o.clientWidth-(u+g)),y=co(o.clientHeight-(f+p)),N=co(u),j={rootMargin:-w+"px "+-v+"px "+-y+"px "+-N+"px",threshold:Ct(0,Wr(1,c))||1};let S=!0;function E(D){const I=D[0].intersectionRatio;if(I!==c){if(!S)return l();I?l(!1,I):n=setTimeout(()=>{l(!1,1e-7)},1e3)}I===1&&!lf(d,e.getBoundingClientRect())&&l(),S=!1}try{r=new IntersectionObserver(E,{...j,root:o.ownerDocument})}catch{r=new IntersectionObserver(E,j)}r.observe(e)}return l(!0),a}function zv(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=$l(e),u=o||a?[...d?Ns(d):[],...Ns(t)]:[];u.forEach(N=>{o&&N.addEventListener("scroll",r,{passive:!0}),a&&N.addEventListener("resize",r)});const f=d&&i?Wv(d,r):null;let g=-1,p=null;l&&(p=new ResizeObserver(N=>{let[_]=N;_&&_.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var j;(j=p)==null||j.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let w,v=c?dn(e):null;c&&y();function y(){const N=dn(e);v&&!lf(v,N)&&r(),v=N,w=requestAnimationFrame(y)}return r(),()=>{var N;u.forEach(_=>{o&&_.removeEventListener("scroll",r),a&&_.removeEventListener("resize",r)}),f==null||f(),(N=p)==null||N.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const Hv=Nv,qv=jv,Yv=wv,Gv=Ev,Zv=bv,rd=yv,Kv=Sv,Xv=(e,t,r)=>{const n=new Map,o={platform:Vv,...r},a={...o.platform,_c:n};return vv(e,t,{...o,platform:a})};var Mo=typeof document<"u"?m.useLayoutEffect:m.useEffect;function qo(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!qo(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&e.$$typeof)&&!qo(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function cf(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nd(e,t){const r=cf(e);return Math.round(t*r)/r}function si(e){const t=m.useRef(e);return Mo(()=>{t.current=e}),t}function Qv(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:l}={},transform:i=!0,whileElementsMounted:c,open:d}=e,[u,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,p]=m.useState(n);qo(g,n)||p(n);const[w,v]=m.useState(null),[y,N]=m.useState(null),_=m.useCallback(P=>{P!==D.current&&(D.current=P,v(P))},[]),j=m.useCallback(P=>{P!==I.current&&(I.current=P,N(P))},[]),S=a||w,E=l||y,D=m.useRef(null),I=m.useRef(null),B=m.useRef(u),$=c!=null,q=si(c),Z=si(o),V=si(d),Y=m.useCallback(()=>{if(!D.current||!I.current)return;const P={placement:t,strategy:r,middleware:g};Z.current&&(P.platform=Z.current),Xv(D.current,I.current,P).then(O=>{const G={...O,isPositioned:V.current!==!1};L.current&&!qo(B.current,G)&&(B.current=G,zs.flushSync(()=>{f(G)}))})},[g,t,r,Z,V]);Mo(()=>{d===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[d]);const L=m.useRef(!1);Mo(()=>(L.current=!0,()=>{L.current=!1}),[]),Mo(()=>{if(S&&(D.current=S),E&&(I.current=E),S&&E){if(q.current)return q.current(S,E,Y);Y()}},[S,E,Y,q,$]);const M=m.useMemo(()=>({reference:D,floating:I,setReference:_,setFloating:j}),[_,j]),T=m.useMemo(()=>({reference:S,floating:E}),[S,E]),A=m.useMemo(()=>{const P={position:r,left:0,top:0};if(!T.floating)return P;const O=nd(T.floating,u.x),G=nd(T.floating,u.y);return i?{...P,transform:"translate("+O+"px, "+G+"px)",...cf(T.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:O,top:G}},[r,i,T.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:Y,refs:M,elements:T,floatingStyles:A}),[u,Y,M,T,A])}const Jv=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?rd({element:n.current,padding:o}).fn(r):{}:n?rd({element:n,padding:o}).fn(r):{}}}},ey=(e,t)=>({...Hv(e),options:[e,t]}),ty=(e,t)=>({...qv(e),options:[e,t]}),ry=(e,t)=>({...Kv(e),options:[e,t]}),ny=(e,t)=>({...Yv(e),options:[e,t]}),sy=(e,t)=>({...Gv(e),options:[e,t]}),oy=(e,t)=>({...Zv(e),options:[e,t]}),ay=(e,t)=>({...Jv(e),options:[e,t]});var iy="Arrow",df=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...a}=e;return s.jsx(Ce.svg,{...a,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});df.displayName=iy;var ly=df;function cy(e){const[t,r]=m.useState(void 0);return nt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let l,i;if("borderBoxSize"in a){const c=a.borderBoxSize,d=Array.isArray(c)?c[0]:c;l=d.inlineSize,i=d.blockSize}else l=e.offsetWidth,i=e.offsetHeight;r({width:l,height:i})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Ul="Popper",[uf,Kr]=Jt(Ul),[dy,ff]=uf(Ul),mf=e=>{const{__scopePopper:t,children:r}=e,[n,o]=m.useState(null);return s.jsx(dy,{scope:t,anchor:n,onAnchorChange:o,children:r})};mf.displayName=Ul;var hf="PopperAnchor",pf=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,a=ff(hf,r),l=m.useRef(null),i=Oe(t,l);return m.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:s.jsx(Ce.div,{...o,ref:i})});pf.displayName=hf;var Vl="PopperContent",[uy,fy]=uf(Vl),gf=m.forwardRef((e,t)=>{var Q,ue,ge,Ne,de,xe;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:a="center",alignOffset:l=0,arrowPadding:i=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:p="optimized",onPlaced:w,...v}=e,y=ff(Vl,r),[N,_]=m.useState(null),j=Oe(t,Re=>_(Re)),[S,E]=m.useState(null),D=cy(S),I=(D==null?void 0:D.width)??0,B=(D==null?void 0:D.height)??0,$=n+(a!=="center"?"-"+a:""),q=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},Z=Array.isArray(d)?d:[d],V=Z.length>0,Y={padding:q,boundary:Z.filter(hy),altBoundary:V},{refs:L,floatingStyles:M,placement:T,isPositioned:A,middlewareData:P}=Qv({strategy:"fixed",placement:$,whileElementsMounted:(...Re)=>zv(...Re,{animationFrame:p==="always"}),elements:{reference:y.anchor},middleware:[ey({mainAxis:o+B,alignmentAxis:l}),c&&ty({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?ry():void 0,...Y}),c&&ny({...Y}),sy({...Y,apply:({elements:Re,rects:ze,availableWidth:lt,availableHeight:Le})=>{const{width:Xe,height:Rt}=ze.reference,St=Re.floating.style;St.setProperty("--radix-popper-available-width",`${lt}px`),St.setProperty("--radix-popper-available-height",`${Le}px`),St.setProperty("--radix-popper-anchor-width",`${Xe}px`),St.setProperty("--radix-popper-anchor-height",`${Rt}px`)}}),S&&ay({element:S,padding:i}),py({arrowWidth:I,arrowHeight:B}),g&&oy({strategy:"referenceHidden",...Y})]}),[O,G]=yf(T),X=it(w);nt(()=>{A&&(X==null||X())},[A,X]);const ee=(Q=P.arrow)==null?void 0:Q.x,ce=(ue=P.arrow)==null?void 0:ue.y,oe=((ge=P.arrow)==null?void 0:ge.centerOffset)!==0,[Te,he]=m.useState();return nt(()=>{N&&he(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:A?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[(Ne=P.transformOrigin)==null?void 0:Ne.x,(de=P.transformOrigin)==null?void 0:de.y].join(" "),...((xe=P.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(uy,{scope:r,placedSide:O,onArrowChange:E,arrowX:ee,arrowY:ce,shouldHideArrow:oe,children:s.jsx(Ce.div,{"data-side":O,"data-align":G,...v,ref:j,style:{...v.style,animation:A?void 0:"none"}})})})});gf.displayName=Vl;var xf="PopperArrow",my={top:"bottom",right:"left",bottom:"top",left:"right"},vf=m.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,a=fy(xf,n),l=my[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(ly,{...o,ref:r,style:{...o.style,display:"block"}})})});vf.displayName=xf;function hy(e){return e!==null}var py=e=>({name:"transformOrigin",options:e,fn(t){var y,N,_;const{placement:r,rects:n,middlewareData:o}=t,l=((y=o.arrow)==null?void 0:y.centerOffset)!==0,i=l?0:e.arrowWidth,c=l?0:e.arrowHeight,[d,u]=yf(r),f={start:"0%",center:"50%",end:"100%"}[u],g=(((N=o.arrow)==null?void 0:N.x)??0)+i/2,p=(((_=o.arrow)==null?void 0:_.y)??0)+c/2;let w="",v="";return d==="bottom"?(w=l?f:`${g}px`,v=`${-c}px`):d==="top"?(w=l?f:`${g}px`,v=`${n.floating.height+c}px`):d==="right"?(w=`${-c}px`,v=l?f:`${p}px`):d==="left"&&(w=`${n.floating.width+c}px`,v=l?f:`${p}px`),{data:{x:w,y:v}}}});function yf(e){const[t,r="center"]=e.split("-");return[t,r]}var _a=mf,Gs=pf,Na=gf,ja=vf,gy="Portal",Sa=m.forwardRef((e,t)=>{var i;const{container:r,...n}=e,[o,a]=m.useState(!1);nt(()=>a(!0),[]);const l=r||o&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return l?Uu.createPortal(s.jsx(Ce.div,{...n,ref:t}),l):null});Sa.displayName=gy;function xy(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Tt=e=>{const{present:t,children:r}=e,n=vy(t),o=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=Oe(n.ref,yy(o));return typeof r=="function"||n.isPresent?m.cloneElement(o,{ref:a}):null};Tt.displayName="Presence";function vy(e){const[t,r]=m.useState(),n=m.useRef(null),o=m.useRef(e),a=m.useRef("none"),l=e?"mounted":"unmounted",[i,c]=xy(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const d=uo(n.current);a.current=i==="mounted"?d:"none"},[i]),nt(()=>{const d=n.current,u=o.current;if(u!==e){const g=a.current,p=uo(d);e?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&g!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,c]),nt(()=>{if(t){let d;const u=t.ownerDocument.defaultView??window,f=p=>{const v=uo(n.current).includes(p.animationName);if(p.target===t&&v&&(c("ANIMATION_END"),!o.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",d=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},g=p=>{p.target===t&&(a.current=uo(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:m.useCallback(d=>{n.current=d?getComputedStyle(d):null,r(d)},[])}}function uo(e){return(e==null?void 0:e.animationName)||"none"}function yy(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wy=Vu[" useInsertionEffect ".trim().toString()]||nt;function un({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,a,l]=by({defaultProp:t,onChange:r}),i=e!==void 0,c=i?e:o;{const u=m.useRef(e!==void 0);m.useEffect(()=>{const f=u.current;f!==i&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=i},[i,n])}const d=m.useCallback(u=>{var f;if(i){const g=_y(u)?u(e):u;g!==e&&((f=l.current)==null||f.call(l,g))}else a(u)},[i,e,a,l]);return[c,d]}function by({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),o=m.useRef(r),a=m.useRef(t);return wy(()=>{a.current=t},[t]),m.useEffect(()=>{var l;o.current!==r&&((l=a.current)==null||l.call(a,r),o.current=r)},[r,o]),[r,n,a]}function _y(e){return typeof e=="function"}var wf=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ny="VisuallyHidden",bf=m.forwardRef((e,t)=>s.jsx(Ce.span,{...e,ref:t,style:{...wf,...e.style}}));bf.displayName=Ny;var jy=bf,[Ea,vk]=Jt("Tooltip",[Kr]),Ca=Kr(),_f="TooltipProvider",Sy=700,ul="tooltip.open",[Ey,Wl]=Ea(_f),Nf=e=>{const{__scopeTooltip:t,delayDuration:r=Sy,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:a}=e,l=m.useRef(!0),i=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),s.jsx(Ey,{scope:t,isOpenDelayedRef:l,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),l.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:i,onPointerInTransitChange:m.useCallback(d=>{i.current=d},[]),disableHoverableContent:o,children:a})};Nf.displayName=_f;var js="Tooltip",[Cy,Aa]=Ea(js),jf=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:o,onOpenChange:a,disableHoverableContent:l,delayDuration:i}=e,c=Wl(js,e.__scopeTooltip),d=Ca(t),[u,f]=m.useState(null),g=jr(),p=m.useRef(0),w=l??c.disableHoverableContent,v=i??c.delayDuration,y=m.useRef(!1),[N,_]=un({prop:n,defaultProp:o??!1,onChange:I=>{I?(c.onOpen(),document.dispatchEvent(new CustomEvent(ul))):c.onClose(),a==null||a(I)},caller:js}),j=m.useMemo(()=>N?y.current?"delayed-open":"instant-open":"closed",[N]),S=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,_(!0)},[_]),E=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,_(!1)},[_]),D=m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,_(!0),p.current=0},v)},[v,_]);return m.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(_a,{...d,children:s.jsx(Cy,{scope:t,contentId:g,open:N,stateAttribute:j,trigger:u,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayedRef.current?D():S()},[c.isOpenDelayedRef,D,S]),onTriggerLeave:m.useCallback(()=>{w?E():(window.clearTimeout(p.current),p.current=0)},[E,w]),onOpen:S,onClose:E,disableHoverableContent:w,children:r})})};jf.displayName=js;var fl="TooltipTrigger",Sf=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=Aa(fl,r),a=Wl(fl,r),l=Ca(r),i=m.useRef(null),c=Oe(t,i,o.onTriggerChange),d=m.useRef(!1),u=m.useRef(!1),f=m.useCallback(()=>d.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Gs,{asChild:!0,...l,children:s.jsx(Ce.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:c,onPointerMove:ie(e.onPointerMove,g=>{g.pointerType!=="touch"&&!u.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),u.current=!0)}),onPointerLeave:ie(e.onPointerLeave,()=>{o.onTriggerLeave(),u.current=!1}),onPointerDown:ie(e.onPointerDown,()=>{o.open&&o.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ie(e.onFocus,()=>{d.current||o.onOpen()}),onBlur:ie(e.onBlur,o.onClose),onClick:ie(e.onClick,o.onClose)})})});Sf.displayName=fl;var Ay="TooltipPortal",[yk,ky]=Ea(Ay,{forceMount:void 0}),Un="TooltipContent",Ef=m.forwardRef((e,t)=>{const r=ky(Un,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...a}=e,l=Aa(Un,e.__scopeTooltip);return s.jsx(Tt,{present:n||l.open,children:l.disableHoverableContent?s.jsx(Cf,{side:o,...a,ref:t}):s.jsx(Ty,{side:o,...a,ref:t})})}),Ty=m.forwardRef((e,t)=>{const r=Aa(Un,e.__scopeTooltip),n=Wl(Un,e.__scopeTooltip),o=m.useRef(null),a=Oe(t,o),[l,i]=m.useState(null),{trigger:c,onClose:d}=r,u=o.current,{onPointerInTransitChange:f}=n,g=m.useCallback(()=>{i(null),f(!1)},[f]),p=m.useCallback((w,v)=>{const y=w.currentTarget,N={x:w.clientX,y:w.clientY},_=Dy(N,y.getBoundingClientRect()),j=Oy(N,_),S=Ly(v.getBoundingClientRect()),E=$y([...j,...S]);i(E),f(!0)},[f]);return m.useEffect(()=>()=>g(),[g]),m.useEffect(()=>{if(c&&u){const w=y=>p(y,u),v=y=>p(y,c);return c.addEventListener("pointerleave",w),u.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",w),u.removeEventListener("pointerleave",v)}}},[c,u,p,g]),m.useEffect(()=>{if(l){const w=v=>{const y=v.target,N={x:v.clientX,y:v.clientY},_=(c==null?void 0:c.contains(y))||(u==null?void 0:u.contains(y)),j=!Fy(N,l);_?g():j&&(g(),d())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,u,l,d,g]),s.jsx(Cf,{...e,ref:a})}),[Ry,Py]=Ea(js,{isInside:!1}),Iy=Zx("TooltipContent"),Cf=m.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:l,...i}=e,c=Aa(Un,r),d=Ca(r),{onClose:u}=c;return m.useEffect(()=>(document.addEventListener(ul,u),()=>document.removeEventListener(ul,u)),[u]),m.useEffect(()=>{if(c.trigger){const f=g=>{const p=g.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,u]),s.jsx(qs,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:s.jsxs(Na,{"data-state":c.stateAttribute,...d,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Iy,{children:n}),s.jsx(Ry,{scope:r,isInside:!0,children:s.jsx(jy,{id:c.contentId,role:"tooltip",children:o||n})})]})})});Ef.displayName=Un;var Af="TooltipArrow",My=m.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=Ca(r);return Py(Af,r).isInside?null:s.jsx(ja,{...o,...n,ref:t})});My.displayName=Af;function Dy(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,o,a)){case a:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Oy(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Ly(e){const{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}function Fy(e,t){const{x:r,y:n}=e;let o=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const i=t[a],c=t[l],d=i.x,u=i.y,f=c.x,g=c.y;u>n!=g>n&&r<(f-d)*(n-u)/(g-u)+d&&(o=!o)}return o}function $y(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),By(t)}function By(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const a=t[t.length-1],l=t[t.length-2];if((a.x-l.x)*(o.y-l.y)>=(a.y-l.y)*(o.x-l.x))t.pop();else break}t.push(o)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;r.length>=2;){const a=r[r.length-1],l=r[r.length-2];if((a.x-l.x)*(o.y-l.y)>=(a.y-l.y)*(o.x-l.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Uy=Nf,Vy=jf,Wy=Sf,kf=Ef;function Tf(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=Tf(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Rf(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=Tf(e))&&(n&&(n+=" "),n+=t);return n}const zl="-",zy=e=>{const t=qy(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:l=>{const i=l.split(zl);return i[0]===""&&i.length!==1&&i.shift(),Pf(i,t)||Hy(l)},getConflictingClassGroupIds:(l,i)=>{const c=r[l]||[];return i&&n[l]?[...c,...n[l]]:c}}},Pf=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),o=n?Pf(e.slice(1),n):void 0;if(o)return o;if(t.validators.length===0)return;const a=e.join(zl);return(l=t.validators.find(({validator:i})=>i(a)))==null?void 0:l.classGroupId},sd=/^\[(.+)\]$/,Hy=e=>{if(sd.test(e)){const t=sd.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},qy=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Gy(Object.entries(e.classGroups),r).forEach(([a,l])=>{ml(l,n,a,t)}),n},ml=(e,t,r,n)=>{e.forEach(o=>{if(typeof o=="string"){const a=o===""?t:od(t,o);a.classGroupId=r;return}if(typeof o=="function"){if(Yy(o)){ml(o(n),t,r,n);return}t.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,l])=>{ml(l,od(t,a),r,n)})})},od=(e,t)=>{let r=e;return t.split(zl).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Yy=e=>e.isThemeGetter,Gy=(e,t)=>t?e.map(([r,n])=>{const o=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,i])=>[t+l,i])):a);return[r,o]}):e,Zy=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const o=(a,l)=>{r.set(a,l),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return o(a,l),l},set(a,l){r.has(a)?r.set(a,l):o(a,l)}}},If="!",Ky=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,o=t[0],a=t.length,l=i=>{const c=[];let d=0,u=0,f;for(let y=0;y<i.length;y++){let N=i[y];if(d===0){if(N===o&&(n||i.slice(y,y+a)===t)){c.push(i.slice(u,y)),u=y+a;continue}if(N==="/"){f=y;continue}}N==="["?d++:N==="]"&&d--}const g=c.length===0?i:i.substring(u),p=g.startsWith(If),w=p?g.substring(1):g,v=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:v}};return r?i=>r({className:i,parseClassName:l}):l},Xy=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Qy=e=>({cache:Zy(e.cacheSize),parseClassName:Ky(e),...zy(e)}),Jy=/\s+/,ew=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=t,a=[],l=e.trim().split(Jy);let i="";for(let c=l.length-1;c>=0;c-=1){const d=l[c],{modifiers:u,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}=r(d);let w=!!p,v=n(w?g.substring(0,p):g);if(!v){if(!w){i=d+(i.length>0?" "+i:i);continue}if(v=n(g),!v){i=d+(i.length>0?" "+i:i);continue}w=!1}const y=Xy(u).join(":"),N=f?y+If:y,_=N+v;if(a.includes(_))continue;a.push(_);const j=o(v,w);for(let S=0;S<j.length;++S){const E=j[S];a.push(N+E)}i=d+(i.length>0?" "+i:i)}return i};function tw(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Mf(t))&&(n&&(n+=" "),n+=r);return n}const Mf=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Mf(e[n]))&&(r&&(r+=" "),r+=t);return r};function rw(e,...t){let r,n,o,a=l;function l(c){const d=t.reduce((u,f)=>f(u),e());return r=Qy(d),n=r.cache.get,o=r.cache.set,a=i,i(c)}function i(c){const d=n(c);if(d)return d;const u=ew(c,r);return o(c,u),u}return function(){return a(tw.apply(null,arguments))}}const Ge=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Df=/^\[(?:([a-z-]+):)?(.+)\]$/i,nw=/^\d+\/\d+$/,sw=new Set(["px","full","screen"]),ow=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,vr=e=>Dn(e)||sw.has(e)||nw.test(e),Mr=e=>es(e,"length",xw),Dn=e=>!!e&&!Number.isNaN(Number(e)),oi=e=>es(e,"number",Dn),as=e=>!!e&&Number.isInteger(Number(e)),dw=e=>e.endsWith("%")&&Dn(e.slice(0,-1)),Pe=e=>Df.test(e),Dr=e=>ow.test(e),uw=new Set(["length","size","percentage"]),fw=e=>es(e,uw,Of),mw=e=>es(e,"position",Of),hw=new Set(["image","url"]),pw=e=>es(e,hw,yw),gw=e=>es(e,"",vw),is=()=>!0,es=(e,t,r)=>{const n=Df.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},xw=e=>aw.test(e)&&!iw.test(e),Of=()=>!1,vw=e=>lw.test(e),yw=e=>cw.test(e),ww=()=>{const e=Ge("colors"),t=Ge("spacing"),r=Ge("blur"),n=Ge("brightness"),o=Ge("borderColor"),a=Ge("borderRadius"),l=Ge("borderSpacing"),i=Ge("borderWidth"),c=Ge("contrast"),d=Ge("grayscale"),u=Ge("hueRotate"),f=Ge("invert"),g=Ge("gap"),p=Ge("gradientColorStops"),w=Ge("gradientColorStopPositions"),v=Ge("inset"),y=Ge("margin"),N=Ge("opacity"),_=Ge("padding"),j=Ge("saturate"),S=Ge("scale"),E=Ge("sepia"),D=Ge("skew"),I=Ge("space"),B=Ge("translate"),$=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",Pe,t],V=()=>[Pe,t],Y=()=>["",vr,Mr],L=()=>["auto",Dn,Pe],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],A=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],O=()=>["","0",Pe],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Dn,Pe];return{cacheSize:500,separator:":",theme:{colors:[is],spacing:[vr,Mr],blur:["none","",Dr,Pe],brightness:X(),borderColor:[e],borderRadius:["none","","full",Dr,Pe],borderSpacing:V(),borderWidth:Y(),contrast:X(),grayscale:O(),hueRotate:X(),invert:O(),gap:V(),gradientColorStops:[e],gradientColorStopPositions:[dw,Mr],inset:Z(),margin:Z(),opacity:X(),padding:V(),saturate:X(),scale:X(),sepia:O(),skew:X(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Pe]}],container:["container"],columns:[{columns:[Dr]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Pe]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",as,Pe]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pe]}],grow:[{grow:O()}],shrink:[{shrink:O()}],order:[{order:["first","last","none",as,Pe]}],"grid-cols":[{"grid-cols":[is]}],"col-start-end":[{col:["auto",{span:["full",as,Pe]},Pe]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[is]}],"row-start-end":[{row:["auto",{span:[as,Pe]},Pe]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pe]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pe,t]}],"min-w":[{"min-w":[Pe,t,"min","max","fit"]}],"max-w":[{"max-w":[Pe,t,"none","full","min","max","fit","prose",{screen:[Dr]},Dr]}],h:[{h:[Pe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Dr,Mr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",oi]}],"font-family":[{font:[is]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pe]}],"line-clamp":[{"line-clamp":["none",Dn,oi]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",vr,Pe]}],"list-image":[{"list-image":["none",Pe]}],"list-style-type":[{list:["none","disc","decimal",Pe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",vr,Mr]}],"underline-offset":[{"underline-offset":["auto",vr,Pe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),mw]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pw]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:T()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[vr,Pe]}],"outline-w":[{outline:[vr,Mr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[vr,Mr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Dr,gw]}],"shadow-color":[{shadow:[is]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...A(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":A()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Dr,Pe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pe]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",Pe]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[as,Pe]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[vr,Mr,oi]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bw=rw(ww);function je(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _t(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function pt(e,t){const r=je(e);return isNaN(t)?_t(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Kt(e,t){const r=je(e);if(isNaN(t))return _t(e,NaN);if(!t)return r;const n=r.getDate(),o=_t(e,r.getTime());o.setMonth(r.getMonth()+t+1,0);const a=o.getDate();return n>=a?o:(r.setFullYear(o.getFullYear(),o.getMonth(),n),r)}const Hl=6048e5,_w=864e5,Lf=6e4,Ff=36e5,fo=43200,ad=1440;let Nw={};function ts(){return Nw}function cr(e,t){var i,c,d,u;const r=ts(),n=(t==null?void 0:t.weekStartsOn)??((c=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,o=je(e),a=o.getDay(),l=(a<n?7:0)+a-n;return o.setDate(o.getDate()-l),o.setHours(0,0,0,0),o}function fn(e){return cr(e,{weekStartsOn:1})}function $f(e){const t=je(e),r=t.getFullYear(),n=_t(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const o=fn(n),a=_t(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=fn(a);return t.getTime()>=o.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1}function Vn(e){const t=je(e);return t.setHours(0,0,0,0),t}function Wn(e){const t=je(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function sr(e,t){const r=Vn(e),n=Vn(t),o=+r-Wn(r),a=+n-Wn(n);return Math.round((o-a)/_w)}function jw(e){const t=$f(e),r=_t(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),fn(r)}function hl(e,t){const r=t*7;return pt(e,r)}function Sw(e,t){return Kt(e,t*12)}function Ew(e){let t;return e.forEach(function(r){const n=je(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Cw(e){let t;return e.forEach(r=>{const n=je(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Do(e,t){const r=je(e),n=je(t),o=r.getTime()-n.getTime();return o<0?-1:o>0?1:o}function Aw(e){return _t(e,Date.now())}function wt(e,t){const r=Vn(e),n=Vn(t);return+r==+n}function ql(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kw(e){if(!ql(e)&&typeof e!="number")return!1;const t=je(e);return!isNaN(Number(t))}function zn(e,t){const r=je(e),n=je(t),o=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return o*12+a}function Tw(e,t,r){const n=cr(e,r),o=cr(t,r),a=+n-Wn(n),l=+o-Wn(o);return Math.round((a-l)/Hl)}function Rw(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Pw(e,t){return+je(e)-+je(t)}function Iw(e){const t=je(e);return t.setHours(23,59,59,999),t}function ka(e){const t=je(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Mw(e){const t=je(e);return+Iw(t)==+ka(t)}function Dw(e,t){const r=je(e),n=je(t),o=Do(r,n),a=Math.abs(zn(r,n));let l;if(a<1)l=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*a);let i=Do(r,n)===-o;Mw(je(e))&&a===1&&Do(e,n)===1&&(i=!1),l=o*(a-Number(i))}return l===0?0:l}function Ow(e,t,r){const n=Pw(e,t)/1e3;return Rw(r==null?void 0:r.roundingMethod)(n)}function bt(e){const t=je(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Bf(e){const t=je(e),r=_t(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Yl(e,t){var i,c,d,u;const r=ts(),n=(t==null?void 0:t.weekStartsOn)??((c=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,o=je(e),a=o.getDay(),l=(a<n?-7:0)+6-(a-n);return o.setDate(o.getDate()+l),o.setHours(23,59,59,999),o}function Uf(e){return Yl(e,{weekStartsOn:1})}const Lw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fw=(e,t,r)=>{let n;const o=Lw[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ai(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const $w={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Uw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Vw={date:ai({formats:$w,defaultWidth:"full"}),time:ai({formats:Bw,defaultWidth:"full"}),dateTime:ai({formats:Uw,defaultWidth:"full"})},Ww={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},zw=(e,t,r,n)=>Ww[e];function ls(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let o;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,i=r!=null&&r.width?String(r.width):l;o=e.formattingValues[i]||e.formattingValues[l]}else{const l=e.defaultWidth,i=r!=null&&r.width?String(r.width):e.defaultWidth;o=e.values[i]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return o[a]}}const Hw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xw=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Qw={ordinalNumber:Xw,era:ls({values:Hw,defaultWidth:"wide"}),quarter:ls({values:qw,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ls({values:Yw,defaultWidth:"wide"}),day:ls({values:Gw,defaultWidth:"wide"}),dayPeriod:ls({values:Zw,defaultWidth:"wide",formattingValues:Kw,defaultFormattingWidth:"wide"})};function cs(e){return(t,r={})=>{const n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;const l=a[0],i=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(i)?eb(i,f=>f.test(l)):Jw(i,f=>f.test(l));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(l.length);return{value:d,rest:u}}}function Jw(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function eb(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function tb(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const o=n[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=r.valueCallback?r.valueCallback(l):l;const i=t.slice(o.length);return{value:l,rest:i}}}const rb=/^(\d+)(th|st|nd|rd)?/i,nb=/\d+/i,sb={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ob={any:[/^b/i,/^(a|c)/i]},ab={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ib={any:[/1/i,/2/i,/3/i,/4/i]},lb={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cb={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},db={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ub={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fb={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mb={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hb={ordinalNumber:tb({matchPattern:rb,parsePattern:nb,valueCallback:e=>parseInt(e,10)}),era:cs({matchPatterns:sb,defaultMatchWidth:"wide",parsePatterns:ob,defaultParseWidth:"any"}),quarter:cs({matchPatterns:ab,defaultMatchWidth:"wide",parsePatterns:ib,defaultParseWidth:"any",valueCallback:e=>e+1}),month:cs({matchPatterns:lb,defaultMatchWidth:"wide",parsePatterns:cb,defaultParseWidth:"any"}),day:cs({matchPatterns:db,defaultMatchWidth:"wide",parsePatterns:ub,defaultParseWidth:"any"}),dayPeriod:cs({matchPatterns:fb,defaultMatchWidth:"any",parsePatterns:mb,defaultParseWidth:"any"})},Gl={code:"en-US",formatDistance:Fw,formatLong:Vw,formatRelative:zw,localize:Qw,match:hb,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pb(e){const t=je(e);return sr(t,Bf(t))+1}function Vf(e){const t=je(e),r=+fn(t)-+jw(t);return Math.round(r/Hl)+1}function Wf(e,t){var u,f,g,p;const r=je(e),n=r.getFullYear(),o=ts(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??o.firstWeekContainsDate??((p=(g=o.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,l=_t(e,0);l.setFullYear(n+1,0,a),l.setHours(0,0,0,0);const i=cr(l,t),c=_t(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const d=cr(c,t);return r.getTime()>=i.getTime()?n+1:r.getTime()>=d.getTime()?n:n-1}function gb(e,t){var i,c,d,u;const r=ts(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(i=t==null?void 0:t.locale)==null?void 0:i.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,o=Wf(e,t),a=_t(e,0);return a.setFullYear(o,0,n),a.setHours(0,0,0,0),cr(a,t)}function zf(e,t){const r=je(e),n=+cr(r,t)-+gb(r,t);return Math.round(n/Hl)+1}function Be(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Or={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Be(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Be(r+1,2)},d(e,t){return Be(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Be(e.getHours()%12||12,t.length)},H(e,t){return Be(e.getHours(),t.length)},m(e,t){return Be(e.getMinutes(),t.length)},s(e,t){return Be(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),o=Math.trunc(n*Math.pow(10,r-3));return Be(o,t.length)}},Nn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},id={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),o=n>0?n:1-n;return r.ordinalNumber(o,{unit:"year"})}return Or.y(e,t)},Y:function(e,t,r,n){const o=Wf(e,n),a=o>0?o:1-o;if(t==="YY"){const l=a%100;return Be(l,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Be(a,t.length)},R:function(e,t){const r=$f(e);return Be(r,t.length)},u:function(e,t){const r=e.getFullYear();return Be(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Be(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Be(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Or.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Be(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const o=zf(e,n);return t==="wo"?r.ordinalNumber(o,{unit:"week"}):Be(o,t.length)},I:function(e,t,r){const n=Vf(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Be(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Or.d(e,t)},D:function(e,t,r){const n=pb(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Be(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const o=e.getDay(),a=(o-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Be(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const o=e.getDay(),a=(o-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Be(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),o=n===0?7:n;switch(t){case"i":return String(o);case"ii":return Be(o,t.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const o=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let o;switch(n===12?o=Nn.noon:n===0?o=Nn.midnight:o=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let o;switch(n>=17?o=Nn.evening:n>=12?o=Nn.afternoon:n>=4?o=Nn.morning:o=Nn.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Or.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Or.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Be(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Be(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Or.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Or.s(e,t)},S:function(e,t){return Or.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return cd(n);case"XXXX":case"XX":return tn(n);case"XXXXX":case"XXX":default:return tn(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return cd(n);case"xxxx":case"xx":return tn(n);case"xxxxx":case"xxx":default:return tn(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ld(n,":");case"OOOO":default:return"GMT"+tn(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ld(n,":");case"zzzz":default:return"GMT"+tn(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Be(n,t.length)},T:function(e,t,r){const n=e.getTime();return Be(n,t.length)}};function ld(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Math.trunc(n/60),a=n%60;return a===0?r+String(o):r+String(o)+t+Be(a,2)}function cd(e,t){return e%60===0?(e>0?"-":"+")+Be(Math.abs(e)/60,2):tn(e,t)}function tn(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),o=Be(Math.trunc(n/60),2),a=Be(n%60,2);return r+o+t+a}const dd=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Hf=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},xb=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],o=r[2];if(!o)return dd(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",dd(n,t)).replace("{{time}}",Hf(o,t))},vb={p:Hf,P:xb},yb=/^D+$/,wb=/^Y+$/,bb=["D","DD","YY","YYYY"];function _b(e){return yb.test(e)}function Nb(e){return wb.test(e)}function jb(e,t,r){const n=Sb(e,t,r);if(console.warn(n),bb.includes(e))throw new RangeError(n)}function Sb(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Eb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ab=/^'([^]*?)'?$/,kb=/''/g,Tb=/[a-zA-Z]/;function Dt(e,t,r){var u,f,g,p,w,v,y,N;const n=ts(),o=(r==null?void 0:r.locale)??n.locale??Gl,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(g=n.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((v=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((N=(y=n.locale)==null?void 0:y.options)==null?void 0:N.weekStartsOn)??0,i=je(e);if(!kw(i))throw new RangeError("Invalid time value");let c=t.match(Cb).map(_=>{const j=_[0];if(j==="p"||j==="P"){const S=vb[j];return S(_,o.formatLong)}return _}).join("").match(Eb).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const j=_[0];if(j==="'")return{isToken:!1,value:Rb(_)};if(id[j])return{isToken:!0,value:_};if(j.match(Tb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:_}});o.localize.preprocessor&&(c=o.localize.preprocessor(i,c));const d={firstWeekContainsDate:a,weekStartsOn:l,locale:o};return c.map(_=>{if(!_.isToken)return _.value;const j=_.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Nb(j)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&_b(j))&&jb(j,t,String(e));const S=id[j[0]];return S(i,j,o.localize,d)}).join("")}function Rb(e){const t=e.match(Ab);return t?t[1].replace(kb,"'"):e}function Pb(e,t,r){const n=ts(),o=(r==null?void 0:r.locale)??n.locale??Gl,a=2520,l=Do(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const i=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:l});let c,d;l>0?(c=je(t),d=je(e)):(c=je(e),d=je(t));const u=Ow(d,c),f=(Wn(d)-Wn(c))/1e3,g=Math.round((u-f)/60);let p;if(g<2)return r!=null&&r.includeSeconds?u<5?o.formatDistance("lessThanXSeconds",5,i):u<10?o.formatDistance("lessThanXSeconds",10,i):u<20?o.formatDistance("lessThanXSeconds",20,i):u<40?o.formatDistance("halfAMinute",0,i):u<60?o.formatDistance("lessThanXMinutes",1,i):o.formatDistance("xMinutes",1,i):g===0?o.formatDistance("lessThanXMinutes",1,i):o.formatDistance("xMinutes",g,i);if(g<45)return o.formatDistance("xMinutes",g,i);if(g<90)return o.formatDistance("aboutXHours",1,i);if(g<ad){const w=Math.round(g/60);return o.formatDistance("aboutXHours",w,i)}else{if(g<a)return o.formatDistance("xDays",1,i);if(g<fo){const w=Math.round(g/ad);return o.formatDistance("xDays",w,i)}else if(g<fo*2)return p=Math.round(g/fo),o.formatDistance("aboutXMonths",p,i)}if(p=Dw(d,c),p<12){const w=Math.round(g/fo);return o.formatDistance("xMonths",w,i)}else{const w=p%12,v=Math.trunc(p/12);return w<3?o.formatDistance("aboutXYears",v,i):w<9?o.formatDistance("overXYears",v,i):o.formatDistance("almostXYears",v+1,i)}}function Ib(e,t){return Pb(e,Aw(e),t)}function Mb(e){const t=je(e),r=t.getFullYear(),n=t.getMonth(),o=_t(e,0);return o.setFullYear(r,n+1,0),o.setHours(0,0,0,0),o.getDate()}function Db(e){return Math.trunc(+je(e)/1e3)}function Ob(e){const t=je(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Lb(e,t){return Tw(Ob(e),bt(e),t)+1}function pl(e,t){const r=je(e),n=je(t);return r.getTime()>n.getTime()}function qf(e,t){const r=je(e),n=je(t);return+r<+n}function Fb(e){return+je(e)<Date.now()}function Zl(e,t){const r=je(e),n=je(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function $b(e,t){const r=je(e),n=je(t);return r.getFullYear()===n.getFullYear()}function ii(e,t){return pt(e,-t)}function Bb(e,t){const n=zb(e);let o;if(n.date){const c=Hb(n.date,2);o=qb(c.restDateString,c.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const a=o.getTime();let l=0,i;if(n.time&&(l=Yb(n.time),isNaN(l)))return new Date(NaN);if(n.timezone){if(i=Gb(n.timezone),isNaN(i))return new Date(NaN)}else{const c=new Date(a+l),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(a+l+i)}const mo={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ub=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Vb=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Wb=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zb(e){const t={},r=e.split(mo.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],mo.timeZoneDelimiter.test(t.date)&&(t.date=e.split(mo.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const o=mo.timezone.exec(n);o?(t.time=n.replace(o[1],""),t.timezone=o[1]):t.time=n}return t}function Hb(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const o=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?o:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function qb(e,t){if(t===null)return new Date(NaN);const r=e.match(Ub);if(!r)return new Date(NaN);const n=!!r[4],o=ds(r[1]),a=ds(r[2])-1,l=ds(r[3]),i=ds(r[4]),c=ds(r[5])-1;if(n)return Jb(t,i,c)?Zb(t,i,c):new Date(NaN);{const d=new Date(0);return!Xb(t,a,l)||!Qb(t,o)?new Date(NaN):(d.setUTCFullYear(t,a,Math.max(o,l)),d)}}function ds(e){return e?parseInt(e):1}function Yb(e){const t=e.match(Vb);if(!t)return NaN;const r=li(t[1]),n=li(t[2]),o=li(t[3]);return e0(r,n,o)?r*Ff+n*Lf+o*1e3:NaN}function li(e){return e&&parseFloat(e.replace(",","."))||0}function Gb(e){if(e==="Z")return 0;const t=e.match(Wb);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return t0(n,o)?r*(n*Ff+o*Lf):NaN}function Zb(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const o=n.getUTCDay()||7,a=(t-1)*7+r+1-o;return n.setUTCDate(n.getUTCDate()+a),n}const Kb=[31,null,31,30,31,30,31,31,30,31,30,31];function Yf(e){return e%400===0||e%4===0&&e%100!==0}function Xb(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Kb[t]||(Yf(e)?29:28))}function Qb(e,t){return t>=1&&t<=(Yf(e)?366:365)}function Jb(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function e0(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function t0(e,t){return t>=0&&t<=59}function ci(e,t){const r=je(e),n=r.getFullYear(),o=r.getDate(),a=_t(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const l=Mb(a);return r.setMonth(t,Math.min(o,l)),r}function ud(e,t){const r=je(e);return isNaN(+r)?_t(e,NaN):(r.setFullYear(t),r)}function ae(...e){return bw(Rf(e))}function fd(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function r0(e){const{artistName:t,cityName:r,date:n,showId:o,setlistId:a}=e,l=typeof n=="string"?new Date(n):n,i=Dt(l,"yyyy-MM-dd"),c=fd(t),d=fd(r);let u=`/artists/${c}/${d}-${i}`;return u+=`/show-${o}`,a&&(u+=`/setlist-${a}`),u}function n0(e,t=!1){try{const r=new Date(e);return isNaN(r.getTime())?e:t?Dt(r,"EEEE, MMMM d, yyyy"):Dt(r,"MMMM d, yyyy")}catch{return e}}function s0(e,t,r){if(!e&&!t&&!r)return"No venue information";const n=t&&r?`${t}, ${r}`:t||r||"";return e?`${e}${n?` - ${n}`:""}`:n}const Kl=Uy,Gf=Vy,Zf=Wy,Xl=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(kf,{ref:n,sideOffset:t,className:ae("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Xl.displayName=kf.displayName;var Kf={};const Yo=typeof process<"u"&&Kf&&"https://kzjnkqeosrycfpxjwhil.supabase.co",Go=typeof process<"u"&&Kf&&"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6am5rcWVvc3J5Y2ZweGp3aGlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ5OTg2NjAsImV4cCI6MjA2MDU3NDY2MH0.og8tRo6fxlIFx-oxgREtUauho9kdNVSYQemHgaEe4dU";if(!Yo||!Go)throw console.error("Missing Supabase environment variables:",{SUPABASE_URL:Yo,SUPABASE_ANON_KEY:Go}),new Error("Supabase environment variables are required");const o0=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),a0=()=>(console.log("Initializing Supabase client with:",{SUPABASE_URL:Yo,SUPABASE_ANON_KEY:Go}),Hs(Yo,Go,{auth:{flowType:"pkce",detectSessionInUrl:!0,autoRefreshToken:!0,persistSession:!0,storage:typeof window<"u"?window.localStorage:void 0},realtime:{params:{eventsPerSecond:10}},global:{headers:{"x-application-name":o0?"theset-local":"theset-prod"}}})),ye=a0();ye.auth.onAuthStateChange((e,t)=>{t&&console.log("User authenticated, realtime subscriptions enabled")});var Xf={},Qf={},Jf={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];if(typeof window<"u"){var i;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(i=window).gtag.apply(i,a)}},r=t;e.default=r})(Jf);var em={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function r(i){return i.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(c,d,u){return d>0&&d+c.length!==u.length&&c.search(t)>-1&&u.charAt(d-2)!==":"&&(u.charAt(d+c.length)!=="-"||u.charAt(d-1)==="-")&&u.charAt(d-1).search(/[^\s-]/)<0?c.toLowerCase():c.substr(1).search(/[A-Z]|\../)>-1?c:c.charAt(0).toUpperCase()+c.substr(1)})}function n(i){return typeof i=="string"&&i.indexOf("@")!==-1}var o="REDACTED (Potential Email Address)";function a(i){return n(i)?(console.warn("This arg looks like an email address, redacting."),o):i}function l(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=i||"";return c&&(u=r(i)),d&&(u=a(u)),u}})(em);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=l(Jf),r=l(em),n=["eventCategory","eventAction","eventLabel","eventValue","hitType"],o=["title","location"],a=["page","hitType"];function l(L){return L&&L.__esModule?L:{default:L}}function i(L,M){if(L==null)return{};var T=c(L,M),A,P;if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(L);for(P=0;P<O.length;P++)A=O[P],!(M.indexOf(A)>=0)&&Object.prototype.propertyIsEnumerable.call(L,A)&&(T[A]=L[A])}return T}function c(L,M){if(L==null)return{};var T={},A=Object.keys(L),P,O;for(O=0;O<A.length;O++)P=A[O],!(M.indexOf(P)>=0)&&(T[P]=L[P]);return T}function d(L){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},d(L)}function u(L){return p(L)||g(L)||_(L)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(L){if(typeof Symbol<"u"&&L[Symbol.iterator]!=null||L["@@iterator"]!=null)return Array.from(L)}function p(L){if(Array.isArray(L))return j(L)}function w(L,M){var T=Object.keys(L);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(L);M&&(A=A.filter(function(P){return Object.getOwnPropertyDescriptor(L,P).enumerable})),T.push.apply(T,A)}return T}function v(L){for(var M=1;M<arguments.length;M++){var T=arguments[M]!=null?arguments[M]:{};M%2?w(Object(T),!0).forEach(function(A){$(L,A,T[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(T)):w(Object(T)).forEach(function(A){Object.defineProperty(L,A,Object.getOwnPropertyDescriptor(T,A))})}return L}function y(L,M){return E(L)||S(L,M)||_(L,M)||N()}function N(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(L,M){if(L){if(typeof L=="string")return j(L,M);var T=Object.prototype.toString.call(L).slice(8,-1);if(T==="Object"&&L.constructor&&(T=L.constructor.name),T==="Map"||T==="Set")return Array.from(L);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return j(L,M)}}function j(L,M){(M==null||M>L.length)&&(M=L.length);for(var T=0,A=new Array(M);T<M;T++)A[T]=L[T];return A}function S(L,M){var T=L==null?null:typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(T!=null){var A,P,O,G,X=[],ee=!0,ce=!1;try{if(O=(T=T.call(L)).next,M!==0)for(;!(ee=(A=O.call(T)).done)&&(X.push(A.value),X.length!==M);ee=!0);}catch(oe){ce=!0,P=oe}finally{try{if(!ee&&T.return!=null&&(G=T.return(),Object(G)!==G))return}finally{if(ce)throw P}}return X}}function E(L){if(Array.isArray(L))return L}function D(L,M){if(!(L instanceof M))throw new TypeError("Cannot call a class as a function")}function I(L,M){for(var T=0;T<M.length;T++){var A=M[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(L,q(A.key),A)}}function B(L,M,T){return M&&I(L.prototype,M),Object.defineProperty(L,"prototype",{writable:!1}),L}function $(L,M,T){return M=q(M),M in L?Object.defineProperty(L,M,{value:T,enumerable:!0,configurable:!0,writable:!0}):L[M]=T,L}function q(L){var M=Z(L,"string");return d(M)==="symbol"?M:String(M)}function Z(L,M){if(d(L)!=="object"||L===null)return L;var T=L[Symbol.toPrimitive];if(T!==void 0){var A=T.call(L,M);if(d(A)!=="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(L)}var V=function(){function L(){var M=this;D(this,L),$(this,"reset",function(){M.isInitialized=!1,M._testMode=!1,M._currentMeasurementId,M._hasLoadedGA=!1,M._isQueuing=!1,M._queueGtag=[]}),$(this,"_gtag",function(){for(var T=arguments.length,A=new Array(T),P=0;P<T;P++)A[P]=arguments[P];M._testMode||M._isQueuing?M._queueGtag.push(A):t.default.apply(void 0,A)}),$(this,"_loadGA",function(T,A){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!M._hasLoadedGA){var O=document.createElement("script");O.async=!0,O.src="".concat(P,"?id=").concat(T),A&&O.setAttribute("nonce",A),document.body.appendChild(O),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},M._hasLoadedGA=!0}}),$(this,"_toGtagOptions",function(T){if(T){var A={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},P=Object.entries(T).reduce(function(O,G){var X=y(G,2),ee=X[0],ce=X[1];return A[ee]?O[A[ee]]=ce:O[ee]=ce,O},{});return P}}),$(this,"initialize",function(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!T)throw new Error("Require GA_MEASUREMENT_ID");var P=typeof T=="string"?[{trackingId:T}]:T;M._currentMeasurementId=P[0].trackingId;var O=A.gaOptions,G=A.gtagOptions,X=A.nonce,ee=A.testMode,ce=ee===void 0?!1:ee,oe=A.gtagUrl;if(M._testMode=ce,ce||M._loadGA(M._currentMeasurementId,X,oe),M.isInitialized||(M._gtag("js",new Date),P.forEach(function(Q){var ue=v(v(v({},M._toGtagOptions(v(v({},O),Q.gaOptions))),G),Q.gtagOptions);Object.keys(ue).length?M._gtag("config",Q.trackingId,ue):M._gtag("config",Q.trackingId)})),M.isInitialized=!0,!ce){var Te=u(M._queueGtag);for(M._queueGtag=[],M._isQueuing=!1;Te.length;){var he=Te.shift();M._gtag.apply(M,u(he)),he[0]==="get"&&(M._isQueuing=!0)}}}),$(this,"set",function(T){if(!T){console.warn("`fieldsObject` is required in .set()");return}if(d(T)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(T).length===0&&console.warn("empty `fieldsObject` given to .set()"),M._gaCommand("set",T)}),$(this,"_gaCommandSendEvent",function(T,A,P,O,G){M._gtag("event",A,v(v({event_category:T,event_label:P,value:O},G&&{non_interaction:G.nonInteraction}),M._toGtagOptions(G)))}),$(this,"_gaCommandSendEventParameters",function(){for(var T=arguments.length,A=new Array(T),P=0;P<T;P++)A[P]=arguments[P];if(typeof A[0]=="string")M._gaCommandSendEvent.apply(M,u(A.slice(1)));else{var O=A[0],G=O.eventCategory,X=O.eventAction,ee=O.eventLabel,ce=O.eventValue;O.hitType;var oe=i(O,n);M._gaCommandSendEvent(G,X,ee,ce,oe)}}),$(this,"_gaCommandSendTiming",function(T,A,P,O){M._gtag("event","timing_complete",{name:A,value:P,event_category:T,event_label:O})}),$(this,"_gaCommandSendPageview",function(T,A){if(A&&Object.keys(A).length){var P=M._toGtagOptions(A),O=P.title,G=P.location,X=i(P,o);M._gtag("event","page_view",v(v(v(v({},T&&{page_path:T}),O&&{page_title:O}),G&&{page_location:G}),X))}else T?M._gtag("event","page_view",{page_path:T}):M._gtag("event","page_view")}),$(this,"_gaCommandSendPageviewParameters",function(){for(var T=arguments.length,A=new Array(T),P=0;P<T;P++)A[P]=arguments[P];if(typeof A[0]=="string")M._gaCommandSendPageview.apply(M,u(A.slice(1)));else{var O=A[0],G=O.page;O.hitType;var X=i(O,a);M._gaCommandSendPageview(G,X)}}),$(this,"_gaCommandSend",function(){for(var T=arguments.length,A=new Array(T),P=0;P<T;P++)A[P]=arguments[P];var O=typeof A[0]=="string"?A[0]:A[0].hitType;switch(O){case"event":M._gaCommandSendEventParameters.apply(M,A);break;case"pageview":M._gaCommandSendPageviewParameters.apply(M,A);break;case"timing":M._gaCommandSendTiming.apply(M,u(A.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(O));break;default:console.warn("Send command doesn't exist: ".concat(O))}}),$(this,"_gaCommandSet",function(){for(var T=arguments.length,A=new Array(T),P=0;P<T;P++)A[P]=arguments[P];typeof A[0]=="string"&&(A[0]=$({},A[0],A[1])),M._gtag("set",M._toGtagOptions(A[0]))}),$(this,"_gaCommand",function(T){for(var A=arguments.length,P=new Array(A>1?A-1:0),O=1;O<A;O++)P[O-1]=arguments[O];switch(T){case"send":M._gaCommandSend.apply(M,P);break;case"set":M._gaCommandSet.apply(M,P);break;default:console.warn("Command doesn't exist: ".concat(T))}}),$(this,"ga",function(){for(var T=arguments.length,A=new Array(T),P=0;P<T;P++)A[P]=arguments[P];if(typeof A[0]=="string")M._gaCommand.apply(M,A);else{var O=A[0];M._gtag("get",M._currentMeasurementId,"client_id",function(G){M._isQueuing=!1;var X=M._queueGtag;for(O({get:function(oe){return oe==="clientId"?G:oe==="trackingId"?M._currentMeasurementId:oe==="apiVersion"?"1":void 0}});X.length;){var ee=X.shift();M._gtag.apply(M,u(ee))}}),M._isQueuing=!0}return M.ga}),$(this,"event",function(T,A){if(typeof T=="string")M._gtag("event",T,M._toGtagOptions(A));else{var P=T.action,O=T.category,G=T.label,X=T.value,ee=T.nonInteraction,ce=T.transport;if(!O||!P){console.warn("args.category AND args.action are required in event()");return}var oe={hitType:"event",eventCategory:(0,r.default)(O),eventAction:(0,r.default)(P)};G&&(oe.eventLabel=(0,r.default)(G)),typeof X<"u"&&(typeof X!="number"?console.warn("Expected `args.value` arg to be a Number."):oe.eventValue=X),typeof ee<"u"&&(typeof ee!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):oe.nonInteraction=ee),typeof ce<"u"&&(typeof ce!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(ce)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),oe.transport=ce)),M._gaCommand("send",oe)}}),$(this,"send",function(T){M._gaCommand("send",T)}),this.reset()}return B(L,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),L}();e.GA4=V;var Y=new V;e.default=Y})(Qf);(function(e){function t(i){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var r=o(Qf);function n(i){if(typeof WeakMap!="function")return null;var c=new WeakMap,d=new WeakMap;return(n=function(f){return f?d:c})(i)}function o(i,c){if(i&&i.__esModule)return i;if(i===null||t(i)!=="object"&&typeof i!="function")return{default:i};var d=n(c);if(d&&d.has(i))return d.get(i);var u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in i)if(g!=="default"&&Object.prototype.hasOwnProperty.call(i,g)){var p=f?Object.getOwnPropertyDescriptor(i,g):null;p&&(p.get||p.set)?Object.defineProperty(u,g,p):u[g]=i[g]}return u.default=i,d&&d.set(i,u),u}var a=r.GA4;e.ReactGAImplementation=a;var l=r.default;e.default=l})(Xf);const Ta=Wu(Xf),i0=e=>{try{Ta.initialize(e),console.log("Google Analytics initialized successfully")}catch(t){console.error("Failed to initialize Google Analytics:",t)}},l0=(e,t)=>{try{Ta.send({hitType:"pageview",page:e,title:t}),console.log(`Page view tracked: ${e}`)}catch(r){console.error("Failed to track page view:",r)}},rs=(e,t,r,n)=>{try{Ta.event({category:e,action:t,label:r,value:n}),console.log(`Event tracked: ${e} - ${t}`)}catch(o){console.error("Failed to track event:",o)}},c0=e=>{try{Ta.set({userId:e}),console.log(`User ID set: ${e}`)}catch(t){console.error("Failed to set user ID:",t)}},ns=e=>{const t=e instanceof Error?e.message:String(e);return t.includes("invalid login credentials")?"Invalid email or password. Please try again.":t.includes("Email not confirmed")?"Please confirm your email address before logging in.":t.includes("rate limited")?"Too many login attempts. Please try again later.":t||"An authentication error occurred. Please try again."};async function d0(e,t){var r;try{console.log("Attempting to sign in with email:",e);const{data:n,error:o}=await ye.auth.signInWithPassword({email:e,password:t});if(o)throw o;return rs("User","Login","Email"),window.posthog&&n.user&&window.posthog.identify(n.user.id,{email:n.user.email,name:((r=n.user.user_metadata)==null?void 0:r.username)||n.user.email}),re.success("Logged in successfully!"),{data:n,error:null}}catch(n){const o=ns(n);return re.error(o),console.error("Login error:",n),{data:null,error:n}}}async function u0(){try{console.log("Starting Google login process");const{data:e,error:t}=await ye.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/auth/callback?provider=google`,queryParams:{access_type:"offline",prompt:"consent"}}});if(t)throw t;return rs("User","Login Attempt","Google"),{success:!0,error:null}}catch(e){const t=ns(e);return re.error(t),console.error("Google login error:",e),{success:!1,error:e}}}async function f0(){try{console.log("Starting Spotify login process");const{data:e,error:t}=await ye.auth.signInWithOAuth({provider:"spotify",options:{redirectTo:`${window.location.origin}/auth/callback?provider=spotify`,scopes:"user-read-email user-read-private user-top-read user-follow-read playlist-read-private"}});if(t)throw console.error("Spotify login error:",t),t;return rs("User","Login Attempt","Spotify"),console.log("Spotify auth initiated successfully:",e),{success:!0,error:null}}catch(e){const t=ns(e);return console.error("Spotify login error:",e),re.error(t),{success:!1,error:e}}}async function m0(e,t,r){var n;try{console.log("Attempting to sign up with email:",e);const{data:o,error:a}=await ye.auth.signUp({email:e,password:t,options:{data:{username:r||e.split("@")[0],created_at:new Date().toISOString()},emailRedirectTo:`${window.location.origin}/auth/callback?signup=true`}});if(a)throw a;return rs("User","Signup","Email"),window.posthog&&o.user&&window.posthog.identify(o.user.id,{email:o.user.email,name:((n=o.user.user_metadata)==null?void 0:n.username)||o.user.email}),re.success("Account created successfully!"),{data:o,error:null,needsEmailConfirmation:o.user&&!o.user.confirmed_at}}catch(o){const a=ns(o);return re.error(a),console.error("Signup error:",o),{data:null,error:o,needsEmailConfirmation:!1}}}async function h0(){try{console.log("Logging out..."),window.posthog&&window.posthog.reset(),localStorage.removeItem("auth_provider"),localStorage.removeItem("user_id");const{error:e}=await ye.auth.signOut({scope:"global"});if(e)throw e;return console.log("Signed out successfully"),rs("User","Logout"),re.info("Logged out successfully"),{success:!0,error:null}}catch(e){const t=ns(e);return re.error(t),console.error("Logout error:",e),{success:!1,error:e}}}async function p0(){try{console.log("Getting current session");const{data:e,error:t}=await ye.auth.getSession();if(t)throw t;return console.log("Session data:",e.session?"Session exists":"No session"),{session:e.session,error:null}}catch(e){const t=ns(e);return console.error("Error checking session:",t),{session:null,error:e}}}async function g0(e){var r,n,o,a;if(!e)return null;const t=e.id;try{console.log("Fetching user profile data for:",t);let l=!1;try{const{count:d,error:u}=await ye.from("admins").select("*",{count:"exact",head:!0}).eq("user_id",t);u?console.error(`Error checking admin status for ${t}:`,u):(l=(d??0)>0,console.log(`User ${t} admin status: ${l} (Count: ${d})`))}catch(d){console.error(`Exception checking admin status for ${t}:`,d)}const i=e.user_metadata,c={id:t,username:(i==null?void 0:i.user_name)||(i==null?void 0:i.full_name)||((r=e.email)==null?void 0:r.split("@")[0]),full_name:i==null?void 0:i.full_name,avatar_url:i==null?void 0:i.avatar_url,provider:((n=e.app_metadata)==null?void 0:n.provider)||((a=(o=e.identities)==null?void 0:o[0])==null?void 0:a.provider),is_admin:l,created_at:e.created_at};return console.log("Constructed user profile:",c),c0(t),typeof window<"u"&&window.posthog&&window.posthog.identify(t,{name:c.username||c.full_name,email:e.email,provider:c.provider,is_admin:c.is_admin}),c}catch(l){return console.error("Error fetching user profile:",l),null}}function x0(){const[e,t]=m.useState(null),[r,n]=m.useState(null),[o,a]=m.useState(null),[l,i]=m.useState(!0),c=jt(),d=m.useCallback(async y=>{const N=await g0(y);n(N)},[]);m.useEffect(()=>{(async()=>{try{i(!0),console.log("Checking session...");const{session:_,error:j}=await p0();if(j){console.error("Error checking session:",j);return}console.log("Session check result:",_?"Active session found":"No active session"),a(_);const S=(_==null?void 0:_.user)||null;t(S),S?(console.log("User found in session:",S.id),await d(S)):(console.log("No user in session"),n(null))}catch(_){console.error("Error checking authentication:",_)}finally{i(!1)}})();const{data:N}=ye.auth.onAuthStateChange(async(_,j)=>{console.log("Auth state changed:",_),console.log("Current session:",j?"Present":"None"),a(j);const S=(j==null?void 0:j.user)||null;t(S),S?(console.log("User in auth change:",S.id),await d(S)):(console.log("No user in auth change"),n(null)),i(!1)});return()=>{var _;(_=N==null?void 0:N.subscription)==null||_.unsubscribe()}},[d]);const u=m.useCallback(()=>{c("/auth")},[c]),f=m.useCallback(async(y,N)=>{i(!0);try{const{data:_,error:j}=await d0(y,N);if(j)throw j;c("/")}catch(_){console.error("Login process error:",_)}finally{i(!1)}},[c]),g=m.useCallback(async()=>{await u0()},[]),p=m.useCallback(async()=>{await f0()},[]),w=m.useCallback(async(y,N,_)=>{i(!0);try{const{error:j,needsEmailConfirmation:S}=await m0(y,N,_);if(j)throw j;S||c("/")}catch(j){console.error("Signup process error:",j)}finally{i(!1)}},[c]),v=m.useCallback(async()=>{try{const{success:y}=await h0();y&&(t(null),n(null),a(null),c("/"))}catch(y){console.error("Logout process error:",y)}},[c]);return{user:e,profile:r,session:o,isLoading:l,isAuthenticated:!!e,login:u,loginWithEmail:f,loginWithGoogle:g,loginWithSpotify:p,signup:w,logout:v}}const tm=m.createContext(void 0),v0=({children:e})=>{const t=x0();return m.useEffect(()=>{const r=async()=>{var n;if(((n=t.user)==null?void 0:n.email)==="a@theset.live")try{const{data:o,error:a}=await ye.from("admins").select("user_id").eq("user_id",t.user.id).maybeSingle();if(a){console.error("Error checking admin table:",a);return}if(o)console.log(`User ${t.user.email} already exists in admins table.`);else{console.log(`User ${t.user.email} not found in admins table. Adding...`);const{error:l}=await ye.from("admins").insert({user_id:t.user.id});l?console.error("Error adding user to admins table:",l):console.log("User added to admins table:",t.user.email)}}catch(o){console.error("Error during admin setup check:",o)}};t.user&&r()},[t.user]),s.jsx(tm.Provider,{value:t,children:e})},pr=()=>{const e=m.useContext(tm);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rm=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:a,iconNode:l,...i},c)=>m.createElement("svg",{ref:c,...w0,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:rm("lucide",o),...i},[...l.map(([d,u])=>m.createElement(d,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const r=m.forwardRef(({className:n,...o},a)=>m.createElement(b0,{ref:a,iconNode:t,className:rm(`lucide-${y0(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=Se("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=Se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=Se("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=Se("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=Se("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=Se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=Se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=Se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=Se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=Se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Se("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=Se("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=Se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=Se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Se("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=Se("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Se("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=Se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=Se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=Se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=Se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=Se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=Se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=Se("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=Se("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=Se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=Se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Se("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=Se("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=Se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=Se("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Se("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=Se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=Se("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gd=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,xd=Rf,Pa=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return xd(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:a}=t,l=Object.keys(o).map(d=>{const u=r==null?void 0:r[d],f=a==null?void 0:a[d];if(u===null)return null;const g=gd(u)||gd(f);return o[d][g]}),i=r&&Object.entries(r).reduce((d,u)=>{let[f,g]=u;return g===void 0||(d[f]=g),d},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((d,u)=>{let{class:f,className:g,...p}=u;return Object.entries(p).every(w=>{let[v,y]=w;return Array.isArray(y)?y.includes({...a,...i}[v]):{...a,...i}[v]===y})?[...d,f,g]:d},[]);return xd(e,l,c,r==null?void 0:r.class,r==null?void 0:r.className)},xl=Pa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},a)=>{const l=n?Gu:"button";return s.jsx(l,{className:ae(xl({variant:t,size:r,className:e})),ref:a,...o})});pe.displayName="Button";const ui=768;function V0(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const r=window.matchMedia(`(max-width: ${ui-1}px)`),n=()=>{t(window.innerWidth<ui)};return r.addEventListener("change",n),t(window.innerWidth<ui),()=>r.removeEventListener("change",n)},[]),!!e}var ec=(e=>(e.API="API",e.Database="Database",e.Client="Client",e.CONFIG="Configuration",e.Unknown="Unknown",e))(ec||{});function um(e){console.error(`[${e.source}]${e.step?` at ${e.step}`:""}: ${e.message}`,{originalError:e.originalError,context:e.context});let t=e.message;switch(e.source){case"API":t=`API Error: ${e.message}`,re.error(t,{description:"There was a problem connecting to the service. Please try again later."});break;case"Database":t=`Database Error: ${e.message}`,re.error(t,{description:"There was a problem accessing your data. Please try again later."});break;case"Client":re.error(e.message);break;case"Configuration":re.error(t,{description:"There is a configuration issue. Please check your environment variables."});break;case"Unknown":default:re.error("Something went wrong",{description:"An unexpected error occurred. Please try again later."});break}}const On=[{id:"KnvZfZ7vAeA",name:"Rock"},{id:"KnvZfZ7vAev",name:"Pop"},{id:"KnvZfZ7vAvt",name:"Electronic"},{id:"KnvZfZ7vAvd",name:"R&B"},{id:"KnvZfZ7vAee",name:"Folk"},{id:"KnvZfZ7vAe6",name:"Country"},{id:"KnvZfZ7vAeJ",name:"Hip-Hop/Rap"},{id:"KnvZfZ7vAeI",name:"Reggae"},{id:"KnvZfZ7vAv6",name:"Blues"},{id:"KnvZfZ7vAvE",name:"Jazz"},{id:"KnvZfZ7vAv1",name:"Classical"},{id:"KnvZfZ7vAde",name:"Alternative"},{id:"KnvZfZ7vAdt",name:"World"},{id:"KnvZfZ7vAda",name:"Metal"}];async function Hn(e,t={}){return um({message:"VITE_TICKETMASTER_API_KEY not configured",source:ec.CONFIG,step:"Ticketmaster API Config"}),{_embedded:{events:[],attractions:[]}}}async function fm(e){try{const{data:t,error:r}=await ye.from("artists").select("*").eq("id",e).single();if(r)throw console.error("Error fetching artist:",r),r;return t}catch(t){throw console.error("Error in fetchArtistById:",t),t}}async function tc(e){var r;const t=Hs("https://kzjnkqeosrycfpxjwhil.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6am5rcWVvc3J5Y2ZweGp3aGlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ5OTg2NjAsImV4cCI6MjA2MDU3NDY2MH0.og8tRo6fxlIFx-oxgREtUauho9kdNVSYQemHgaEe4dU");try{console.log(`Fetching events for artist ID: ${e}`),await t.functions.invoke("unified-sync-v2",{body:{entityType:"artist",entityId:e,options:{skipDependencies:!1,forceRefresh:!0}}});const{data:n,error:o}=await t.from("shows").select(`
        id,
        name,
        date,
        ticket_url,
        image_url,
        artist_id,
        ticketmaster_id,
        venue_id,
        venues(id, name, city, state, country)
      `).eq("artist_id",e).gt("date",new Date().toISOString()).order("date",{ascending:!0});if(o)throw o;if(n&&n.length>0){console.log(`Found ${n.length} shows in database for artist ID: ${e}`);const d=n.map(u=>({id:u.id,name:u.name,date:u.date||new Date().toISOString(),artist_id:u.artist_id||e,venue_id:u.venue_id||"",ticketmaster_id:u.ticketmaster_id,ticket_url:u.ticket_url||null,image_url:u.image_url,status:void 0,url:void 0,venue:u.venues?{id:u.venues.id,name:u.venues.name,city:u.venues.city,state:u.venues.state}:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}));try{await t.functions.invoke("unified-sync-v2",{body:{entityType:"artist",entityId:e,options:{skipDependencies:!1}}})}catch(u){console.error(`Background sync error for artist ${e}:`,u)}return d}console.log(`No shows found in database, fetching from Ticketmaster for artist ID: ${e}`);let a={},l=null;if(/^[KG]\d/.test(e))a={attractionId:e},l=e;else{const{data:d}=await t.from("artists").select("ticketmaster_id, name").eq("id",e).single();d!=null&&d.ticketmaster_id?(a={attractionId:d.ticketmaster_id},l=d.ticketmaster_id):d!=null&&d.name?a={keyword:d.name}:a={keyword:e}}console.log("Fetching from Ticketmaster API with params:",a);const i=await Hn("events.json",{...a,segmentName:"Music",sort:"date,asc",size:"100"});if(!i||!((r=i._embedded)!=null&&r.events))return console.log(`No events found for artist ID: ${e}`),[];console.log(`Found ${i._embedded.events.length} events from Ticketmaster for artist ID: ${e}`);const c=i._embedded.events.map(d=>{var p,w,v,y,N,_,j,S,E,D;let u="";(p=d._embedded)!=null&&p.attractions&&d._embedded.attractions.length>0?u=d._embedded.attractions[0].id:u=l||e;let f=null,g=null;if((v=(w=d._embedded)==null?void 0:w.venues)!=null&&v[0]){const I=d._embedded.venues[0];f={id:I.id,name:I.name,city:((y=I.city)==null?void 0:y.name)??null,state:((N=I.state)==null?void 0:N.name)??null,country:((_=I.country)==null?void 0:_.name)??null},g=I.id}return{id:d.id,name:d.name,date:d.dates.start.dateTime||new Date().toISOString(),artist_id:u,venue_id:g||"",ticketmaster_id:d.id,venue_ticketmaster_id:g,ticket_url:d.url||null,image_url:(S=(j=d.images)==null?void 0:j.find(I=>I.ratio==="16_9"&&I.width>500))==null?void 0:S.url,status:(D=(E=d.dates)==null?void 0:E.status)==null?void 0:D.code,url:d.url||null,venue:f?{id:f.id,name:f.name,city:f.city,state:f.state}:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}});if(c.length>0)try{await t.functions.invoke("unified-sync-v2",{body:{entityType:"artist",entityId:e,ticketmasterId:l,options:{skipDependencies:!1,forceRefresh:!0}}})}catch(d){console.error(`Background sync error for artist ${e}:`,d)}return c}catch(n){throw console.error("Error fetching artist events:",n),n}}async function fi(e,t,r){try{const n={...t,updated_at:new Date().toISOString()},{error:o}=await ye.from(e).upsert(n,{onConflict:r,ignoreDuplicates:!1});return o?(console.error(`Error saving to ${e}:`,o),!1):(console.log(`Successfully saved to ${e}`),!0)}catch(n){return console.error(`Failed to save to ${e}:`,n),!1}}async function mm(e=4){var t;try{console.log(`Fetching ${e} featured shows directly from Ticketmaster API`);const r=await Hn("events.json",{size:"50",segmentName:"Music",sort:"relevance,desc",includeFamily:"no"});if(!((t=r==null?void 0:r._embedded)!=null&&t.events))return console.log("No events found in Ticketmaster response"),[];console.log(`Found ${r._embedded.events.length} events from Ticketmaster`);const o=r._embedded.events.filter(a=>{var l,i,c,d,u;return a.images.some(f=>f.ratio==="16_9"&&f.width>500)&&((c=(i=(l=a._embedded)==null?void 0:l.venues)==null?void 0:i[0])==null?void 0:c.name)&&((u=(d=a.dates)==null?void 0:d.start)==null?void 0:u.dateTime)}).map(a=>{var p,w,v,y,N,_,j,S,E,D,I,B,$,q,Z,V,Y,L,M;let l="",i="",c=null;if((p=a._embedded)!=null&&p.attractions&&a._embedded.attractions.length>0){const T=a._embedded.attractions[0];l=T.name,i=T.id,c={id:i,name:l,image_url:(v=(w=T.images)==null?void 0:w.find(A=>A.ratio==="16_9"&&A.width>500))==null?void 0:v.url,upcoming_shows:1,genres:T.classifications&&T.classifications.length>0?[(y=T.classifications[0].genre)==null?void 0:y.name,(N=T.classifications[0].subGenre)==null?void 0:N.name].filter(A=>typeof A=="string"):[]}}else l=a.name.split(" at ")[0].split(" - ")[0].trim(),i=`tm-${encodeURIComponent(l.toLowerCase().replace(/\s+/g,"-"))}`,c={id:i,name:l};let d=null,u=null;if((j=(_=a._embedded)==null?void 0:_.venues)!=null&&j[0]){const T=a._embedded.venues[0];d={id:T.id,name:T.name,city:((S=T.city)==null?void 0:S.name)??null,state:((E=T.state)==null?void 0:E.name)??null,country:((D=T.country)==null?void 0:D.name)??null},u=T.id}const f=(a.rank||0)*2+(((q=($=(B=(I=a._embedded)==null?void 0:I.venues)==null?void 0:B[0])==null?void 0:$.upcomingEvents)==null?void 0:q.totalEvents)||0)/5+(((V=(Z=a.dates)==null?void 0:Z.status)==null?void 0:V.code)==="onsale"?5:0)+(((L=(Y=a._embedded)==null?void 0:Y.attractions)==null?void 0:L.length)||0)*2;return{id:a.id,name:a.name,date:a.dates.start.dateTime,artist_id:i,venue_id:u,ticket_url:a.url,image_url:(M=a.images.find(T=>T.ratio==="16_9"&&T.width>500))==null?void 0:M.url,popularity:f,artist:c,venue:d,qualityScore:f}}).sort((a,l)=>l.qualityScore-a.qualityScore).slice(0,e);return Promise.all(o.map(async a=>{const l=[];if(a.artist){const d={id:a.artist.id,name:a.artist.name,image_url:a.artist.image_url||null,genres:Array.isArray(a.artist.genres)?a.artist.genres:null},u=await fi("artists",d,"id");l.push({type:"artist",success:u})}if(a.venue){const d={id:a.venue.id,name:a.venue.name,city:a.venue.city||null,state:a.venue.state||null,country:a.venue.country||null},u=await fi("venues",d,"id");l.push({type:"venue",success:u})}const i={id:a.id,name:a.name,date:a.date,artist_id:a.artist_id,venue_id:a.venue_id,ticket_url:a.ticket_url||null,image_url:a.image_url||null,popularity:a.popularity||0},c=await fi("shows",i,"id");return l.push({type:"show",success:c}),console.log(`Sync results for show ${a.name}:`,l),l})).then(a=>{const l=a.flat().filter(g=>g.type==="artist").length,i=a.flat().filter(g=>g.type==="artist"&&g.success).length,c=a.flat().filter(g=>g.type==="venue").length,d=a.flat().filter(g=>g.type==="venue"&&g.success).length,u=a.flat().filter(g=>g.type==="show").length,f=a.flat().filter(g=>g.type==="show"&&g.success).length;console.log(`Sync complete. Artists: ${i}/${l}, Venues: ${d}/${c}, Shows: ${f}/${u}`)}).catch(a=>{console.error("Error in data syncing:",a)}),o}catch(r){return console.error("Ticketmaster featured shows error:",r),um({message:"Failed to load featured shows",source:ec.API,originalError:r}),[]}}function hm(e){if(!e||e.length===0)return null;const t=e.find(n=>n.ratio==="16_9"&&n.width>500);return t?t.url:[...e].sort((n,o)=>(o.width||0)-(n.width||0))[0].url}async function rc(){try{console.log("[fetchFeaturedArtists] Fetching featured artists from API...");const e=await fetch("/api/featured-artists");if(!e.ok){const r=await e.text();return console.error("[fetchFeaturedArtists] API error:",r),[]}const t=await e.json();return console.log(`[fetchFeaturedArtists] Successfully fetched ${t.length} featured artists`),t}catch(e){return console.error("[fetchFeaturedArtists] Error:",e),[]}}async function Ko(e){try{const t=await Hn("events.json",{classificationName:"music",genreId:e,size:"20"});return!t||!t._embedded?(console.log(`No events found for genre: ${e}`),[]):t._embedded.events.filter(n=>{var o,a,l,i;return n&&((a=(o=n._embedded)==null?void 0:o.attractions)==null?void 0:a[0])&&((i=(l=n._embedded)==null?void 0:l.venues)==null?void 0:i[0])}).map(n=>{var o,a;return{id:n.id,name:n.name,date:(a=(o=n.dates)==null?void 0:o.start)!=null&&a.dateTime?new Date(n.dates.start.dateTime).toISOString():null,artist:{id:n._embedded.attractions[0].id,name:n._embedded.attractions[0].name},venue:{id:n._embedded.venues[0].id,name:n._embedded.venues[0].name},ticketUrl:n.url||null,imageUrl:hm(n.images)||null,popularity:n.popularity||null}})}catch(t){throw console.error("Error fetching shows by genre:",t),t}}async function Zs(e,t=10){try{console.log(`[Ticketmaster] Searching for artists: ${e}`);const r=await Hn("attractions.json",{keyword:e,size:t.toString()});return!r||!r._embedded||!r._embedded.attractions?(console.log(`No results found for query: ${e}`),[]):r._embedded.attractions.map(n=>{var o,a,l;return{id:n.id,name:n.name,image:hm(n.images),genres:(l=(a=(o=n.classifications)==null?void 0:o[0])==null?void 0:a.genre)!=null&&l.name?[n.classifications[0].genre.name]:[],upcomingShows:Math.floor(Math.random()*10)+1,source:"ticketmaster"}})}catch(r){return console.error("Error searching artists with events:",r),[]}}const W0=Object.freeze(Object.defineProperty({__proto__:null,fetchArtistById:fm,fetchArtistEvents:tc,fetchFeaturedArtists:rc,fetchFeaturedShows:mm,fetchShowsByGenre:Ko,popularMusicGenres:On,searchArtistsWithEvents:Zs},Symbol.toStringTag,{value:"Module"})),ot=m.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ae("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ot.displayName="Input";const Ks=({placeholder:e="Search for artists...",onChange:t,onSearch:r,value:n,className:o="",children:a,disableRedirect:l=!1,autoFocus:i=!1,simplified:c=!1})=>{const[d,u]=m.useState(n||""),[f,g]=m.useState(!1),p=m.useRef(null),w=m.useRef(null),v=jt();m.useEffect(()=>{n!==void 0&&u(n)},[n]),m.useEffect(()=>{i&&w.current&&w.current.focus()},[i]);const y=S=>{const E=S.target.value;u(E),t==null||t(E),g(E.length>0)},N=()=>{var S;u(""),t==null||t(""),g(!1),(S=w.current)==null||S.focus()},_=S=>{S.key==="Enter"&&d.trim()&&(r?r(d.trim()):l||v(`/search?q=${encodeURIComponent(d.trim())}`))},j=S=>{p.current&&!p.current.contains(S.target)&&g(!1)};return m.useEffect(()=>(document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}),[]),s.jsxs("div",{ref:p,className:`relative w-full ${o}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:s.jsx(hn,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx(ot,{ref:w,type:"text",value:d,onChange:y,onKeyDown:_,onFocus:()=>d.length>0&&g(!0),placeholder:e,className:"pl-10 pr-10 w-full",autoFocus:i}),d&&s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:N,children:s.jsx(Jl,{className:"h-4 w-4 text-muted-foreground hover:text-foreground"})})]}),a&&f&&s.jsx("div",{className:`absolute w-full z-50 mt-1 max-h-[70vh] overflow-hidden ${c?"bg-[#0A0A10]/95 border border-white/10 rounded-md shadow-lg":""}`,children:a})]})};var vl={exports:{}},Ss={};Ss._=Ss._interop_require_default=z0;function z0(e){return e&&e.__esModule?e:{default:e}}var ho={exports:{}},mi={},vd;function pm(){return vd||(vd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(l,i){for(var c in i)Object.defineProperty(l,c,{enumerable:!0,get:i[c]})}t(e,{assign:function(){return a},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return o}});function r(l){const i={};return l.forEach((c,d)=>{typeof i[d]>"u"?i[d]=c:Array.isArray(i[d])?i[d].push(c):i[d]=[i[d],c]}),i}function n(l){return typeof l=="string"||typeof l=="number"&&!isNaN(l)||typeof l=="boolean"?String(l):""}function o(l){const i=new URLSearchParams;return Object.entries(l).forEach(c=>{let[d,u]=c;Array.isArray(u)?u.forEach(f=>i.append(d,n(f))):i.set(d,n(u))}),i}function a(l){for(var i=arguments.length,c=new Array(i>1?i-1:0),d=1;d<i;d++)c[d-1]=arguments[d];return c.forEach(u=>{Array.from(u.keys()).forEach(f=>l.delete(f)),u.forEach((f,g)=>l.append(g,f))}),l}}(mi)),mi}var hi={},po={},yd;function H0(){if(yd)return po;yd=1;function e(r){if(typeof WeakMap!="function")return null;var n=new WeakMap,o=new WeakMap;return(e=function(a){return a?o:n})(r)}po._=po._interop_require_wildcard=t;function t(r,n){if(!n&&r&&r.__esModule)return r;if(r===null||typeof r!="object"&&typeof r!="function")return{default:r};var o=e(n);if(o&&o.has(r))return o.get(r);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in r)if(i!=="default"&&Object.prototype.hasOwnProperty.call(r,i)){var c=l?Object.getOwnPropertyDescriptor(r,i):null;c&&(c.get||c.set)?Object.defineProperty(a,i,c):a[i]=r[i]}return a.default=r,o&&o.set(r,a),a}return po}var wd;function gm(){return wd||(wd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(c,d){for(var u in d)Object.defineProperty(c,u,{enumerable:!0,get:d[u]})}t(e,{formatUrl:function(){return a},formatWithValidation:function(){return i},urlObjectKeys:function(){return l}});const n=H0()._(pm()),o=/https?|ftp|gopher|file/;function a(c){let{auth:d,hostname:u}=c,f=c.protocol||"",g=c.pathname||"",p=c.hash||"",w=c.query||"",v=!1;d=d?encodeURIComponent(d).replace(/%3A/i,":")+"@":"",c.host?v=d+c.host:u&&(v=d+(~u.indexOf(":")?"["+u+"]":u),c.port&&(v+=":"+c.port)),w&&typeof w=="object"&&(w=String(n.urlQueryToSearchParams(w)));let y=c.search||w&&"?"+w||"";return f&&!f.endsWith(":")&&(f+=":"),c.slashes||(!f||o.test(f))&&v!==!1?(v="//"+(v||""),g&&g[0]!=="/"&&(g="/"+g)):v||(v=""),p&&p[0]!=="#"&&(p="#"+p),y&&y[0]!=="?"&&(y="?"+y),g=g.replace(/[?#]/g,encodeURIComponent),y=y.replace("#","%23"),""+f+v+g+y+p}const l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function i(c){return a(c)}}(hi)),hi}var pi={},bd;function q0(){return bd||(bd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"omit",{enumerable:!0,get:function(){return t}});function t(r,n){const o={};return Object.keys(r).forEach(a=>{n.includes(a)||(o[a]=r[a])}),o}}(pi)),pi}var gi={},_d;function Ia(){return _d||(_d=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(S,E){for(var D in E)Object.defineProperty(S,D,{enumerable:!0,get:E[D]})}t(e,{DecodeError:function(){return w},MiddlewareNotFoundError:function(){return _},MissingStaticPage:function(){return N},NormalizeError:function(){return v},PageNotFoundError:function(){return y},SP:function(){return g},ST:function(){return p},WEB_VITALS:function(){return r},execOnce:function(){return n},getDisplayName:function(){return c},getLocationOrigin:function(){return l},getURL:function(){return i},isAbsoluteUrl:function(){return a},isResSent:function(){return d},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return u},stringifyError:function(){return j}});const r=["CLS","FCP","FID","INP","LCP","TTFB"];function n(S){let E=!1,D;return function(){for(var I=arguments.length,B=new Array(I),$=0;$<I;$++)B[$]=arguments[$];return E||(E=!0,D=S(...B)),D}}const o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,a=S=>o.test(S);function l(){const{protocol:S,hostname:E,port:D}=window.location;return S+"//"+E+(D?":"+D:"")}function i(){const{href:S}=window.location,E=l();return S.substring(E.length)}function c(S){return typeof S=="string"?S:S.displayName||S.name||"Unknown"}function d(S){return S.finished||S.headersSent}function u(S){const E=S.split("?");return E[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(E[1]?"?"+E.slice(1).join("?"):"")}async function f(S,E){const D=E.res||E.ctx&&E.ctx.res;if(!S.getInitialProps)return E.ctx&&E.Component?{pageProps:await f(E.Component,E.ctx)}:{};const I=await S.getInitialProps(E);if(D&&d(D))return I;if(!I){const B='"'+c(S)+'.getInitialProps()" should resolve to an object. But found "'+I+'" instead.';throw new Error(B)}return I}const g=typeof performance<"u",p=g&&["mark","measure","getEntriesByName"].every(S=>typeof performance[S]=="function");class w extends Error{}class v extends Error{}class y extends Error{constructor(E){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+E}}class N extends Error{constructor(E,D){super(),this.message="Failed to load static file for page: "+E+" "+D}}class _ extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function j(S){return JSON.stringify({message:S.message,stack:S.stack})}}(gi)),gi}var go={exports:{}},xi={},Nd;function xm(){return Nd||(Nd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"removeTrailingSlash",{enumerable:!0,get:function(){return t}});function t(r){return r.replace(/\/$/,"")||"/"}}(xi)),xi}var vi={},jd;function nc(){return jd||(jd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"parsePath",{enumerable:!0,get:function(){return t}});function t(r){const n=r.indexOf("#"),o=r.indexOf("?"),a=o>-1&&(n<0||o<n);return a||n>-1?{pathname:r.substring(0,a?o:n),query:a?r.substring(o,n>-1?n:void 0):"",hash:n>-1?r.slice(n):""}:{pathname:r,query:"",hash:""}}}(vi)),vi}var Sd;function Ma(){return Sd||(Sd=1,function(e,t){var r={};Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizePathTrailingSlash",{enumerable:!0,get:function(){return a}});const n=xm(),o=nc(),a=l=>{if(!l.startsWith("/")||r.__NEXT_MANUAL_TRAILING_SLASH)return l;const{pathname:i,query:c,hash:d}=(0,o.parsePath)(l);return r.__NEXT_TRAILING_SLASH?/\.[^/]+\/?$/.test(i)?""+(0,n.removeTrailingSlash)(i)+c+d:i.endsWith("/")?""+i+c+d:i+"/"+c+d:""+(0,n.removeTrailingSlash)(i)+c+d};(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}(go,go.exports)),go.exports}var yi={},xo={exports:{}},wi={},Ed;function vm(){return Ed||(Ed=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"pathHasPrefix",{enumerable:!0,get:function(){return r}});const t=nc();function r(n,o){if(typeof n!="string")return!1;const{pathname:a}=(0,t.parsePath)(n);return a===o||a.startsWith(o+"/")}}(wi)),wi}var Cd;function Y0(){return Cd||(Cd=1,function(e,t){var r={};Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"hasBasePath",{enumerable:!0,get:function(){return a}});const n=vm(),o=r.__NEXT_ROUTER_BASEPATH||"";function a(l){return(0,n.pathHasPrefix)(l,o)}(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}(xo,xo.exports)),xo.exports}var Ad;function ym(){return Ad||(Ad=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"isLocalURL",{enumerable:!0,get:function(){return n}});const t=Ia(),r=Y0();function n(o){if(!(0,t.isAbsoluteUrl)(o))return!0;try{const a=(0,t.getLocationOrigin)(),l=new URL(o,a);return l.origin===a&&(0,r.hasBasePath)(l.pathname)}catch{return!1}}}(yi)),yi}var bi={},_i={},kd;function G0(){return kd||(kd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getSortedRoutes",{enumerable:!0,get:function(){return r}});class t{insert(o){this._insert(o.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(o){o===void 0&&(o="/");const a=[...this.children.keys()].sort();this.slugName!==null&&a.splice(a.indexOf("[]"),1),this.restSlugName!==null&&a.splice(a.indexOf("[...]"),1),this.optionalRestSlugName!==null&&a.splice(a.indexOf("[[...]]"),1);const l=a.map(i=>this.children.get(i)._smoosh(""+o+i+"/")).reduce((i,c)=>[...i,...c],[]);if(this.slugName!==null&&l.push(...this.children.get("[]")._smoosh(o+"["+this.slugName+"]/")),!this.placeholder){const i=o==="/"?"/":o.slice(0,-1);if(this.optionalRestSlugName!=null)throw new Error('You cannot define a route with the same specificity as a optional catch-all route ("'+i+'" and "'+i+"[[..."+this.optionalRestSlugName+']]").');l.unshift(i)}return this.restSlugName!==null&&l.push(...this.children.get("[...]")._smoosh(o+"[..."+this.restSlugName+"]/")),this.optionalRestSlugName!==null&&l.push(...this.children.get("[[...]]")._smoosh(o+"[[..."+this.optionalRestSlugName+"]]/")),l}_insert(o,a,l){if(o.length===0){this.placeholder=!1;return}if(l)throw new Error("Catch-all must be the last part of the URL.");let i=o[0];if(i.startsWith("[")&&i.endsWith("]")){let u=function(f,g){if(f!==null&&f!==g)throw new Error("You cannot use different slug names for the same dynamic path ('"+f+"' !== '"+g+"').");a.forEach(p=>{if(p===g)throw new Error('You cannot have the same slug name "'+g+'" repeat within a single dynamic path');if(p.replace(/\W/g,"")===i.replace(/\W/g,""))throw new Error('You cannot have the slug names "'+p+'" and "'+g+'" differ only by non-word symbols within a single dynamic path')}),a.push(g)},c=i.slice(1,-1),d=!1;if(c.startsWith("[")&&c.endsWith("]")&&(c=c.slice(1,-1),d=!0),c.startsWith("...")&&(c=c.substring(3),l=!0),c.startsWith("[")||c.endsWith("]"))throw new Error("Segment names may not start or end with extra brackets ('"+c+"').");if(c.startsWith("."))throw new Error("Segment names may not start with erroneous periods ('"+c+"').");if(l)if(d){if(this.restSlugName!=null)throw new Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+o[0]+'" ).');u(this.optionalRestSlugName,c),this.optionalRestSlugName=c,i="[[...]]"}else{if(this.optionalRestSlugName!=null)throw new Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+o[0]+'").');u(this.restSlugName,c),this.restSlugName=c,i="[...]"}else{if(d)throw new Error('Optional route parameters are not yet supported ("'+o[0]+'").');u(this.slugName,c),this.slugName=c,i="[]"}}this.children.has(i)||this.children.set(i,new t),this.children.get(i)._insert(o.slice(1),a,l)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function r(n){const o=new t;return n.forEach(a=>o.insert(a)),o.smoosh()}}(_i)),_i}var Ni={},ji={},Si={},Ei={},Td;function Z0(){return Td||(Td=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"ensureLeadingSlash",{enumerable:!0,get:function(){return t}});function t(r){return r.startsWith("/")?r:"/"+r}}(Ei)),Ei}var Ci={},Rd;function K0(){return Rd||(Rd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(a,l){for(var i in l)Object.defineProperty(a,i,{enumerable:!0,get:l[i]})}t(e,{DEFAULT_SEGMENT_KEY:function(){return o},PAGE_SEGMENT_KEY:function(){return n},isGroupSegment:function(){return r}});function r(a){return a[0]==="("&&a.endsWith(")")}const n="__PAGE__",o="__DEFAULT__"}(Ci)),Ci}var Pd;function X0(){return Pd||(Pd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(l,i){for(var c in i)Object.defineProperty(l,c,{enumerable:!0,get:i[c]})}t(e,{normalizeAppPath:function(){return o},normalizeRscURL:function(){return a}});const r=Z0(),n=K0();function o(l){return(0,r.ensureLeadingSlash)(l.split("/").reduce((i,c,d,u)=>!c||(0,n.isGroupSegment)(c)||c[0]==="@"||(c==="page"||c==="route")&&d===u.length-1?i:i+"/"+c,""))}function a(l){return l.replace(/\.rsc($|\?)/,"$1")}}(Si)),Si}var Id;function wm(){return Id||(Id=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(l,i){for(var c in i)Object.defineProperty(l,c,{enumerable:!0,get:i[c]})}t(e,{INTERCEPTION_ROUTE_MARKERS:function(){return n},extractInterceptionRouteInformation:function(){return a},isInterceptionRouteAppPath:function(){return o}});const r=X0(),n=["(..)(..)","(.)","(..)","(...)"];function o(l){return l.split("/").find(i=>n.find(c=>i.startsWith(c)))!==void 0}function a(l){let i,c,d;for(const u of l.split("/"))if(c=n.find(f=>u.startsWith(f)),c){[i,d]=l.split(c,2);break}if(!i||!c||!d)throw new Error(`Invalid interception route: ${l}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(i=(0,r.normalizeAppPath)(i),c){case"(.)":i==="/"?d=`/${d}`:d=i+"/"+d;break;case"(..)":if(i==="/")throw new Error(`Invalid interception route: ${l}. Cannot use (..) marker at the root level, use (.) instead.`);d=i.split("/").slice(0,-1).concat(d).join("/");break;case"(...)":d="/"+d;break;case"(..)(..)":const u=i.split("/");if(u.length<=2)throw new Error(`Invalid interception route: ${l}. Cannot use (..)(..) marker at the root level or one level up.`);d=u.slice(0,-2).concat(d).join("/");break;default:throw new Error("Invariant: unexpected marker")}return{interceptingRoute:i,interceptedRoute:d}}}(ji)),ji}var Md;function Q0(){return Md||(Md=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"isDynamicRoute",{enumerable:!0,get:function(){return n}});const t=wm(),r=/\/\[[^/]+?\](?=\/|$)/;function n(o){return(0,t.isInterceptionRouteAppPath)(o)&&(o=(0,t.extractInterceptionRouteInformation)(o).interceptedRoute),r.test(o)}}(Ni)),Ni}var Dd;function J0(){return Dd||(Dd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(o,a){for(var l in a)Object.defineProperty(o,l,{enumerable:!0,get:a[l]})}t(e,{getSortedRoutes:function(){return r.getSortedRoutes},isDynamicRoute:function(){return n.isDynamicRoute}});const r=G0(),n=Q0()}(bi)),bi}var Ai={},ki={},Od;function e1(){return Od||(Od=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getRouteMatcher",{enumerable:!0,get:function(){return r}});const t=Ia();function r(n){let{re:o,groups:a}=n;return l=>{const i=o.exec(l);if(!i)return!1;const c=u=>{try{return decodeURIComponent(u)}catch{throw new t.DecodeError("failed to decode param")}},d={};return Object.keys(a).forEach(u=>{const f=a[u],g=i[f.pos];g!==void 0&&(d[u]=~g.indexOf("/")?g.split("/").map(p=>c(p)):f.repeat?[c(g)]:c(g))}),d}}}(ki)),ki}var Ti={},Ri={},Ld;function t1(){return Ld||(Ld=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(ze,lt){for(var Le in lt)Object.defineProperty(ze,Le,{enumerable:!0,get:lt[Le]})}t(e,{ACTION_SUFFIX:function(){return c},APP_DIR_ALIAS:function(){return Z},CACHE_ONE_YEAR:function(){return S},DOT_NEXT_ALIAS:function(){return $},ESLINT_DEFAULT_DIRS:function(){return ge},GSP_NO_RETURNED_VALUE:function(){return ce},GSSP_COMPONENT_MEMBER_ERROR:function(){return he},GSSP_NO_RETURNED_VALUE:function(){return oe},INSTRUMENTATION_HOOK_FILENAME:function(){return I},MIDDLEWARE_FILENAME:function(){return E},MIDDLEWARE_LOCATION_REGEXP:function(){return D},NEXT_BODY_SUFFIX:function(){return f},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return j},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return w},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return v},NEXT_CACHE_SOFT_TAGS_HEADER:function(){return p},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return _},NEXT_CACHE_TAGS_HEADER:function(){return g},NEXT_CACHE_TAG_MAX_ITEMS:function(){return y},NEXT_CACHE_TAG_MAX_LENGTH:function(){return N},NEXT_DATA_SUFFIX:function(){return d},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return n},NEXT_META_SUFFIX:function(){return u},NEXT_QUERY_PARAM_PREFIX:function(){return r},NON_STANDARD_NODE_ENV:function(){return Q},PAGES_DIR_ALIAS:function(){return B},PRERENDER_REVALIDATE_HEADER:function(){return o},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return a},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return A},ROOT_DIR_ALIAS:function(){return q},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return T},RSC_ACTION_ENCRYPTION_ALIAS:function(){return M},RSC_ACTION_PROXY_ALIAS:function(){return L},RSC_ACTION_VALIDATE_ALIAS:function(){return Y},RSC_MOD_REF_PROXY_ALIAS:function(){return V},RSC_PREFETCH_SUFFIX:function(){return l},RSC_SUFFIX:function(){return i},SERVER_PROPS_EXPORT_ERROR:function(){return ee},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return O},SERVER_PROPS_SSG_CONFLICT:function(){return G},SERVER_RUNTIME:function(){return Ne},SSG_FALLBACK_EXPORT_ERROR:function(){return ue},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return P},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return X},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return Te},WEBPACK_LAYERS:function(){return xe},WEBPACK_RESOURCE_QUERIES:function(){return Re}});const r="nxtP",n="nxtI",o="x-prerender-revalidate",a="x-prerender-revalidate-if-generated",l=".prefetch.rsc",i=".rsc",c=".action",d=".json",u=".meta",f=".body",g="x-next-cache-tags",p="x-next-cache-soft-tags",w="x-next-revalidated-tags",v="x-next-revalidate-tag-token",y=128,N=256,_=1024,j="_N_T_",S=31536e3,E="middleware",D=`(?:src/)?${E}`,I="instrumentation",B="private-next-pages",$="private-dot-next",q="private-next-root-dir",Z="private-next-app-dir",V="private-next-rsc-mod-ref-proxy",Y="private-next-rsc-action-validate",L="private-next-rsc-server-reference",M="private-next-rsc-action-encryption",T="private-next-rsc-action-client-wrapper",A="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",P="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",O="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",G="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",X="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",ee="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",ce="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",oe="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",Te="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",he="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",Q='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',ue="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",ge=["app","pages","components","lib","src"],Ne={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},de={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",appMetadataRoute:"app-metadata-route",appRouteHandler:"app-route-handler"},xe={...de,GROUP:{serverOnly:[de.reactServerComponents,de.actionBrowser,de.appMetadataRoute,de.appRouteHandler,de.instrument],clientOnly:[de.serverSideRendering,de.appPagesBrowser],nonClientServerTarget:[de.middleware,de.api],app:[de.reactServerComponents,de.actionBrowser,de.appMetadataRoute,de.appRouteHandler,de.serverSideRendering,de.appPagesBrowser,de.shared,de.instrument]}},Re={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}}(Ri)),Ri}var Pi={},Fd;function r1(){return Fd||(Fd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"escapeStringRegexp",{enumerable:!0,get:function(){return n}});const t=/[|\\{}()[\]^$+*?.-]/,r=/[|\\{}()[\]^$+*?.-]/g;function n(o){return t.test(o)?o.replace(r,"\\$&"):o}}(Pi)),Pi}var $d;function n1(){return $d||($d=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(w,v){for(var y in v)Object.defineProperty(w,y,{enumerable:!0,get:v[y]})}t(e,{getNamedMiddlewareRegex:function(){return p},getNamedRouteRegex:function(){return g},getRouteRegex:function(){return c},parseParameter:function(){return l}});const r=t1(),n=wm(),o=r1(),a=xm();function l(w){const v=w.startsWith("[")&&w.endsWith("]");v&&(w=w.slice(1,-1));const y=w.startsWith("...");return y&&(w=w.slice(3)),{key:w,repeat:y,optional:v}}function i(w){const v=(0,a.removeTrailingSlash)(w).slice(1).split("/"),y={};let N=1;return{parameterizedRoute:v.map(_=>{const j=n.INTERCEPTION_ROUTE_MARKERS.find(E=>_.startsWith(E)),S=_.match(/\[((?:\[.*\])|.+)\]/);if(j&&S){const{key:E,optional:D,repeat:I}=l(S[1]);return y[E]={pos:N++,repeat:I,optional:D},"/"+(0,o.escapeStringRegexp)(j)+"([^/]+?)"}else if(S){const{key:E,repeat:D,optional:I}=l(S[1]);return y[E]={pos:N++,repeat:D,optional:I},D?I?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}else return"/"+(0,o.escapeStringRegexp)(_)}).join(""),groups:y}}function c(w){const{parameterizedRoute:v,groups:y}=i(w);return{re:new RegExp("^"+v+"(?:/)?$"),groups:y}}function d(){let w=0;return()=>{let v="",y=++w;for(;y>0;)v+=String.fromCharCode(97+(y-1)%26),y=Math.floor((y-1)/26);return v}}function u(w){let{interceptionMarker:v,getSafeRouteKey:y,segment:N,routeKeys:_,keyPrefix:j}=w;const{key:S,optional:E,repeat:D}=l(N);let I=S.replace(/\W/g,"");j&&(I=""+j+I);let B=!1;(I.length===0||I.length>30)&&(B=!0),isNaN(parseInt(I.slice(0,1)))||(B=!0),B&&(I=y()),j?_[I]=""+j+S:_[I]=S;const $=v?(0,o.escapeStringRegexp)(v):"";return D?E?"(?:/"+$+"(?<"+I+">.+?))?":"/"+$+"(?<"+I+">.+?)":"/"+$+"(?<"+I+">[^/]+?)"}function f(w,v){const y=(0,a.removeTrailingSlash)(w).slice(1).split("/"),N=d(),_={};return{namedParameterizedRoute:y.map(j=>{const S=n.INTERCEPTION_ROUTE_MARKERS.some(D=>j.startsWith(D)),E=j.match(/\[((?:\[.*\])|.+)\]/);if(S&&E){const[D]=j.split(E[0]);return u({getSafeRouteKey:N,interceptionMarker:D,segment:E[1],routeKeys:_,keyPrefix:v?r.NEXT_INTERCEPTION_MARKER_PREFIX:void 0})}else return E?u({getSafeRouteKey:N,segment:E[1],routeKeys:_,keyPrefix:v?r.NEXT_QUERY_PARAM_PREFIX:void 0}):"/"+(0,o.escapeStringRegexp)(j)}).join(""),routeKeys:_}}function g(w,v){const y=f(w,v);return{...c(w),namedRegex:"^"+y.namedParameterizedRoute+"(?:/)?$",routeKeys:y.routeKeys}}function p(w,v){const{parameterizedRoute:y}=i(w),{catchAll:N=!0}=v;if(y==="/")return{namedRegex:"^/"+(N?".*":"")+"$"};const{namedParameterizedRoute:_}=f(w,!1);let j=N?"(?:(/.*)?)":"";return{namedRegex:"^"+_+j+"$"}}}(Ti)),Ti}var Bd;function s1(){return Bd||(Bd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"interpolateAs",{enumerable:!0,get:function(){return n}});const t=e1(),r=n1();function n(o,a,l){let i="";const c=(0,r.getRouteRegex)(o),d=c.groups,u=(a!==o?(0,t.getRouteMatcher)(c)(a):"")||l;i=o;const f=Object.keys(d);return f.every(g=>{let p=u[g]||"";const{repeat:w,optional:v}=d[g];let y="["+(w?"...":"")+g+"]";return v&&(y=(p?"":"/")+"["+y+"]"),w&&!Array.isArray(p)&&(p=[p]),(v||g in u)&&(i=i.replace(y,w?p.map(N=>encodeURIComponent(N)).join("/"):encodeURIComponent(p))||"/")})||(i=""),{params:f,result:i}}}(Ai)),Ai}var Ud;function o1(){return Ud||(Ud=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"resolveHref",{enumerable:!0,get:function(){return u}});const r=pm(),n=gm(),o=q0(),a=Ia(),l=Ma(),i=ym(),c=J0(),d=s1();function u(f,g,p){let w,v=typeof g=="string"?g:(0,n.formatWithValidation)(g);const y=v.match(/^[a-zA-Z]{1,}:\/\//),N=y?v.slice(y[0].length):v;if((N.split("?",1)[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+v+"' passed to next/router in page: '"+f.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");const j=(0,a.normalizeRepeatedSlashes)(N);v=(y?y[0]:"")+j}if(!(0,i.isLocalURL)(v))return p?[v]:v;try{w=new URL(v.startsWith("#")?f.asPath:f.pathname,"http://n")}catch{w=new URL("/","http://n")}try{const j=new URL(v,w);j.pathname=(0,l.normalizePathTrailingSlash)(j.pathname);let S="";if((0,c.isDynamicRoute)(j.pathname)&&j.searchParams&&p){const D=(0,r.searchParamsToUrlQuery)(j.searchParams),{result:I,params:B}=(0,d.interpolateAs)(j.pathname,j.pathname,D);I&&(S=(0,n.formatWithValidation)({pathname:I,hash:j.hash,query:(0,o.omit)(D,B)}))}const E=j.origin===w.origin?j.href.slice(j.origin.length):j.href;return p?[E,S||E]:E}catch{return p?[v]:v}}(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}(ho,ho.exports)),ho.exports}var vo={exports:{}},Ii={},Mi={},Vd;function bm(){return Vd||(Vd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"addPathPrefix",{enumerable:!0,get:function(){return r}});const t=nc();function r(n,o){if(!n.startsWith("/")||!o)return n;const{pathname:a,query:l,hash:i}=(0,t.parsePath)(n);return""+o+a+l+i}}(Mi)),Mi}var Wd;function a1(){return Wd||(Wd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"addLocale",{enumerable:!0,get:function(){return n}});const t=bm(),r=vm();function n(o,a,l,i){if(!a||a===l)return o;const c=o.toLowerCase();return!i&&((0,r.pathHasPrefix)(c,"/api")||(0,r.pathHasPrefix)(c,"/"+a.toLowerCase()))?o:(0,t.addPathPrefix)(o,"/"+a)}}(Ii)),Ii}var zd;function i1(){return zd||(zd=1,function(e,t){var r={};Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return o}});const n=Ma(),o=function(a){for(var l=arguments.length,i=new Array(l>1?l-1:0),c=1;c<l;c++)i[c-1]=arguments[c];return r.__NEXT_I18N_SUPPORT?(0,n.normalizePathTrailingSlash)(a1().addLocale(a,...i)):a};(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}(vo,vo.exports)),vo.exports}var Di={},Hd;function l1(){return Hd||(Hd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"RouterContext",{enumerable:!0,get:function(){return n}});const n=Ss._(m).default.createContext(null)}(Di)),Di}var Oi={},qd;function c1(){return qd||(qd=1,function(e){"use client";Object.defineProperty(e,"__esModule",{value:!0});function t(d,u){for(var f in u)Object.defineProperty(d,f,{enumerable:!0,get:u[f]})}t(e,{AppRouterContext:function(){return o},GlobalLayoutRouterContext:function(){return l},LayoutRouterContext:function(){return a},MissingSlotContext:function(){return c},TemplateContext:function(){return i}});const n=Ss._(m),o=n.default.createContext(null),a=n.default.createContext(null),l=n.default.createContext(null),i=n.default.createContext(null),c=n.default.createContext(new Set)}(Oi)),Oi}var yo={exports:{}},wo={exports:{}},Yd;function d1(){return Yd||(Yd=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function r(a,l){for(var i in l)Object.defineProperty(a,i,{enumerable:!0,get:l[i]})}r(t,{cancelIdleCallback:function(){return o},requestIdleCallback:function(){return n}});const n=typeof self<"u"&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(a){let l=Date.now();return self.setTimeout(function(){a({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-l))}})},1)},o=typeof self<"u"&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(a){return clearTimeout(a)};(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}(wo,wo.exports)),wo.exports}var Gd;function u1(){return Gd||(Gd=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return d}});const r=m,n=d1(),o=typeof IntersectionObserver=="function",a=new Map,l=[];function i(u){const f={root:u.root||null,margin:u.rootMargin||""},g=l.find(y=>y.root===f.root&&y.margin===f.margin);let p;if(g&&(p=a.get(g),p))return p;const w=new Map,v=new IntersectionObserver(y=>{y.forEach(N=>{const _=w.get(N.target),j=N.isIntersecting||N.intersectionRatio>0;_&&j&&_(j)})},u);return p={id:f,observer:v,elements:w},l.push(f),a.set(f,p),p}function c(u,f,g){const{id:p,observer:w,elements:v}=i(g);return v.set(u,f),w.observe(u),function(){if(v.delete(u),w.unobserve(u),v.size===0){w.disconnect(),a.delete(p);const N=l.findIndex(_=>_.root===p.root&&_.margin===p.margin);N>-1&&l.splice(N,1)}}}function d(u){let{rootRef:f,rootMargin:g,disabled:p}=u;const w=p||!o,[v,y]=(0,r.useState)(!1),N=(0,r.useRef)(null),_=(0,r.useCallback)(S=>{N.current=S},[]);(0,r.useEffect)(()=>{if(o){if(w||v)return;const S=N.current;if(S&&S.tagName)return c(S,D=>D&&y(D),{root:f==null?void 0:f.current,rootMargin:g})}else if(!v){const S=(0,n.requestIdleCallback)(()=>y(!0));return()=>(0,n.cancelIdleCallback)(S)}},[w,g,f,v,N.current]);const j=(0,r.useCallback)(()=>{y(!1)},[]);return[_,v,j]}(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}(yo,yo.exports)),yo.exports}var bo={exports:{}},_o={exports:{}},Li={},Zd;function f1(){return Zd||(Zd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"normalizeLocalePath",{enumerable:!0,get:function(){return t}});function t(r,n){let o;const a=r.split("/");return(n||[]).some(l=>a[1]&&a[1].toLowerCase()===l.toLowerCase()?(o=l,a.splice(1,1),r=a.join("/")||"/",!0):!1),{pathname:r,detectedLocale:o}}}(Li)),Li}var Kd;function m1(){return Kd||(Kd=1,function(e,t){var r={};Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return n}});const n=(o,a)=>r.__NEXT_I18N_SUPPORT?f1().normalizeLocalePath(o,a):{pathname:o,detectedLocale:void 0};(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}(_o,_o.exports)),_o.exports}var No={exports:{}},Fi={},Xd;function h1(){return Xd||(Xd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"detectDomainLocale",{enumerable:!0,get:function(){return t}});function t(r,n,o){if(r){o&&(o=o.toLowerCase());for(const i of r){var a,l;const c=(a=i.domain)==null?void 0:a.split(":",1)[0].toLowerCase();if(n===c||o===i.defaultLocale.toLowerCase()||(l=i.locales)!=null&&l.some(d=>d.toLowerCase()===o))return i}}}}(Fi)),Fi}var Qd;function p1(){return Qd||(Qd=1,function(e,t){var r={};Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return n}});const n=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];if(r.__NEXT_I18N_SUPPORT)return h1().detectDomainLocale(...a)};(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}(No,No.exports)),No.exports}var Jd;function g1(){return Jd||(Jd=1,function(e,t){var r={};Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return a}});const n=Ma(),o=r.__NEXT_ROUTER_BASEPATH||"";function a(l,i,c,d){if(r.__NEXT_I18N_SUPPORT){const u=m1().normalizeLocalePath,f=p1().detectDomainLocale,g=i||u(l,c).detectedLocale,p=f(d,void 0,g);if(p){const w="http"+(p.http?"":"s")+"://",v=g===p.defaultLocale?"":"/"+g;return""+w+p.domain+(0,n.normalizePathTrailingSlash)(""+o+v+l)}return!1}else return!1}(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}(bo,bo.exports)),bo.exports}var jo={exports:{}},eu;function x1(){return eu||(eu=1,function(e,t){var r={};Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addBasePath",{enumerable:!0,get:function(){return l}});const n=bm(),o=Ma(),a=r.__NEXT_ROUTER_BASEPATH||"";function l(i,c){return(0,o.normalizePathTrailingSlash)(r.__NEXT_MANUAL_CLIENT_BASE_PATH&&!c?i:(0,n.addPathPrefix)(i,a))}(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}(jo,jo.exports)),jo.exports}var So={exports:{}},tu;function v1(){return tu||(tu=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function r(p,w){for(var v in w)Object.defineProperty(p,v,{enumerable:!0,get:w[v]})}r(t,{ACTION_FAST_REFRESH:function(){return c},ACTION_NAVIGATE:function(){return o},ACTION_PREFETCH:function(){return i},ACTION_REFRESH:function(){return n},ACTION_RESTORE:function(){return a},ACTION_SERVER_ACTION:function(){return d},ACTION_SERVER_PATCH:function(){return l},PrefetchCacheEntryStatus:function(){return f},PrefetchKind:function(){return u},isThenable:function(){return g}});const n="refresh",o="navigate",a="restore",l="server-patch",i="prefetch",c="fast-refresh",d="server-action";var u;(function(p){p.AUTO="auto",p.FULL="full",p.TEMPORARY="temporary"})(u||(u={}));var f;(function(p){p.fresh="fresh",p.reusable="reusable",p.expired="expired",p.stale="stale"})(f||(f={}));function g(p){return p&&(typeof p=="object"||typeof p=="function")&&typeof p.then=="function"}(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}(So,So.exports)),So.exports}(function(e,t){"use client";var r={};Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return I}});const n=Ss,o=s,a=n._(m),l=o1(),i=ym(),c=gm(),d=Ia(),u=i1(),f=l1(),g=c1(),p=u1(),w=g1(),v=x1(),y=v1(),N=new Set;function _(B,$,q,Z,V,Y){if(typeof window>"u"||!Y&&!(0,i.isLocalURL)($))return;if(!Z.bypassPrefetchedCheck){const M=typeof Z.locale<"u"?Z.locale:"locale"in B?B.locale:void 0,T=$+"%"+q+"%"+M;if(N.has(T))return;N.add(T)}(async()=>Y?B.prefetch($,V):B.prefetch($,q,Z))().catch(M=>{})}function j(B){const q=B.currentTarget.getAttribute("target");return q&&q!=="_self"||B.metaKey||B.ctrlKey||B.shiftKey||B.altKey||B.nativeEvent&&B.nativeEvent.which===2}function S(B,$,q,Z,V,Y,L,M,T){const{nodeName:A}=B.currentTarget;if(A.toUpperCase()==="A"&&(j(B)||!T&&!(0,i.isLocalURL)(q)))return;B.preventDefault();const O=()=>{const G=L??!0;"beforePopState"in $?$[V?"replace":"push"](q,Z,{shallow:Y,locale:M,scroll:G}):$[V?"replace":"push"](Z||q,{scroll:G})};T?a.default.startTransition(O):O()}function E(B){return typeof B=="string"?B:(0,c.formatUrl)(B)}const I=a.default.forwardRef(function($,q){let Z;const{href:V,as:Y,children:L,prefetch:M=null,passHref:T,replace:A,shallow:P,scroll:O,locale:G,onClick:X,onMouseEnter:ee,onTouchStart:ce,legacyBehavior:oe=!1,...Te}=$;Z=L,oe&&(typeof Z=="string"||typeof Z=="number")&&(Z=(0,o.jsx)("a",{children:Z}));const he=a.default.useContext(f.RouterContext),Q=a.default.useContext(g.AppRouterContext),ue=he??Q,ge=!he,Ne=M!==!1,de=M===null?y.PrefetchKind.AUTO:y.PrefetchKind.FULL,{href:xe,as:Re}=a.default.useMemo(()=>{if(!he){const te=E(V);return{href:te,as:Y?E(Y):te}}const[F,W]=(0,l.resolveHref)(he,V,!0);return{href:F,as:Y?(0,l.resolveHref)(he,Y):W||F}},[he,V,Y]),ze=a.default.useRef(xe),lt=a.default.useRef(Re);let Le;oe&&(Le=a.default.Children.only(Z));const Xe=oe?Le&&typeof Le=="object"&&Le.ref:q,[Rt,St,xr]=(0,p.useIntersection)({rootMargin:"200px"}),mt=a.default.useCallback(F=>{(lt.current!==Re||ze.current!==xe)&&(xr(),lt.current=Re,ze.current=xe),Rt(F),Xe&&(typeof Xe=="function"?Xe(F):typeof Xe=="object"&&(Xe.current=F))},[Re,Xe,xe,xr,Rt]);a.default.useEffect(()=>{ue&&(!St||!Ne||_(ue,xe,Re,{locale:G},{kind:de},ge))},[Re,xe,St,G,Ne,he==null?void 0:he.locale,ue,ge,de]);const k={ref:mt,onClick(F){!oe&&typeof X=="function"&&X(F),oe&&Le.props&&typeof Le.props.onClick=="function"&&Le.props.onClick(F),ue&&(F.defaultPrevented||S(F,ue,xe,Re,A,P,O,G,ge))},onMouseEnter(F){!oe&&typeof ee=="function"&&ee(F),oe&&Le.props&&typeof Le.props.onMouseEnter=="function"&&Le.props.onMouseEnter(F),ue&&(!Ne&&ge||_(ue,xe,Re,{locale:G,priority:!0,bypassPrefetchedCheck:!0},{kind:de},ge))},onTouchStart:r.__NEXT_LINK_NO_TOUCH_START?void 0:function(W){!oe&&typeof ce=="function"&&ce(W),oe&&Le.props&&typeof Le.props.onTouchStart=="function"&&Le.props.onTouchStart(W),ue&&(!Ne&&ge||_(ue,xe,Re,{locale:G,priority:!0,bypassPrefetchedCheck:!0},{kind:de},ge))}};if((0,d.isAbsoluteUrl)(Re))k.href=Re;else if(!oe||T||Le.type==="a"&&!("href"in Le.props)){const F=typeof G<"u"?G:he==null?void 0:he.locale,W=(he==null?void 0:he.isLocaleDomain)&&(0,w.getDomainLocale)(Re,F,he==null?void 0:he.locales,he==null?void 0:he.domainLocales);k.href=W||(0,v.addBasePath)((0,u.addLocale)(Re,F,he==null?void 0:he.defaultLocale))}return oe?a.default.cloneElement(Le,k):(0,o.jsx)("a",{...Te,...k,children:Z})});(typeof t.default=="function"||typeof t.default=="object"&&t.default!==null)&&typeof t.default.__esModule>"u"&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)})(vl,vl.exports);var y1=vl.exports,w1=y1;const $r=Wu(w1);function sc(e){const t=e+"CollectionProvider",[r,n]=Jt(t),[o,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),l=v=>{const{scope:y,children:N}=v,_=H.useRef(null),j=H.useRef(new Map).current;return s.jsx(o,{scope:y,itemMap:j,collectionRef:_,children:N})};l.displayName=t;const i=e+"CollectionSlot",c=cn(i),d=H.forwardRef((v,y)=>{const{scope:N,children:_}=v,j=a(i,N),S=Oe(y,j.collectionRef);return s.jsx(c,{ref:S,children:_})});d.displayName=i;const u=e+"CollectionItemSlot",f="data-radix-collection-item",g=cn(u),p=H.forwardRef((v,y)=>{const{scope:N,children:_,...j}=v,S=H.useRef(null),E=Oe(y,S),D=a(u,N);return H.useEffect(()=>(D.itemMap.set(S,{ref:S,...j}),()=>void D.itemMap.delete(S))),s.jsx(g,{[f]:"",ref:E,children:_})});p.displayName=u;function w(v){const y=a(e+"CollectionConsumer",v);return H.useCallback(()=>{const _=y.collectionRef.current;if(!_)return[];const j=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((D,I)=>j.indexOf(D.ref.current)-j.indexOf(I.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:l,Slot:d,ItemSlot:p},w,n]}var b1=m.createContext(void 0);function Xs(e){const t=m.useContext(b1);return e||t||"ltr"}var $i=0;function oc(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ru()),document.body.insertAdjacentElement("beforeend",e[1]??ru()),$i++,()=>{$i===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$i--}},[])}function ru(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Bi="focusScope.autoFocusOnMount",Ui="focusScope.autoFocusOnUnmount",nu={bubbles:!1,cancelable:!0},_1="FocusScope",Da=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...l}=e,[i,c]=m.useState(null),d=it(o),u=it(a),f=m.useRef(null),g=Oe(t,v=>c(v)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(j){if(p.paused||!i)return;const S=j.target;i.contains(S)?f.current=S:Fr(f.current,{select:!0})},y=function(j){if(p.paused||!i)return;const S=j.relatedTarget;S!==null&&(i.contains(S)||Fr(f.current,{select:!0}))},N=function(j){if(document.activeElement===document.body)for(const E of j)E.removedNodes.length>0&&Fr(i)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const _=new MutationObserver(N);return i&&_.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),_.disconnect()}}},[n,i,p.paused]),m.useEffect(()=>{if(i){ou.add(p);const v=document.activeElement;if(!i.contains(v)){const N=new CustomEvent(Bi,nu);i.addEventListener(Bi,d),i.dispatchEvent(N),N.defaultPrevented||(N1(A1(_m(i)),{select:!0}),document.activeElement===v&&Fr(i))}return()=>{i.removeEventListener(Bi,d),setTimeout(()=>{const N=new CustomEvent(Ui,nu);i.addEventListener(Ui,u),i.dispatchEvent(N),N.defaultPrevented||Fr(v??document.body,{select:!0}),i.removeEventListener(Ui,u),ou.remove(p)},0)}}},[i,d,u,p]);const w=m.useCallback(v=>{if(!r&&!n||p.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(y&&N){const _=v.currentTarget,[j,S]=j1(_);j&&S?!v.shiftKey&&N===S?(v.preventDefault(),r&&Fr(j,{select:!0})):v.shiftKey&&N===j&&(v.preventDefault(),r&&Fr(S,{select:!0})):N===_&&v.preventDefault()}},[r,n,p.paused]);return s.jsx(Ce.div,{tabIndex:-1,...l,ref:g,onKeyDown:w})});Da.displayName=_1;function N1(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Fr(n,{select:t}),document.activeElement!==r)return}function j1(e){const t=_m(e),r=su(t,e),n=su(t.reverse(),e);return[r,n]}function _m(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function su(e,t){for(const r of e)if(!S1(r,{upTo:t}))return r}function S1(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function E1(e){return e instanceof HTMLInputElement&&"select"in e}function Fr(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&E1(e)&&t&&e.select()}}var ou=C1();function C1(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=au(e,t),e.unshift(t)},remove(t){var r;e=au(e,t),(r=e[0])==null||r.resume()}}}function au(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function A1(e){return e.filter(t=>t.tagName!=="A")}var Vi="rovingFocusGroup.onEntryFocus",k1={bubbles:!1,cancelable:!0},Qs="RovingFocusGroup",[yl,Nm,T1]=sc(Qs),[R1,Oa]=Jt(Qs,[T1]),[P1,I1]=R1(Qs),jm=m.forwardRef((e,t)=>s.jsx(yl.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(yl.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(M1,{...e,ref:t})})}));jm.displayName=Qs;var M1=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:u=!1,...f}=e,g=m.useRef(null),p=Oe(t,g),w=Xs(a),[v,y]=un({prop:l,defaultProp:i??null,onChange:c,caller:Qs}),[N,_]=m.useState(!1),j=it(d),S=Nm(r),E=m.useRef(!1),[D,I]=m.useState(0);return m.useEffect(()=>{const B=g.current;if(B)return B.addEventListener(Vi,j),()=>B.removeEventListener(Vi,j)},[j]),s.jsx(P1,{scope:r,orientation:n,dir:w,loop:o,currentTabStopId:v,onItemFocus:m.useCallback(B=>y(B),[y]),onItemShiftTab:m.useCallback(()=>_(!0),[]),onFocusableItemAdd:m.useCallback(()=>I(B=>B+1),[]),onFocusableItemRemove:m.useCallback(()=>I(B=>B-1),[]),children:s.jsx(Ce.div,{tabIndex:N||D===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ie(e.onMouseDown,()=>{E.current=!0}),onFocus:ie(e.onFocus,B=>{const $=!E.current;if(B.target===B.currentTarget&&$&&!N){const q=new CustomEvent(Vi,k1);if(B.currentTarget.dispatchEvent(q),!q.defaultPrevented){const Z=S().filter(T=>T.focusable),V=Z.find(T=>T.active),Y=Z.find(T=>T.id===v),M=[V,Y,...Z].filter(Boolean).map(T=>T.ref.current);Cm(M,u)}}E.current=!1}),onBlur:ie(e.onBlur,()=>_(!1))})})}),Sm="RovingFocusGroupItem",Em=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:a,children:l,...i}=e,c=jr(),d=a||c,u=I1(Sm,r),f=u.currentTabStopId===d,g=Nm(r),{onFocusableItemAdd:p,onFocusableItemRemove:w,currentTabStopId:v}=u;return m.useEffect(()=>{if(n)return p(),()=>w()},[n,p,w]),s.jsx(yl.ItemSlot,{scope:r,id:d,focusable:n,active:o,children:s.jsx(Ce.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:ie(e.onMouseDown,y=>{n?u.onItemFocus(d):y.preventDefault()}),onFocus:ie(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ie(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const N=L1(y,u.orientation,u.dir);if(N!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let j=g().filter(S=>S.focusable).map(S=>S.ref.current);if(N==="last")j.reverse();else if(N==="prev"||N==="next"){N==="prev"&&j.reverse();const S=j.indexOf(y.currentTarget);j=u.loop?F1(j,S+1):j.slice(S+1)}setTimeout(()=>Cm(j))}}),children:typeof l=="function"?l({isCurrentTabStop:f,hasTabStop:v!=null}):l})})});Em.displayName=Sm;var D1={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function O1(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function L1(e,t,r){const n=O1(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return D1[n]}function Cm(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function F1(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Am=jm,km=Em,$1=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},jn=new WeakMap,Eo=new WeakMap,Co={},Wi=0,Tm=function(e){return e&&(e.host||Tm(e.parentNode))},B1=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Tm(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},U1=function(e,t,r,n){var o=B1(t,Array.isArray(e)?e:[e]);Co[r]||(Co[r]=new WeakMap);var a=Co[r],l=[],i=new Set,c=new Set(o),d=function(f){!f||i.has(f)||(i.add(f),d(f.parentNode))};o.forEach(d);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(i.has(g))u(g);else try{var p=g.getAttribute(n),w=p!==null&&p!=="false",v=(jn.get(g)||0)+1,y=(a.get(g)||0)+1;jn.set(g,v),a.set(g,y),l.push(g),v===1&&w&&Eo.set(g,!0),y===1&&g.setAttribute(r,"true"),w||g.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return u(t),i.clear(),Wi++,function(){l.forEach(function(f){var g=jn.get(f)-1,p=a.get(f)-1;jn.set(f,g),a.set(f,p),g||(Eo.has(f)||f.removeAttribute(n),Eo.delete(f)),p||f.removeAttribute(r)}),Wi--,Wi||(jn=new WeakMap,jn=new WeakMap,Eo=new WeakMap,Co={})}},ac=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=$1(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),U1(n,o,r,"aria-hidden")):function(){return null}},tr=function(){return tr=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},tr.apply(this,arguments)};function Rm(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function V1(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Lo="right-scroll-bar-position",Fo="width-before-scroll-bar",W1="with-scroll-bars-hidden",z1="--removed-body-scroll-bar-size";function zi(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function H1(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var q1=typeof window<"u"?m.useLayoutEffect:m.useEffect,iu=new WeakMap;function Y1(e,t){var r=H1(null,function(n){return e.forEach(function(o){return zi(o,n)})});return q1(function(){var n=iu.get(r);if(n){var o=new Set(n),a=new Set(e),l=r.current;o.forEach(function(i){a.has(i)||zi(i,null)}),a.forEach(function(i){o.has(i)||zi(i,l)})}iu.set(r,e)},[e]),r}function G1(e){return e}function Z1(e,t){t===void 0&&(t=G1);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var l=t(a,n);return r.push(l),function(){r=r.filter(function(i){return i!==l})}},assignSyncMedium:function(a){for(n=!0;r.length;){var l=r;r=[],l.forEach(a)}r={push:function(i){return a(i)},filter:function(){return r}}},assignMedium:function(a){n=!0;var l=[];if(r.length){var i=r;r=[],i.forEach(a),l=r}var c=function(){var u=l;l=[],u.forEach(a)},d=function(){return Promise.resolve().then(c)};d(),r={push:function(u){l.push(u),d()},filter:function(u){return l=l.filter(u),r}}}};return o}function K1(e){e===void 0&&(e={});var t=Z1(null);return t.options=tr({async:!0,ssr:!1},e),t}var Pm=function(e){var t=e.sideCar,r=Rm(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,tr({},r))};Pm.isSideCarExport=!0;function X1(e,t){return e.useMedium(t),Pm}var Im=K1(),Hi=function(){},La=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Hi,onWheelCapture:Hi,onTouchMoveCapture:Hi}),o=n[0],a=n[1],l=e.forwardProps,i=e.children,c=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,g=e.sideCar,p=e.noIsolation,w=e.inert,v=e.allowPinchZoom,y=e.as,N=y===void 0?"div":y,_=e.gapMode,j=Rm(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=g,E=Y1([r,t]),D=tr(tr({},j),o);return m.createElement(m.Fragment,null,u&&m.createElement(S,{sideCar:Im,removeScrollBar:d,shards:f,noIsolation:p,inert:w,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:_}),l?m.cloneElement(m.Children.only(i),tr(tr({},D),{ref:E})):m.createElement(N,tr({},D,{className:c,ref:E}),i))});La.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};La.classNames={fullWidth:Fo,zeroRight:Lo};var Q1=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function J1(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Q1();return t&&e.setAttribute("nonce",t),e}function e_(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function t_(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var r_=function(){var e=0,t=null;return{add:function(r){e==0&&(t=J1())&&(e_(t,r),t_(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},n_=function(){var e=r_();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Mm=function(){var e=n_(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},s_={left:0,top:0,right:0,gap:0},qi=function(e){return parseInt(e||"",10)||0},o_=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[qi(r),qi(n),qi(o)]},a_=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return s_;var t=o_(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},i_=Mm(),Ln="data-scroll-locked",l_=function(e,t,r,n){var o=e.left,a=e.top,l=e.right,i=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(W1,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(i,"px ").concat(n,`;
  }
  body[`).concat(Ln,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(i,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lo,` {
    right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(Fo,` {
    margin-right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(Lo," .").concat(Lo,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Fo," .").concat(Fo,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ln,`] {
    `).concat(z1,": ").concat(i,`px;
  }
`)},lu=function(){var e=parseInt(document.body.getAttribute(Ln)||"0",10);return isFinite(e)?e:0},c_=function(){m.useEffect(function(){return document.body.setAttribute(Ln,(lu()+1).toString()),function(){var e=lu()-1;e<=0?document.body.removeAttribute(Ln):document.body.setAttribute(Ln,e.toString())}},[])},d_=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;c_();var a=m.useMemo(function(){return a_(o)},[o]);return m.createElement(i_,{styles:l_(a,!t,o,r?"":"!important")})},wl=!1;if(typeof window<"u")try{var Ao=Object.defineProperty({},"passive",{get:function(){return wl=!0,!0}});window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{wl=!1}var Sn=wl?{passive:!1}:!1,u_=function(e){return e.tagName==="TEXTAREA"},Dm=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!u_(e)&&r[t]==="visible")},f_=function(e){return Dm(e,"overflowY")},m_=function(e){return Dm(e,"overflowX")},cu=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=Om(e,n);if(o){var a=Lm(e,n),l=a[1],i=a[2];if(l>i)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},h_=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},p_=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Om=function(e,t){return e==="v"?f_(t):m_(t)},Lm=function(e,t){return e==="v"?h_(t):p_(t)},g_=function(e,t){return e==="h"&&t==="rtl"?-1:1},x_=function(e,t,r,n,o){var a=g_(e,window.getComputedStyle(t).direction),l=a*n,i=r.target,c=t.contains(i),d=!1,u=l>0,f=0,g=0;do{var p=Lm(e,i),w=p[0],v=p[1],y=p[2],N=v-y-a*w;(w||N)&&Om(e,i)&&(f+=N,g+=w),i instanceof ShadowRoot?i=i.host:i=i.parentNode}while(!c&&i!==document.body||c&&(t.contains(i)||t===i));return(u&&Math.abs(f)<1||!u&&Math.abs(g)<1)&&(d=!0),d},ko=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},du=function(e){return[e.deltaX,e.deltaY]},uu=function(e){return e&&"current"in e?e.current:e},v_=function(e,t){return e[0]===t[0]&&e[1]===t[1]},y_=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},w_=0,En=[];function b_(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),o=m.useState(w_++)[0],a=m.useState(Mm)[0],l=m.useRef(e);m.useEffect(function(){l.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var v=V1([e.lockRef.current],(e.shards||[]).map(uu),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=m.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!l.current.allowPinchZoom;var N=ko(v),_=r.current,j="deltaX"in v?v.deltaX:_[0]-N[0],S="deltaY"in v?v.deltaY:_[1]-N[1],E,D=v.target,I=Math.abs(j)>Math.abs(S)?"h":"v";if("touches"in v&&I==="h"&&D.type==="range")return!1;var B=cu(I,D);if(!B)return!0;if(B?E=I:(E=I==="v"?"h":"v",B=cu(I,D)),!B)return!1;if(!n.current&&"changedTouches"in v&&(j||S)&&(n.current=E),!E)return!0;var $=n.current||E;return x_($,y,v,$==="h"?j:S)},[]),c=m.useCallback(function(v){var y=v;if(!(!En.length||En[En.length-1]!==a)){var N="deltaY"in y?du(y):ko(y),_=t.current.filter(function(E){return E.name===y.type&&(E.target===y.target||y.target===E.shadowParent)&&v_(E.delta,N)})[0];if(_&&_.should){y.cancelable&&y.preventDefault();return}if(!_){var j=(l.current.shards||[]).map(uu).filter(Boolean).filter(function(E){return E.contains(y.target)}),S=j.length>0?i(y,j[0]):!l.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),d=m.useCallback(function(v,y,N,_){var j={name:v,delta:y,target:N,should:_,shadowParent:__(N)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(S){return S!==j})},1)},[]),u=m.useCallback(function(v){r.current=ko(v),n.current=void 0},[]),f=m.useCallback(function(v){d(v.type,du(v),v.target,i(v,e.lockRef.current))},[]),g=m.useCallback(function(v){d(v.type,ko(v),v.target,i(v,e.lockRef.current))},[]);m.useEffect(function(){return En.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Sn),document.addEventListener("touchmove",c,Sn),document.addEventListener("touchstart",u,Sn),function(){En=En.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,Sn),document.removeEventListener("touchmove",c,Sn),document.removeEventListener("touchstart",u,Sn)}},[]);var p=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(a,{styles:y_(o)}):null,p?m.createElement(d_,{gapMode:e.gapMode}):null)}function __(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const N_=X1(Im,b_);var Fa=m.forwardRef(function(e,t){return m.createElement(La,tr({},e,{ref:t,sideCar:N_}))});Fa.classNames=La.classNames;var bl=["Enter"," "],j_=["ArrowDown","PageUp","Home"],Fm=["ArrowUp","PageDown","End"],S_=[...j_,...Fm],E_={ltr:[...bl,"ArrowRight"],rtl:[...bl,"ArrowLeft"]},C_={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Js="Menu",[Es,A_,k_]=sc(Js),[bn,$m]=Jt(Js,[k_,Kr,Oa]),$a=Kr(),Bm=Oa(),[T_,_n]=bn(Js),[R_,eo]=bn(Js),Um=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:a,modal:l=!0}=e,i=$a(t),[c,d]=m.useState(null),u=m.useRef(!1),f=it(a),g=Xs(o);return m.useEffect(()=>{const p=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),s.jsx(_a,{...i,children:s.jsx(T_,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:d,children:s.jsx(R_,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:g,modal:l,children:n})})})};Um.displayName=Js;var P_="MenuAnchor",ic=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=$a(r);return s.jsx(Gs,{...o,...n,ref:t})});ic.displayName=P_;var lc="MenuPortal",[I_,Vm]=bn(lc,{forceMount:void 0}),Wm=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:o}=e,a=_n(lc,t);return s.jsx(I_,{scope:t,forceMount:r,children:s.jsx(Tt,{present:r||a.open,children:s.jsx(Sa,{asChild:!0,container:o,children:n})})})};Wm.displayName=lc;var Mt="MenuContent",[M_,cc]=bn(Mt),zm=m.forwardRef((e,t)=>{const r=Vm(Mt,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=_n(Mt,e.__scopeMenu),l=eo(Mt,e.__scopeMenu);return s.jsx(Es.Provider,{scope:e.__scopeMenu,children:s.jsx(Tt,{present:n||a.open,children:s.jsx(Es.Slot,{scope:e.__scopeMenu,children:l.modal?s.jsx(D_,{...o,ref:t}):s.jsx(O_,{...o,ref:t})})})})}),D_=m.forwardRef((e,t)=>{const r=_n(Mt,e.__scopeMenu),n=m.useRef(null),o=Oe(t,n);return m.useEffect(()=>{const a=n.current;if(a)return ac(a)},[]),s.jsx(dc,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ie(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),O_=m.forwardRef((e,t)=>{const r=_n(Mt,e.__scopeMenu);return s.jsx(dc,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),L_=cn("MenuContent.ScrollLock"),dc=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:i,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:g,onDismiss:p,disableOutsideScroll:w,...v}=e,y=_n(Mt,r),N=eo(Mt,r),_=$a(r),j=Bm(r),S=A_(r),[E,D]=m.useState(null),I=m.useRef(null),B=Oe(t,I,y.onContentChange),$=m.useRef(0),q=m.useRef(""),Z=m.useRef(0),V=m.useRef(null),Y=m.useRef("right"),L=m.useRef(0),M=w?Fa:m.Fragment,T=w?{as:L_,allowPinchZoom:!0}:void 0,A=O=>{var Q,ue;const G=q.current+O,X=S().filter(ge=>!ge.disabled),ee=document.activeElement,ce=(Q=X.find(ge=>ge.ref.current===ee))==null?void 0:Q.textValue,oe=X.map(ge=>ge.textValue),Te=Z_(oe,G,ce),he=(ue=X.find(ge=>ge.textValue===Te))==null?void 0:ue.ref.current;(function ge(Ne){q.current=Ne,window.clearTimeout($.current),Ne!==""&&($.current=window.setTimeout(()=>ge(""),1e3))})(G),he&&setTimeout(()=>he.focus())};m.useEffect(()=>()=>window.clearTimeout($.current),[]),oc();const P=m.useCallback(O=>{var X,ee;return Y.current===((X=V.current)==null?void 0:X.side)&&X_(O,(ee=V.current)==null?void 0:ee.area)},[]);return s.jsx(M_,{scope:r,searchRef:q,onItemEnter:m.useCallback(O=>{P(O)&&O.preventDefault()},[P]),onItemLeave:m.useCallback(O=>{var G;P(O)||((G=I.current)==null||G.focus(),D(null))},[P]),onTriggerLeave:m.useCallback(O=>{P(O)&&O.preventDefault()},[P]),pointerGraceTimerRef:Z,onPointerGraceIntentChange:m.useCallback(O=>{V.current=O},[]),children:s.jsx(M,{...T,children:s.jsx(Da,{asChild:!0,trapped:o,onMountAutoFocus:ie(a,O=>{var G;O.preventDefault(),(G=I.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:s.jsx(qs,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:g,onDismiss:p,children:s.jsx(Am,{asChild:!0,...j,dir:N.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:D,onEntryFocus:ie(c,O=>{N.isUsingKeyboardRef.current||O.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Na,{role:"menu","aria-orientation":"vertical","data-state":ah(y.open),"data-radix-menu-content":"",dir:N.dir,..._,...v,ref:B,style:{outline:"none",...v.style},onKeyDown:ie(v.onKeyDown,O=>{const X=O.target.closest("[data-radix-menu-content]")===O.currentTarget,ee=O.ctrlKey||O.altKey||O.metaKey,ce=O.key.length===1;X&&(O.key==="Tab"&&O.preventDefault(),!ee&&ce&&A(O.key));const oe=I.current;if(O.target!==oe||!S_.includes(O.key))return;O.preventDefault();const he=S().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);Fm.includes(O.key)&&he.reverse(),Y_(he)}),onBlur:ie(e.onBlur,O=>{O.currentTarget.contains(O.target)||(window.clearTimeout($.current),q.current="")}),onPointerMove:ie(e.onPointerMove,Cs(O=>{const G=O.target,X=L.current!==O.clientX;if(O.currentTarget.contains(G)&&X){const ee=O.clientX>L.current?"right":"left";Y.current=ee,L.current=O.clientX}}))})})})})})})});zm.displayName=Mt;var F_="MenuGroup",uc=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ce.div,{role:"group",...n,ref:t})});uc.displayName=F_;var $_="MenuLabel",Hm=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ce.div,{...n,ref:t})});Hm.displayName=$_;var Xo="MenuItem",fu="menu.itemSelect",Ba=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...o}=e,a=m.useRef(null),l=eo(Xo,e.__scopeMenu),i=cc(Xo,e.__scopeMenu),c=Oe(t,a),d=m.useRef(!1),u=()=>{const f=a.current;if(!r&&f){const g=new CustomEvent(fu,{bubbles:!0,cancelable:!0});f.addEventListener(fu,p=>n==null?void 0:n(p),{once:!0}),Ku(f,g),g.defaultPrevented?d.current=!1:l.onClose()}};return s.jsx(qm,{...o,ref:c,disabled:r,onClick:ie(e.onClick,u),onPointerDown:f=>{var g;(g=e.onPointerDown)==null||g.call(e,f),d.current=!0},onPointerUp:ie(e.onPointerUp,f=>{var g;d.current||(g=f.currentTarget)==null||g.click()}),onKeyDown:ie(e.onKeyDown,f=>{const g=i.searchRef.current!=="";r||g&&f.key===" "||bl.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ba.displayName=Xo;var qm=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...a}=e,l=cc(Xo,r),i=Bm(r),c=m.useRef(null),d=Oe(t,c),[u,f]=m.useState(!1),[g,p]=m.useState("");return m.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[a.children]),s.jsx(Es.ItemSlot,{scope:r,disabled:n,textValue:o??g,children:s.jsx(km,{asChild:!0,...i,focusable:!n,children:s.jsx(Ce.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:d,onPointerMove:ie(e.onPointerMove,Cs(w=>{n?l.onItemLeave(w):(l.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ie(e.onPointerLeave,Cs(w=>l.onItemLeave(w))),onFocus:ie(e.onFocus,()=>f(!0)),onBlur:ie(e.onBlur,()=>f(!1))})})})}),B_="MenuCheckboxItem",Ym=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...o}=e;return s.jsx(Qm,{scope:e.__scopeMenu,checked:r,children:s.jsx(Ba,{role:"menuitemcheckbox","aria-checked":Qo(r)?"mixed":r,...o,ref:t,"data-state":mc(r),onSelect:ie(o.onSelect,()=>n==null?void 0:n(Qo(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Ym.displayName=B_;var Gm="MenuRadioGroup",[U_,V_]=bn(Gm,{value:void 0,onValueChange:()=>{}}),Zm=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...o}=e,a=it(n);return s.jsx(U_,{scope:e.__scopeMenu,value:r,onValueChange:a,children:s.jsx(uc,{...o,ref:t})})});Zm.displayName=Gm;var Km="MenuRadioItem",Xm=m.forwardRef((e,t)=>{const{value:r,...n}=e,o=V_(Km,e.__scopeMenu),a=r===o.value;return s.jsx(Qm,{scope:e.__scopeMenu,checked:a,children:s.jsx(Ba,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":mc(a),onSelect:ie(n.onSelect,()=>{var l;return(l=o.onValueChange)==null?void 0:l.call(o,r)},{checkForDefaultPrevented:!1})})})});Xm.displayName=Km;var fc="MenuItemIndicator",[Qm,W_]=bn(fc,{checked:!1}),Jm=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...o}=e,a=W_(fc,r);return s.jsx(Tt,{present:n||Qo(a.checked)||a.checked===!0,children:s.jsx(Ce.span,{...o,ref:t,"data-state":mc(a.checked)})})});Jm.displayName=fc;var z_="MenuSeparator",eh=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ce.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});eh.displayName=z_;var H_="MenuArrow",th=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=$a(r);return s.jsx(ja,{...o,...n,ref:t})});th.displayName=H_;var q_="MenuSub",[wk,rh]=bn(q_),ms="MenuSubTrigger",nh=m.forwardRef((e,t)=>{const r=_n(ms,e.__scopeMenu),n=eo(ms,e.__scopeMenu),o=rh(ms,e.__scopeMenu),a=cc(ms,e.__scopeMenu),l=m.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:c}=a,d={__scopeMenu:e.__scopeMenu},u=m.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return m.useEffect(()=>u,[u]),m.useEffect(()=>{const f=i.current;return()=>{window.clearTimeout(f),c(null)}},[i,c]),s.jsx(ic,{asChild:!0,...d,children:s.jsx(qm,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":ah(r.open),...e,ref:va(t,o.onTriggerChange),onClick:f=>{var g;(g=e.onClick)==null||g.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ie(e.onPointerMove,Cs(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),u()},100))})),onPointerLeave:ie(e.onPointerLeave,Cs(f=>{var p,w;u();const g=(p=r.content)==null?void 0:p.getBoundingClientRect();if(g){const v=(w=r.content)==null?void 0:w.dataset.side,y=v==="right",N=y?-5:5,_=g[y?"left":"right"],j=g[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:_,y:g.top},{x:j,y:g.top},{x:j,y:g.bottom},{x:_,y:g.bottom}],side:v}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ie(e.onKeyDown,f=>{var p;const g=a.searchRef.current!=="";e.disabled||g&&f.key===" "||E_[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});nh.displayName=ms;var sh="MenuSubContent",oh=m.forwardRef((e,t)=>{const r=Vm(Mt,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,a=_n(Mt,e.__scopeMenu),l=eo(Mt,e.__scopeMenu),i=rh(sh,e.__scopeMenu),c=m.useRef(null),d=Oe(t,c);return s.jsx(Es.Provider,{scope:e.__scopeMenu,children:s.jsx(Tt,{present:n||a.open,children:s.jsx(Es.Slot,{scope:e.__scopeMenu,children:s.jsx(dc,{id:i.contentId,"aria-labelledby":i.triggerId,...o,ref:d,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;l.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ie(e.onFocusOutside,u=>{u.target!==i.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ie(e.onEscapeKeyDown,u=>{l.onClose(),u.preventDefault()}),onKeyDown:ie(e.onKeyDown,u=>{var p;const f=u.currentTarget.contains(u.target),g=C_[l.dir].includes(u.key);f&&g&&(a.onOpenChange(!1),(p=i.trigger)==null||p.focus(),u.preventDefault())})})})})})});oh.displayName=sh;function ah(e){return e?"open":"closed"}function Qo(e){return e==="indeterminate"}function mc(e){return Qo(e)?"indeterminate":e?"checked":"unchecked"}function Y_(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function G_(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Z_(e,t,r){const o=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let l=G_(e,Math.max(a,0));o.length===1&&(l=l.filter(d=>d!==r));const c=l.find(d=>d.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function K_(e,t){const{x:r,y:n}=e;let o=!1;for(let a=0,l=t.length-1;a<t.length;l=a++){const i=t[a],c=t[l],d=i.x,u=i.y,f=c.x,g=c.y;u>n!=g>n&&r<(f-d)*(n-u)/(g-u)+d&&(o=!o)}return o}function X_(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return K_(r,t)}function Cs(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Q_=Um,J_=ic,eN=Wm,tN=zm,rN=uc,nN=Hm,sN=Ba,oN=Ym,aN=Zm,iN=Xm,lN=Jm,cN=eh,dN=th,uN=nh,fN=oh,Ua="DropdownMenu",[mN,bk]=Jt(Ua,[$m]),vt=$m(),[hN,ih]=mN(Ua),lh=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:a,onOpenChange:l,modal:i=!0}=e,c=vt(t),d=m.useRef(null),[u,f]=un({prop:o,defaultProp:a??!1,onChange:l,caller:Ua});return s.jsx(hN,{scope:t,triggerId:jr(),triggerRef:d,contentId:jr(),open:u,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(g=>!g),[f]),modal:i,children:s.jsx(Q_,{...c,open:u,onOpenChange:f,dir:n,modal:i,children:r})})};lh.displayName=Ua;var ch="DropdownMenuTrigger",dh=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,a=ih(ch,r),l=vt(r);return s.jsx(J_,{asChild:!0,...l,children:s.jsx(Ce.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:va(t,a.triggerRef),onPointerDown:ie(e.onPointerDown,i=>{!n&&i.button===0&&i.ctrlKey===!1&&(a.onOpenToggle(),a.open||i.preventDefault())}),onKeyDown:ie(e.onKeyDown,i=>{n||(["Enter"," "].includes(i.key)&&a.onOpenToggle(),i.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});dh.displayName=ch;var pN="DropdownMenuPortal",uh=e=>{const{__scopeDropdownMenu:t,...r}=e,n=vt(t);return s.jsx(eN,{...n,...r})};uh.displayName=pN;var fh="DropdownMenuContent",mh=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=ih(fh,r),a=vt(r),l=m.useRef(!1);return s.jsx(tN,{id:o.contentId,"aria-labelledby":o.triggerId,...a,...n,ref:t,onCloseAutoFocus:ie(e.onCloseAutoFocus,i=>{var c;l.current||(c=o.triggerRef.current)==null||c.focus(),l.current=!1,i.preventDefault()}),onInteractOutside:ie(e.onInteractOutside,i=>{const c=i.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,u=c.button===2||d;(!o.modal||u)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});mh.displayName=fh;var gN="DropdownMenuGroup",xN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=vt(r);return s.jsx(rN,{...o,...n,ref:t})});xN.displayName=gN;var vN="DropdownMenuLabel",hh=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=vt(r);return s.jsx(nN,{...o,...n,ref:t})});hh.displayName=vN;var yN="DropdownMenuItem",ph=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=vt(r);return s.jsx(sN,{...o,...n,ref:t})});ph.displayName=yN;var wN="DropdownMenuCheckboxItem",gh=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=vt(r);return s.jsx(oN,{...o,...n,ref:t})});gh.displayName=wN;var bN="DropdownMenuRadioGroup",_N=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=vt(r);return s.jsx(aN,{...o,...n,ref:t})});_N.displayName=bN;var NN="DropdownMenuRadioItem",xh=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=vt(r);return s.jsx(iN,{...o,...n,ref:t})});xh.displayName=NN;var jN="DropdownMenuItemIndicator",vh=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=vt(r);return s.jsx(lN,{...o,...n,ref:t})});vh.displayName=jN;var SN="DropdownMenuSeparator",yh=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=vt(r);return s.jsx(cN,{...o,...n,ref:t})});yh.displayName=SN;var EN="DropdownMenuArrow",CN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=vt(r);return s.jsx(dN,{...o,...n,ref:t})});CN.displayName=EN;var AN="DropdownMenuSubTrigger",wh=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=vt(r);return s.jsx(uN,{...o,...n,ref:t})});wh.displayName=AN;var kN="DropdownMenuSubContent",bh=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=vt(r);return s.jsx(fN,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bh.displayName=kN;var TN=lh,RN=dh,PN=uh,_h=mh,Nh=hh,jh=ph,Sh=gh,Eh=xh,Ch=vh,Ah=yh,kh=wh,Th=bh;const Rh=TN,Ph=RN,IN=m.forwardRef(({className:e,inset:t,children:r,...n},o)=>s.jsxs(kh,{ref:o,className:ae("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(wn,{className:"ml-auto h-4 w-4"})]}));IN.displayName=kh.displayName;const MN=m.forwardRef(({className:e,...t},r)=>s.jsx(Th,{ref:r,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-black text-white shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));MN.displayName=Th.displayName;const hc=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(PN,{children:s.jsx(_h,{ref:n,sideOffset:t,className:ae("z-50 min-w-[8rem] overflow-hidden rounded-md border border-white/10 bg-black p-1 text-white shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));hc.displayName=_h.displayName;const rr=m.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(jh,{ref:n,className:ae("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-white/10 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));rr.displayName=jh.displayName;const DN=m.forwardRef(({className:e,children:t,checked:r,...n},o)=>s.jsxs(Sh,{ref:o,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-white/10 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Ch,{children:s.jsx(er,{className:"h-4 w-4"})})}),t]}));DN.displayName=Sh.displayName;const ON=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Eh,{ref:n,className:ae("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-white/10 focus:text-white data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Ch,{children:s.jsx(A0,{className:"h-2 w-2 fill-current"})})}),t]}));ON.displayName=Eh.displayName;const LN=m.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Nh,{ref:n,className:ae("px-2 py-1.5 text-sm font-semibold text-white/80",t&&"pl-8",e),...r}));LN.displayName=Nh.displayName;const Fn=m.forwardRef(({className:e,...t},r)=>s.jsx(Ah,{ref:r,className:ae("-mx-1 my-1 h-px bg-white/10",e),...t}));Fn.displayName=Ah.displayName;var Ih={exports:{}},Mh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qn=m;function FN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $N=typeof Object.is=="function"?Object.is:FN,BN=qn.useState,UN=qn.useEffect,VN=qn.useLayoutEffect,WN=qn.useDebugValue;function zN(e,t){var r=t(),n=BN({inst:{value:r,getSnapshot:t}}),o=n[0].inst,a=n[1];return VN(function(){o.value=r,o.getSnapshot=t,Yi(o)&&a({inst:o})},[e,r,t]),UN(function(){return Yi(o)&&a({inst:o}),e(function(){Yi(o)&&a({inst:o})})},[e]),WN(r),r}function Yi(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$N(e,r)}catch{return!0}}function HN(e,t){return t()}var qN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HN:zN;Mh.useSyncExternalStore=qn.useSyncExternalStore!==void 0?qn.useSyncExternalStore:qN;Ih.exports=Mh;var YN=Ih.exports;function GN(){return YN.useSyncExternalStore(ZN,()=>!0,()=>!1)}function ZN(){return()=>{}}var pc="Avatar",[KN,_k]=Jt(pc),[XN,Dh]=KN(pc),Oh=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[o,a]=m.useState("idle");return s.jsx(XN,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:s.jsx(Ce.span,{...n,ref:t})})});Oh.displayName=pc;var Lh="AvatarImage",Fh=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:o=()=>{},...a}=e,l=Dh(Lh,r),i=QN(n,a),c=it(d=>{o(d),l.onImageLoadingStatusChange(d)});return nt(()=>{i!=="idle"&&c(i)},[i,c]),i==="loaded"?s.jsx(Ce.img,{...a,ref:t,src:n}):null});Fh.displayName=Lh;var $h="AvatarFallback",Bh=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...o}=e,a=Dh($h,r),[l,i]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>i(!0),n);return()=>window.clearTimeout(c)}},[n]),l&&a.imageLoadingStatus!=="loaded"?s.jsx(Ce.span,{...o,ref:t}):null});Bh.displayName=$h;function mu(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function QN(e,{referrerPolicy:t,crossOrigin:r}){const n=GN(),o=m.useRef(null),a=n?(o.current||(o.current=new window.Image),o.current):null,[l,i]=m.useState(()=>mu(a,e));return nt(()=>{i(mu(a,e))},[a,e]),nt(()=>{const c=f=>()=>{i(f)};if(!a)return;const d=c("loaded"),u=c("error");return a.addEventListener("load",d),a.addEventListener("error",u),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",d),a.removeEventListener("error",u)}},[a,r,t]),l}var Uh=Oh,Vh=Fh,Wh=Bh;const As=m.forwardRef(({className:e,...t},r)=>s.jsx(Uh,{ref:r,className:ae("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));As.displayName=Uh.displayName;const Jo=m.forwardRef(({className:e,...t},r)=>s.jsx(Vh,{ref:r,className:ae("aspect-square h-full w-full",e),...t}));Jo.displayName=Vh.displayName;const ks=m.forwardRef(({className:e,...t},r)=>s.jsx(Wh,{ref:r,className:ae("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ks.displayName=Wh.displayName;const zh=()=>{const{user:e,profile:t,logout:r,isAuthenticated:n,isLoading:o}=pr();if(o)return s.jsx(pe,{variant:"ghost",size:"icon",disabled:!0,className:"relative h-8 w-8 rounded-full",children:s.jsx(As,{className:"h-8 w-8",children:s.jsx(ks,{className:"bg-primary/10 text-primary",children:"..."})})});if(!n)return s.jsx(pe,{asChild:!0,variant:"default",children:s.jsx($r,{href:"/auth",children:"Log in"})});const a=()=>t!=null&&t.username?t.username:t!=null&&t.full_name?t.full_name:e!=null&&e.email?e.email.split("@")[0]:"User",l=()=>(t==null?void 0:t.avatar_url)||void 0,i=()=>t!=null&&t.full_name?t.full_name.split(" ").map(c=>c[0]).join("").toUpperCase():a().charAt(0).toUpperCase();return s.jsxs(Rh,{children:[s.jsx(Ph,{asChild:!0,children:s.jsx(pe,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:s.jsxs(As,{className:"h-8 w-8",children:[s.jsx(Jo,{src:l(),alt:a()}),s.jsx(ks,{className:"bg-primary/10 text-primary",children:i()})]})})}),s.jsxs(hc,{align:"end",className:"w-56",children:[s.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:s.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[s.jsx("p",{className:"font-medium",children:a()}),(e==null?void 0:e.email)&&s.jsx("p",{className:"w-[200px] truncate text-sm text-muted-foreground",children:e.email})]})}),s.jsx(Fn,{}),s.jsx(rr,{asChild:!0,children:s.jsxs($r,{href:"/profile",className:"flex items-center",children:[s.jsx(dm,{className:"mr-2 h-4 w-4"}),"Profile"]})}),s.jsx(rr,{asChild:!0,children:s.jsxs($r,{href:"/profile/settings",className:"flex items-center",children:[s.jsx(L0,{className:"mr-2 h-4 w-4"}),"Settings"]})}),(t==null?void 0:t.is_admin)&&s.jsxs(s.Fragment,{children:[s.jsx(Fn,{}),s.jsx(rr,{asChild:!0,children:s.jsxs($r,{href:"/admin",className:"flex items-center",children:[s.jsx(F0,{className:"mr-2 h-4 w-4"}),"Admin Dashboard"]})}),s.jsx(rr,{asChild:!0,children:s.jsxs($r,{href:"/import",className:"flex items-center",children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M12 3v12"}),s.jsx("path",{d:"M8 11l4 4 4-4"}),s.jsx("path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4"})]}),"Import Venues"]})})]}),s.jsx(Fn,{}),s.jsxs(rr,{className:"text-destructive focus:text-destructive cursor-pointer",onClick:r,children:[s.jsx(D0,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})},JN=({isOpen:e,searchQuery:t,setSearchQuery:r,artists:n,isLoading:o,handleFullSearch:a,handleNavigation:l,closeMenu:i,isSearchPage:c=!1})=>{const d=mr(),u=p=>p==="/"?d.pathname==="/":d.pathname.startsWith(p),f=d.pathname==="/";if(!e)return null;const g=p=>{l(p),r(""),i()};return s.jsx("div",{className:"fixed inset-0 top-16 z-50 bg-background animate-in slide-in-from-top-5",children:s.jsxs("nav",{className:"container flex flex-col gap-6 p-6",children:[s.jsx(Ee,{to:"/",className:`text-lg ${u("/")?"font-semibold text-primary":"text-foreground"}`,onClick:i,children:"Home"}),s.jsx(Ee,{to:"/artists",className:`text-lg ${u("/artists")?"font-semibold text-primary":"text-foreground"}`,onClick:i,children:"Artists"}),s.jsx(Ee,{to:"/shows",className:`text-lg ${u("/shows")?"font-semibold text-primary":"text-foreground"}`,onClick:i,children:"Upcoming Shows"}),s.jsx(Ee,{to:"/how-it-works",className:`text-lg ${u("/how-it-works")?"font-semibold text-primary":"text-foreground"}`,onClick:i,children:"How It Works"}),!f&&s.jsx("div",{className:"mt-2",children:s.jsx(Ks,{placeholder:"Search artists...",onChange:p=>r(p),onSearch:p=>{a(p),i()},value:t,className:"w-full",disableRedirect:c,children:t.length>2&&n.length>0&&s.jsx("div",{className:"bg-background border border-border rounded-md shadow-md",children:o?s.jsx("div",{className:"p-4 text-center",children:"Loading artists..."}):n.length===0?s.jsx("div",{className:"p-4 text-center",children:"No artists found"}):s.jsx("ul",{className:"max-h-[300px] overflow-y-auto",children:n.map(p=>s.jsx("li",{children:s.jsx("button",{className:"w-full p-3 text-left hover:bg-muted flex items-center",onClick:()=>g(p.id),children:p.name})},p.id))})})})}),s.jsx("div",{className:"mt-4",children:s.jsx(zh,{})})]})})},ej=()=>{const e=mr(),t=r=>r==="/"?e.pathname==="/":e.pathname.startsWith(r);return s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("nav",{className:"flex items-center gap-6",children:[s.jsx(Ee,{to:"/",className:`text-sm font-medium ${t("/")?"text-primary":"text-foreground/80 hover:text-foreground"}`,children:"Home"}),s.jsx(Ee,{to:"/artists",className:`text-sm font-medium ${t("/artists")?"text-primary":"text-foreground/80 hover:text-foreground"}`,children:"Artists"}),s.jsx(Ee,{to:"/shows",className:`text-sm font-medium ${t("/shows")?"text-primary":"text-foreground/80 hover:text-foreground"}`,children:"Upcoming Shows"}),s.jsx(Ee,{to:"/how-it-works",className:`text-sm font-medium ${t("/how-it-works")?"text-primary":"text-foreground/80 hover:text-foreground"}`,children:"How It Works"})]}),s.jsx(zh,{})]})},Hh=({artists:e,isLoading:t,onSelect:r,className:n,simplified:o=!1})=>{if(t)return s.jsx("div",{className:ae("py-1 bg-background border border-border rounded-lg shadow-lg",n),children:[...Array(3)].map((l,i)=>s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2",children:[!o&&s.jsx("div",{className:"w-10 h-10 rounded-md bg-secondary animate-pulse"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 w-24 bg-secondary rounded animate-pulse"}),s.jsx("div",{className:"h-3 w-16 bg-secondary rounded mt-1 animate-pulse"})]})]},i))});if(e.length===0)return null;const a=l=>{r&&(console.log(`Artist selected: ${l.name} (ID: ${l.id})`),r(l))};return o?s.jsx("div",{className:ae("py-1 bg-background border border-border rounded-lg shadow-lg divide-y divide-border",n),children:e.map(l=>s.jsxs(Ee,{to:`/artists/${l.id}`,className:"flex items-center justify-between px-4 py-2.5 hover:bg-secondary/80 transition-colors",onClick:()=>a(l),children:[s.jsx("div",{className:"font-medium",children:l.name}),s.jsxs("div",{className:"text-xs flex items-center text-muted-foreground",children:[s.jsx(mn,{size:12,className:"mr-1"}),l.upcomingShows," ",l.upcomingShows===1?"show":"shows"]})]},l.id))}):s.jsx("div",{className:ae("py-1 bg-background border border-border rounded-lg shadow-lg divide-y divide-border",n),children:e.map(l=>s.jsxs(Ee,{to:`/artists/${l.id}`,className:"flex items-center gap-3 px-3 py-2 hover:bg-secondary transition-colors",onClick:()=>a(l),children:[l.image?s.jsx("img",{src:l.image,alt:l.name,className:"w-10 h-10 rounded-md object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-md bg-secondary flex items-center justify-center",children:s.jsx(dt,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:l.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.upcomingShows," upcoming ",l.upcomingShows===1?"show":"shows"]})]})]},l.id))})},tj=({searchQuery:e,setSearchQuery:t,artists:r,isLoading:n,handleFullSearch:o,handleNavigation:a,isSearchPage:l=!1})=>s.jsx("div",{className:"w-64 md:flex mx-4 relative",children:s.jsx(Ks,{placeholder:"Search artists...",onChange:i=>t(i),onSearch:o,value:e,className:"w-full",disableRedirect:l,children:e.length>2&&s.jsx(Hh,{artists:r,isLoading:n,onSelect:i=>{a(i.id),t("")}})})}),Je=({showSearch:e=!0})=>{const[t,r]=m.useState(!1),[n,o]=m.useState(""),[a,l]=m.useState(""),i=mr(),c=V0(),d=jt(),u=i.pathname==="/",f=i.pathname==="/search";m.useEffect(()=>{const _=setTimeout(()=>{l(n)},300);return()=>clearTimeout(_)},[n]);const{data:g=[],isLoading:p}=at({queryKey:["navSearch",a],queryFn:()=>Zs(a,5),enabled:a.length>2}),w=()=>r(!t),v=()=>r(!1),y=_=>{_.trim()&&!f&&(d(`/search?q=${encodeURIComponent(_)}`),o(""))},N=async _=>{const j=g.find(S=>S.id===_);if(j)try{await fetch("/api/artists/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)})}catch(S){console.error("Error importing artist:",S)}d(`/artists/${_}`),o("")};return s.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[s.jsx(Ee,{to:"/",className:"flex items-center",onClick:v,children:s.jsx("span",{className:"text-xl font-semibold logo",children:"TheSet"})}),!u&&e&&!c&&s.jsx(tj,{searchQuery:n,setSearchQuery:o,artists:g,isLoading:p,handleFullSearch:y,handleNavigation:N,isSearchPage:f}),c?s.jsxs(s.Fragment,{children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:w,"aria-label":t?"Close menu":"Open menu",children:t?s.jsx(Jl,{size:20}):s.jsx(O0,{size:20})}),s.jsx(JN,{isOpen:t,searchQuery:n,setSearchQuery:o,artists:g,isLoading:p,handleFullSearch:y,handleNavigation:N,closeMenu:v,isSearchPage:f})]}):s.jsx(ej,{})]})})},et=()=>s.jsxs("footer",{className:"bg-background border-t border-border py-12 px-6 md:px-8 lg:px-12",children:[s.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-10",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"TheSet"}),s.jsx("p",{className:"text-muted-foreground max-w-xs",children:"A platform for fans to influence concert setlists through voting, connecting artists with their audience."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-medium mb-4",children:"Navigation"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ee,{to:"/",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Home"})}),s.jsx("li",{children:s.jsx(Ee,{to:"/artists",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Artists"})}),s.jsx("li",{children:s.jsx(Ee,{to:"/shows",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Shows"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-base font-medium mb-4",children:"Legal"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx(Ee,{to:"/privacy",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx(Ee,{to:"/terms",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Terms of Service"})}),s.jsx("li",{children:s.jsx(Ee,{to:"/about",className:"text-muted-foreground hover:text-foreground transition-colors",children:"About"})})]})]})]}),s.jsxs("div",{className:"max-w-7xl mx-auto mt-10 pt-6 border-t border-border flex flex-col md:flex-row justify-between items-center",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["© ",new Date().getFullYear()," TheSet. All rights reserved."]}),s.jsx("div",{className:"mt-4 md:mt-0",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"Made with passion for music fans worldwide"})})]})]}),gc=({query:e,artists:t,isLoading:r,onSelect:n,className:o,simplified:a=!1})=>{const{data:l=[],isLoading:i}=at({queryKey:["artistSearch",e],queryFn:()=>Zs(e||""),enabled:!!e&&!t,staleTime:3e5}),c=t||l;if(r||i)return s.jsx("div",{className:ae("py-1 bg-background border border-border rounded-lg shadow-lg",o),children:[...Array(3)].map((f,g)=>s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2",children:[!a&&s.jsx("div",{className:"w-10 h-10 rounded-md bg-secondary animate-pulse"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 w-24 bg-secondary rounded animate-pulse"}),s.jsx("div",{className:"h-3 w-16 bg-secondary rounded mt-1 animate-pulse"})]})]},g))});if(c.length===0)return null;const u=f=>{console.log(`[ArtistSearchResults] Syncing artist: ${f.name} (ID: ${f.id})`),ye.functions.invoke("unified-sync-v2",{body:{entityType:"artist",entityId:f.id,options:{forceRefresh:!0}}}).then(g=>{g.error?(console.error(`Sync error for ${f.name}:`,g.error),re.error(`Failed to sync ${f.name}`)):(console.log(`Sync completed for ${f.name}:`,g.data),re.success(`Successfully synced ${f.name}`))}).catch(g=>{console.error(`Sync error for ${f.name}:`,g),re.error(`Failed to sync ${f.name}`)}),n&&n(f)};return a?s.jsx("div",{className:ae("py-1 bg-background border border-border rounded-lg shadow-lg divide-y divide-border",o),children:c.map(f=>s.jsxs(Ee,{to:`/artists/${f.id}`,className:"flex items-center justify-between px-4 py-2.5 hover:bg-secondary/80 transition-colors",onClick:()=>u(f),children:[s.jsx("div",{className:"font-medium",children:f.name}),s.jsxs("div",{className:"text-xs flex items-center text-muted-foreground",children:[s.jsx(mn,{size:12,className:"mr-1"}),f.upcomingShows," ",f.upcomingShows===1?"show":"shows"]})]},f.id))}):s.jsx("div",{className:ae("py-1 bg-background border border-border rounded-lg shadow-lg divide-y divide-border",o),children:c.map(f=>s.jsxs(Ee,{to:`/artists/${f.id}`,className:"flex items-center gap-3 px-3 py-2 hover:bg-secondary transition-colors",onClick:()=>u(f),children:[f.image?s.jsx("img",{src:f.image,alt:f.name,className:"w-10 h-10 rounded-md object-cover"}):s.jsx("div",{className:"w-10 h-10 rounded-md bg-secondary flex items-center justify-center",children:s.jsx(dt,{className:"h-5 w-5 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:f.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.upcomingShows," upcoming ",f.upcomingShows===1?"show":"shows"]})]})]},f.id))})},rj=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(""),o=jt();m.useEffect(()=>{const u=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(u)}},[e]);const a=u=>{t(u.target.value)},l=u=>{o(`/artists/${u.id}`)},i=r.length>1,{data:c=[],isLoading:d}=at({queryKey:["artistSearch",r],queryFn:()=>Zs(r),enabled:i,staleTime:1e3*60*5});return s.jsxs("section",{className:"relative bg-gradient-to-b from-black via-black/70 to-[#0A0A10] text-white py-20 md:py-24 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute -top-64 -left-64 w-96 h-96 bg-primary/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-32 -right-32 w-80 h-80 bg-primary/5 rounded-full blur-3xl"})]}),s.jsx("div",{className:"container mx-auto px-4 md:px-6 max-w-6xl relative z-10",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"inline-block px-3 py-1 mb-6 bg-white/10 text-white/90 rounded-full text-sm font-medium backdrop-blur-sm"}),s.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:["Crowdsourced concert setlists ",s.jsx("span",{className:"text-gradient",children:"at scale."})]}),s.jsx("p",{className:"text-lg text-white/80 mb-8 max-w-lg",children:"Discover upcoming shows and vote on setlists for your favorite artists."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-8",children:[s.jsx(pe,{variant:"primary",size:"lg",onClick:()=>o("/shows"),children:"Explore Shows"}),s.jsx(pe,{size:"lg",variant:"default",onClick:()=>o("/how-it-works"),children:"How It Works"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-5 w-5 text-gradient"}),s.jsx("span",{className:"text-sm text-white/80",children:"Vote on Songs"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ql,{className:"h-5 w-5 text-gradient"}),s.jsx("span",{className:"text-sm text-white/80",children:"Join Community"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(N0,{className:"h-5 w-5 text-gradient"}),s.jsx("span",{className:"text-sm text-white/80",children:"Discover Artists"})]})]})]}),s.jsxs("div",{className:"bg-black/30 p-6 rounded-xl border border-white/10 backdrop-blur-sm",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-gradient",children:"Find Your Next Show"}),s.jsxs("div",{className:"relative mb-6",children:[s.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:s.jsx(hn,{className:"h-5 w-5 text-white/60"})}),s.jsx(ot,{type:"text",placeholder:"Search for artists, venues, or cities...",value:e,onChange:a,className:"pl-10 py-6 h-12 bg-white/10 border-white/10 text-white placeholder:text-white/60 rounded-md w-full focus-visible:ring-primary/30"})]}),i&&e?s.jsx("div",{className:"bg-black/70 border border-white/10 rounded-md shadow-lg max-h-[300px] overflow-auto",children:s.jsx(gc,{query:r,onSelect:l,simplified:!0})}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-white/60",children:"Popular searches:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Taylor Swift","Drake","Billie Eilish","The Weeknd","Bad Bunny"].map(u=>s.jsx(pe,{variant:"outline",size:"sm",className:"bg-white/5 border-white/10 hover:bg-white/10 text-sm",onClick:()=>t(u),children:u},u))})]})]})]})})]})};function me({className:e,...t}){return s.jsx("div",{className:ae("animate-pulse rounded-md bg-muted",e),...t})}const nj=Pa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qt({className:e,variant:t,...r}){return s.jsx("div",{className:ae(nj({variant:t}),e),...r})}const sj=async()=>{try{const{data:e,error:t}=await ye.from("shows").select(`
        *,
        artist:artists(id, name, image_url, genres),
        venue:venues(id, name, city, state, country)
      `).gt("date",new Date().toISOString()).order("popularity",{ascending:!1}).order("date",{ascending:!0}).limit(8);return t?(console.error("Error fetching shows:",t),[]):e?e.map(n=>(n.ticketmaster_id&&ye.functions.invoke("sync-show",{body:{showId:n.ticketmaster_id}}).catch(o=>{console.error(`Background sync failed for show ${n.ticketmaster_id}:`,o)}),{id:n.id,name:n.name,date:n.date,image_url:n.image_url,ticket_url:n.ticket_url,popularity:n.popularity||0,vote_count:0,artist:n.artist?{id:n.artist.id,name:n.artist.name,image_url:n.artist.image_url,genres:n.artist.genres}:null,venue:n.venue?{id:n.venue.id,name:n.venue.name,city:n.venue.city,state:n.venue.state,country:n.venue.country}:null})).sort((n,o)=>o.vote_count!==n.vote_count?o.vote_count-n.vote_count:new Date(n.date||"").getTime()-new Date(o.date||"").getTime()):[]}catch(e){return console.error("Error fetching trending shows:",e),[]}},oj=()=>{const{data:e=[],isLoading:t,error:r}=at({queryKey:["trendingShows"],queryFn:sj,staleTime:3e5,retry:2}),n=l=>{try{const i=new Date(l);if(isNaN(i.getTime()))throw new Error("Invalid date");return{day:i.getDate(),month:i.toLocaleDateString("en-US",{month:"short"}),year:i.getFullYear()}}catch(i){return console.warn("Date formatting error:",i,l),{day:"TBA",month:"",year:""}}},o=H.useMemo(()=>{if(!e||!Array.isArray(e)||e.length===0)return[];const l=new Map;return e.forEach(i=>{l.has(i.id)||l.set(i.id,i)}),Array.from(l.values()).sort((i,c)=>(c.popularity||0)-(i.popularity||0)).slice(0,4)},[e]),a=l=>{var c;if(!l)return"Pop";if((c=l.artist)!=null&&c.genres&&l.artist.genres.length>0)return l.artist.genres[0];const i=["Pop","Rock","Hip-hop","Latin","R&B","Country","Electronic"];return i[Math.floor(Math.random()*i.length)]};return s.jsx("section",{className:"py-16 px-4 bg-gradient-to-b from-[#0A0A12] to-[#0A0A10]",children:s.jsxs("div",{className:"container mx-auto max-w-7xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:"Trending Shows"}),s.jsx("p",{className:"text-base text-white/70 mt-1",children:"Shows with the most active voting right now"})]}),s.jsxs(Ee,{to:"/shows",className:"text-white hover:text-white/80 font-medium flex items-center group",children:["View all ",s.jsx("span",{className:"ml-1 transition-transform group-hover:translate-x-1",children:"→"})]})]}),t?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((l,i)=>s.jsxs("div",{className:"bg-black/40 rounded-xl overflow-hidden border border-white/10",children:[s.jsx(me,{className:"aspect-[4/3] w-full"}),s.jsxs("div",{className:"p-4",children:[s.jsx(me,{className:"h-5 w-3/4 mb-2"}),s.jsx(me,{className:"h-4 w-1/2 mb-3"}),s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(me,{className:"h-4 w-4 rounded-full mr-2"}),s.jsx(me,{className:"h-3 w-24"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(me,{className:"h-4 w-4 rounded-full mr-2"}),s.jsx(me,{className:"h-3 w-20"})]})]})]},i))}):r?s.jsx("div",{className:"text-center py-10",children:s.jsx("p",{className:"text-white/60",children:"Unable to load trending shows"})}):o.length===0?s.jsx("div",{className:"text-center py-10",children:s.jsx("p",{className:"text-white/60",children:"No trending shows found"})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map(l=>{var d,u,f;const i=n(l.date||""),c=a(l);return s.jsxs(Ee,{to:`/shows/${l.id}`,className:"bg-black/40 rounded-xl overflow-hidden border border-white/10 hover:border-white/30 transition-all hover:scale-[1.02] group",children:[s.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[l.image_url?s.jsx("img",{src:l.image_url,alt:l.name||"Show",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):s.jsx("div",{className:"bg-black/40 w-full h-full flex items-center justify-center",children:s.jsx("span",{className:"text-white/40",children:"No image"})}),s.jsx(qt,{className:"absolute top-3 right-3 bg-black/60 hover:bg-black/60 text-white border border-white/10",children:c}),s.jsx("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-[#0A0A12] via-black/70 to-transparent pt-16 pb-4 px-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"flex",children:[...Array(5)].map((g,p)=>s.jsx(Ra,{size:14,className:"fill-white text-white"},p))}),s.jsx("span",{className:"text-white font-medium text-sm",children:l.vote_count||l.popularity||0})]})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-1 line-clamp-1",children:((d=l.name)==null?void 0:d.split(" - ")[0])||"Untitled Show"}),s.jsx("p",{className:"text-white/70 text-sm mb-3 line-clamp-1",children:((u=l.artist)==null?void 0:u.name)||"Unknown Artist"}),s.jsxs("div",{className:"flex flex-col space-y-2 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(dr,{size:16,className:"mr-2 opacity-70"}),s.jsx("span",{children:typeof i=="object"?`${i.month} ${i.day}, ${i.year}`:i})]}),l.venue&&s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ar,{size:16,className:"mr-2 mt-0.5 opacity-70"}),s.jsx("span",{className:"line-clamp-1",children:(f=l.venue)!=null&&f.name?`${l.venue.name}, ${l.venue.city||""}`:"Venue TBA"})]})]})]})]},l.id)})})]})})},qh=()=>{const{data:e=[],isLoading:t,error:r}=at({queryKey:["featuredArtists"],queryFn:rc,staleTime:3e5,retry:2}),n=H.useMemo(()=>{if(!e||!Array.isArray(e)||e.length===0)return[];const o=new Map;return e.forEach(a=>{o.has(a.id)||o.set(a.id,{...a,popularity:50})}),Array.from(o.values()).sort((a,l)=>(l.popularity||0)-(a.popularity||0)).slice(0,6)},[e]);return s.jsx("section",{className:"py-16 px-4 bg-gradient-to-b from-[#0A0A12] to-black",children:s.jsxs("div",{className:"container mx-auto max-w-7xl",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:"Featured Artists"}),s.jsx("p",{className:"text-base text-white/70 mt-1",children:"Top artists with upcoming shows to vote on"})]}),s.jsxs(Ee,{to:"/artists",className:"text-white hover:text-white/80 font-medium flex items-center group",children:["View all ",s.jsx(wn,{size:16,className:"transition-transform group-hover:translate-x-1"})]})]}),t?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-6",children:[...Array(6)].map((o,a)=>s.jsxs("div",{className:"bg-black/40 rounded-xl overflow-hidden border border-white/10",children:[s.jsx(me,{className:"aspect-square w-full"}),s.jsxs("div",{className:"p-4",children:[s.jsx(me,{className:"h-5 w-3/4 mb-1"}),s.jsx("div",{className:"flex gap-2 mt-3",children:s.jsx(me,{className:"h-6 w-16 rounded-full"})})]})]},a))}):r?s.jsx("div",{className:"text-center py-10",children:s.jsx("p",{className:"text-white/60",children:"Unable to load featured artists"})}):n.length===0?s.jsx("div",{className:"text-center py-10",children:s.jsx("p",{className:"text-white/60",children:"No featured artists found"})}):s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-6",children:n.map(o=>{var a;return s.jsxs(Ee,{to:`/artists/${o.id}`,className:"bg-black/40 rounded-xl overflow-hidden border border-white/10 hover:border-white/30 transition-all hover:scale-[1.02] group",children:[s.jsxs("div",{className:"aspect-square overflow-hidden relative",children:[o.image?s.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):s.jsx("div",{className:"w-full h-full bg-secondary/20 flex items-center justify-center",children:s.jsx(dt,{className:"h-12 w-12 text-white/40"})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-base mb-2 line-clamp-1 group-hover:text-primary transition-colors",children:o.name}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[(a=o.genres)==null?void 0:a.slice(0,2).map((l,i)=>s.jsx(qt,{variant:"outline",className:"text-xs bg-white/5 hover:bg-white/10 transition-colors",children:l},i)),(!o.genres||o.genres.length===0)&&s.jsx(qt,{variant:"outline",className:"text-xs bg-white/5 hover:bg-white/10 transition-colors",children:o.popularity>80?"Top Artist":"Popular"})]}),s.jsxs("div",{className:"mt-3 text-sm text-white/60",children:[o.upcoming_shows||Math.floor(Math.random()*10)+1," upcoming",o.upcoming_shows===1?" show":" shows"]})]})]},o.id)})})]})})};function _l(e,[t,r]){return Math.min(r,Math.max(t,e))}function aj(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ij=[" ","Enter","ArrowUp","ArrowDown"],lj=[" ","Enter"],pn="Select",[Va,Wa,cj]=sc(pn),[os,Nk]=Jt(pn,[cj,Kr]),za=Kr(),[dj,Xr]=os(pn),[uj,fj]=os(pn),Yh=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:a,value:l,defaultValue:i,onValueChange:c,dir:d,name:u,autoComplete:f,disabled:g,required:p,form:w}=e,v=za(t),[y,N]=m.useState(null),[_,j]=m.useState(null),[S,E]=m.useState(!1),D=Xs(d),[I,B]=un({prop:n,defaultProp:o??!1,onChange:a,caller:pn}),[$,q]=un({prop:l,defaultProp:i,onChange:c,caller:pn}),Z=m.useRef(null),V=y?w||!!y.closest("form"):!0,[Y,L]=m.useState(new Set),M=Array.from(Y).map(T=>T.props.value).join(";");return s.jsx(_a,{...v,children:s.jsxs(dj,{required:p,scope:t,trigger:y,onTriggerChange:N,valueNode:_,onValueNodeChange:j,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:jr(),value:$,onValueChange:q,open:I,onOpenChange:B,dir:D,triggerPointerDownPosRef:Z,disabled:g,children:[s.jsx(Va.Provider,{scope:t,children:s.jsx(uj,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(T=>{L(A=>new Set(A).add(T))},[]),onNativeOptionRemove:m.useCallback(T=>{L(A=>{const P=new Set(A);return P.delete(T),P})},[]),children:r})}),V?s.jsxs(xp,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:f,value:$,onChange:T=>q(T.target.value),disabled:g,form:w,children:[$===void 0?s.jsx("option",{value:""}):null,Array.from(Y)]},M):null]})})};Yh.displayName=pn;var Gh="SelectTrigger",Zh=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,a=za(r),l=Xr(Gh,r),i=l.disabled||n,c=Oe(t,l.onTriggerChange),d=Wa(r),u=m.useRef("touch"),[f,g,p]=yp(v=>{const y=d().filter(j=>!j.disabled),N=y.find(j=>j.value===l.value),_=wp(y,v,N);_!==void 0&&l.onValueChange(_.value)}),w=v=>{i||(l.onOpenChange(!0),p()),v&&(l.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return s.jsx(Gs,{asChild:!0,...a,children:s.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:i,"data-disabled":i?"":void 0,"data-placeholder":vp(l.value)?"":void 0,...o,ref:c,onClick:ie(o.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&w(v)}),onPointerDown:ie(o.onPointerDown,v=>{u.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(w(v),v.preventDefault())}),onKeyDown:ie(o.onKeyDown,v=>{const y=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(y&&v.key===" ")&&ij.includes(v.key)&&(w(),v.preventDefault())})})})});Zh.displayName=Gh;var Kh="SelectValue",Xh=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:a,placeholder:l="",...i}=e,c=Xr(Kh,r),{onValueNodeHasChildrenChange:d}=c,u=a!==void 0,f=Oe(t,c.onValueNodeChange);return nt(()=>{d(u)},[d,u]),s.jsx(Ce.span,{...i,ref:f,style:{pointerEvents:"none"},children:vp(c.value)?s.jsx(s.Fragment,{children:l}):a})});Xh.displayName=Kh;var mj="SelectIcon",Qh=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return s.jsx(Ce.span,{"aria-hidden":!0,...o,ref:t,children:n||"▼"})});Qh.displayName=mj;var hj="SelectPortal",Jh=e=>s.jsx(Sa,{asChild:!0,...e});Jh.displayName=hj;var gn="SelectContent",ep=m.forwardRef((e,t)=>{const r=Xr(gn,e.__scopeSelect),[n,o]=m.useState();if(nt(()=>{o(new DocumentFragment)},[]),!r.open){const a=n;return a?zs.createPortal(s.jsx(tp,{scope:e.__scopeSelect,children:s.jsx(Va.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(rp,{...e,ref:t})});ep.displayName=gn;var Vt=10,[tp,Qr]=os(gn),pj="SelectContentImpl",gj=cn("SelectContent.RemoveScroll"),rp=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:l,side:i,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:y,...N}=e,_=Xr(gn,r),[j,S]=m.useState(null),[E,D]=m.useState(null),I=Oe(t,Q=>S(Q)),[B,$]=m.useState(null),[q,Z]=m.useState(null),V=Wa(r),[Y,L]=m.useState(!1),M=m.useRef(!1);m.useEffect(()=>{if(j)return ac(j)},[j]),oc();const T=m.useCallback(Q=>{const[ue,...ge]=V().map(xe=>xe.ref.current),[Ne]=ge.slice(-1),de=document.activeElement;for(const xe of Q)if(xe===de||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===ue&&E&&(E.scrollTop=0),xe===Ne&&E&&(E.scrollTop=E.scrollHeight),xe==null||xe.focus(),document.activeElement!==de))return},[V,E]),A=m.useCallback(()=>T([B,j]),[T,B,j]);m.useEffect(()=>{Y&&A()},[Y,A]);const{onOpenChange:P,triggerPointerDownPosRef:O}=_;m.useEffect(()=>{if(j){let Q={x:0,y:0};const ue=Ne=>{var de,xe;Q={x:Math.abs(Math.round(Ne.pageX)-(((de=O.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(Ne.pageY)-(((xe=O.current)==null?void 0:xe.y)??0))}},ge=Ne=>{Q.x<=10&&Q.y<=10?Ne.preventDefault():j.contains(Ne.target)||P(!1),document.removeEventListener("pointermove",ue),O.current=null};return O.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",ge,{capture:!0})}}},[j,P,O]),m.useEffect(()=>{const Q=()=>P(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[P]);const[G,X]=yp(Q=>{const ue=V().filter(de=>!de.disabled),ge=ue.find(de=>de.ref.current===document.activeElement),Ne=wp(ue,Q,ge);Ne&&setTimeout(()=>Ne.ref.current.focus())}),ee=m.useCallback((Q,ue,ge)=>{const Ne=!M.current&&!ge;(_.value!==void 0&&_.value===ue||Ne)&&($(Q),Ne&&(M.current=!0))},[_.value]),ce=m.useCallback(()=>j==null?void 0:j.focus(),[j]),oe=m.useCallback((Q,ue,ge)=>{const Ne=!M.current&&!ge;(_.value!==void 0&&_.value===ue||Ne)&&Z(Q)},[_.value]),Te=n==="popper"?Nl:np,he=Te===Nl?{side:i,sideOffset:c,align:d,alignOffset:u,arrowPadding:f,collisionBoundary:g,collisionPadding:p,sticky:w,hideWhenDetached:v,avoidCollisions:y}:{};return s.jsx(tp,{scope:r,content:j,viewport:E,onViewportChange:D,itemRefCallback:ee,selectedItem:B,onItemLeave:ce,itemTextRefCallback:oe,focusSelectedItem:A,selectedItemText:q,position:n,isPositioned:Y,searchRef:G,children:s.jsx(Fa,{as:gj,allowPinchZoom:!0,children:s.jsx(Da,{asChild:!0,trapped:_.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ie(o,Q=>{var ue;(ue=_.trigger)==null||ue.focus({preventScroll:!0}),Q.preventDefault()}),children:s.jsx(qs,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:s.jsx(Te,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:Q=>Q.preventDefault(),...N,...he,onPlaced:()=>L(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:ie(N.onKeyDown,Q=>{const ue=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!ue&&Q.key.length===1&&X(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let Ne=V().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(Ne=Ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const de=Q.target,xe=Ne.indexOf(de);Ne=Ne.slice(xe+1)}setTimeout(()=>T(Ne)),Q.preventDefault()}})})})})})})});rp.displayName=pj;var xj="SelectItemAlignedPosition",np=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,a=Xr(gn,r),l=Qr(gn,r),[i,c]=m.useState(null),[d,u]=m.useState(null),f=Oe(t,I=>u(I)),g=Wa(r),p=m.useRef(!1),w=m.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:N,focusSelectedItem:_}=l,j=m.useCallback(()=>{if(a.trigger&&a.valueNode&&i&&d&&v&&y&&N){const I=a.trigger.getBoundingClientRect(),B=d.getBoundingClientRect(),$=a.valueNode.getBoundingClientRect(),q=N.getBoundingClientRect();if(a.dir!=="rtl"){const de=q.left-B.left,xe=$.left-de,Re=I.left-xe,ze=I.width+Re,lt=Math.max(ze,B.width),Le=window.innerWidth-Vt,Xe=_l(xe,[Vt,Math.max(Vt,Le-lt)]);i.style.minWidth=ze+"px",i.style.left=Xe+"px"}else{const de=B.right-q.right,xe=window.innerWidth-$.right-de,Re=window.innerWidth-I.right-xe,ze=I.width+Re,lt=Math.max(ze,B.width),Le=window.innerWidth-Vt,Xe=_l(xe,[Vt,Math.max(Vt,Le-lt)]);i.style.minWidth=ze+"px",i.style.right=Xe+"px"}const Z=g(),V=window.innerHeight-Vt*2,Y=v.scrollHeight,L=window.getComputedStyle(d),M=parseInt(L.borderTopWidth,10),T=parseInt(L.paddingTop,10),A=parseInt(L.borderBottomWidth,10),P=parseInt(L.paddingBottom,10),O=M+T+Y+P+A,G=Math.min(y.offsetHeight*5,O),X=window.getComputedStyle(v),ee=parseInt(X.paddingTop,10),ce=parseInt(X.paddingBottom,10),oe=I.top+I.height/2-Vt,Te=V-oe,he=y.offsetHeight/2,Q=y.offsetTop+he,ue=M+T+Q,ge=O-ue;if(ue<=oe){const de=Z.length>0&&y===Z[Z.length-1].ref.current;i.style.bottom="0px";const xe=d.clientHeight-v.offsetTop-v.offsetHeight,Re=Math.max(Te,he+(de?ce:0)+xe+A),ze=ue+Re;i.style.height=ze+"px"}else{const de=Z.length>0&&y===Z[0].ref.current;i.style.top="0px";const Re=Math.max(oe,M+v.offsetTop+(de?ee:0)+he)+ge;i.style.height=Re+"px",v.scrollTop=ue-oe+v.offsetTop}i.style.margin=`${Vt}px 0`,i.style.minHeight=G+"px",i.style.maxHeight=V+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[g,a.trigger,a.valueNode,i,d,v,y,N,a.dir,n]);nt(()=>j(),[j]);const[S,E]=m.useState();nt(()=>{d&&E(window.getComputedStyle(d).zIndex)},[d]);const D=m.useCallback(I=>{I&&w.current===!0&&(j(),_==null||_(),w.current=!1)},[j,_]);return s.jsx(yj,{scope:r,contentWrapper:i,shouldExpandOnScrollRef:p,onScrollButtonChange:D,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:s.jsx(Ce.div,{...o,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});np.displayName=xj;var vj="SelectPopperPosition",Nl=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=Vt,...a}=e,l=za(r);return s.jsx(Na,{...l,...a,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Nl.displayName=vj;var[yj,xc]=os(gn,{}),jl="SelectViewport",sp=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,a=Qr(jl,r),l=xc(jl,r),i=Oe(t,a.onViewportChange),c=m.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Va.Slot,{scope:r,children:s.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:i,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ie(o.onScroll,d=>{const u=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=l;if(g!=null&&g.current&&f){const p=Math.abs(c.current-u.scrollTop);if(p>0){const w=window.innerHeight-Vt*2,v=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),N=Math.max(v,y);if(N<w){const _=N+p,j=Math.min(w,_),S=_-j;f.style.height=j+"px",f.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});sp.displayName=jl;var op="SelectGroup",[wj,bj]=os(op),_j=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=jr();return s.jsx(wj,{scope:r,id:o,children:s.jsx(Ce.div,{role:"group","aria-labelledby":o,...n,ref:t})})});_j.displayName=op;var ap="SelectLabel",ip=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=bj(ap,r);return s.jsx(Ce.div,{id:o.id,...n,ref:t})});ip.displayName=ap;var ea="SelectItem",[Nj,lp]=os(ea),cp=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:a,...l}=e,i=Xr(ea,r),c=Qr(ea,r),d=i.value===n,[u,f]=m.useState(a??""),[g,p]=m.useState(!1),w=Oe(t,_=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,_,n,o)}),v=jr(),y=m.useRef("touch"),N=()=>{o||(i.onValueChange(n),i.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Nj,{scope:r,value:n,disabled:o,textId:v,isSelected:d,onItemTextChange:m.useCallback(_=>{f(j=>j||((_==null?void 0:_.textContent)??"").trim())},[]),children:s.jsx(Va.ItemSlot,{scope:r,value:n,disabled:o,textValue:u,children:s.jsx(Ce.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...l,ref:w,onFocus:ie(l.onFocus,()=>p(!0)),onBlur:ie(l.onBlur,()=>p(!1)),onClick:ie(l.onClick,()=>{y.current!=="mouse"&&N()}),onPointerUp:ie(l.onPointerUp,()=>{y.current==="mouse"&&N()}),onPointerDown:ie(l.onPointerDown,_=>{y.current=_.pointerType}),onPointerMove:ie(l.onPointerMove,_=>{var j;y.current=_.pointerType,o?(j=c.onItemLeave)==null||j.call(c):y.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(l.onPointerLeave,_=>{var j;_.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:ie(l.onKeyDown,_=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&_.key===" "||(lj.includes(_.key)&&N(),_.key===" "&&_.preventDefault())})})})})});cp.displayName=ea;var hs="SelectItemText",dp=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...a}=e,l=Xr(hs,r),i=Qr(hs,r),c=lp(hs,r),d=fj(hs,r),[u,f]=m.useState(null),g=Oe(t,N=>f(N),c.onItemTextChange,N=>{var _;return(_=i.itemTextRefCallback)==null?void 0:_.call(i,N,c.value,c.disabled)}),p=u==null?void 0:u.textContent,w=m.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=d;return nt(()=>(v(w),()=>y(w)),[v,y,w]),s.jsxs(s.Fragment,{children:[s.jsx(Ce.span,{id:c.textId,...a,ref:g}),c.isSelected&&l.valueNode&&!l.valueNodeHasChildren?zs.createPortal(a.children,l.valueNode):null]})});dp.displayName=hs;var up="SelectItemIndicator",fp=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return lp(up,r).isSelected?s.jsx(Ce.span,{"aria-hidden":!0,...n,ref:t}):null});fp.displayName=up;var Sl="SelectScrollUpButton",mp=m.forwardRef((e,t)=>{const r=Qr(Sl,e.__scopeSelect),n=xc(Sl,e.__scopeSelect),[o,a]=m.useState(!1),l=Oe(t,n.onScrollButtonChange);return nt(()=>{if(r.viewport&&r.isPositioned){let i=function(){const d=c.scrollTop>0;a(d)};const c=r.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[r.viewport,r.isPositioned]),o?s.jsx(pp,{...e,ref:l,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=r;i&&c&&(i.scrollTop=i.scrollTop-c.offsetHeight)}}):null});mp.displayName=Sl;var El="SelectScrollDownButton",hp=m.forwardRef((e,t)=>{const r=Qr(El,e.__scopeSelect),n=xc(El,e.__scopeSelect),[o,a]=m.useState(!1),l=Oe(t,n.onScrollButtonChange);return nt(()=>{if(r.viewport&&r.isPositioned){let i=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;a(u)};const c=r.viewport;return i(),c.addEventListener("scroll",i),()=>c.removeEventListener("scroll",i)}},[r.viewport,r.isPositioned]),o?s.jsx(pp,{...e,ref:l,onAutoScroll:()=>{const{viewport:i,selectedItem:c}=r;i&&c&&(i.scrollTop=i.scrollTop+c.offsetHeight)}}):null});hp.displayName=El;var pp=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,a=Qr("SelectScrollButton",r),l=m.useRef(null),i=Wa(r),c=m.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),nt(()=>{var u;const d=i().find(f=>f.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[i]),s.jsx(Ce.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:ie(o.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:ie(o.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:ie(o.onPointerLeave,()=>{c()})})}),jj="SelectSeparator",gp=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ce.div,{"aria-hidden":!0,...n,ref:t})});gp.displayName=jj;var Cl="SelectArrow",Sj=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=za(r),a=Xr(Cl,r),l=Qr(Cl,r);return a.open&&l.position==="popper"?s.jsx(ja,{...o,...n,ref:t}):null});Sj.displayName=Cl;var Ej="SelectBubbleInput",xp=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=m.useRef(null),a=Oe(n,o),l=aj(t);return m.useEffect(()=>{const i=o.current;if(!i)return;const c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(l!==t&&u){const f=new Event("change",{bubbles:!0});u.call(i,t),i.dispatchEvent(f)}},[l,t]),s.jsx(Ce.select,{...r,style:{...wf,...r.style},ref:a,defaultValue:t})});xp.displayName=Ej;function vp(e){return e===""||e===void 0}function yp(e){const t=it(e),r=m.useRef(""),n=m.useRef(0),o=m.useCallback(l=>{const i=r.current+l;t(i),function c(d){r.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(i)},[t]),a=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,a]}function wp(e,t,r){const o=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let l=Cj(e,Math.max(a,0));o.length===1&&(l=l.filter(d=>d!==r));const c=l.find(d=>d.textValue.toLowerCase().startsWith(o.toLowerCase()));return c!==r?c:void 0}function Cj(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Aj=Yh,bp=Zh,kj=Xh,Tj=Qh,Rj=Jh,_p=ep,Pj=sp,Np=ip,jp=cp,Ij=dp,Mj=fp,Sp=mp,Ep=hp,Cp=gp;const Ap=Aj,kp=kj,vc=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(bp,{ref:n,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Tj,{asChild:!0,children:s.jsx(sm,{className:"h-4 w-4 opacity-50"})})]}));vc.displayName=bp.displayName;const Tp=m.forwardRef(({className:e,...t},r)=>s.jsx(Sp,{ref:r,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(E0,{className:"h-4 w-4"})}));Tp.displayName=Sp.displayName;const Rp=m.forwardRef(({className:e,...t},r)=>s.jsx(Ep,{ref:r,className:ae("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(sm,{className:"h-4 w-4"})}));Rp.displayName=Ep.displayName;const yc=m.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>s.jsx(Rj,{children:s.jsxs(_p,{ref:o,className:ae("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(Tp,{}),s.jsx(Pj,{className:ae("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(Rp,{})]})}));yc.displayName=_p.displayName;const Dj=m.forwardRef(({className:e,...t},r)=>s.jsx(Np,{ref:r,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Dj.displayName=Np.displayName;const ta=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(jp,{ref:n,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Mj,{children:s.jsx(er,{className:"h-4 w-4"})})}),s.jsx(Ij,{children:t})]}));ta.displayName=jp.displayName;const Oj=m.forwardRef(({className:e,...t},r)=>s.jsx(Cp,{ref:r,className:ae("-mx-1 my-1 h-px bg-muted",e),...t}));Oj.displayName=Cp.displayName;const We=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ae("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));We.displayName="Card";const ut=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ae("flex flex-col space-y-1.5 p-6",e),...t}));ut.displayName="CardHeader";const Nt=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ae("text-2xl font-semibold leading-none tracking-tight",e),...t}));Nt.displayName="CardTitle";const kr=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ae("text-sm text-muted-foreground",e),...t}));kr.displayName="CardDescription";const qe=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ae("p-6 pt-0",e),...t}));qe.displayName="CardContent";const Ts=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ae("flex items-center p-6 pt-0",e),...t}));Ts.displayName="CardFooter";async function Lj(){const{data:e,error:t}=await ye.from("shows").select("*").gte("start_date",new Date().toISOString()).order("start_date",{ascending:!0});if(t)throw new Error(t.message);return e}const Fj=()=>{const[e,t]=m.useState("all"),{data:r,isLoading:n,error:o}=at({queryKey:["upcoming-shows"],queryFn:Lj,staleTime:5*60*1e3,refetchInterval:5*60*1e3}),a=r?Array.from(new Set(r.map(i=>i.genre))):[],l=r?e==="all"?r:r.filter(i=>i.genre===e):[];return o?s.jsxs("div",{className:"py-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Upcoming Shows"}),s.jsxs("div",{className:"text-red-500 p-4 rounded-md bg-red-50",children:["Error loading shows: ",o.message]})]}):s.jsxs("div",{className:"py-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Upcoming Shows"}),!n&&a.length>0&&s.jsx("div",{className:"mt-2 md:mt-0",children:s.jsxs(Ap,{value:e,onValueChange:t,children:[s.jsx(vc,{className:"w-[180px]",children:s.jsx(kp,{placeholder:"Filter by genre"})}),s.jsxs(yc,{children:[s.jsx(ta,{value:"all",children:"All Genres"}),a.map(i=>s.jsx(ta,{value:i,children:i},i))]})]})})]}),n?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((i,c)=>s.jsxs(We,{className:"overflow-hidden",children:[s.jsx(me,{className:"h-48 w-full"}),s.jsxs(qe,{className:"p-4",children:[s.jsx(me,{className:"h-6 w-3/4 mb-2"}),s.jsx(me,{className:"h-4 w-1/2 mb-2"}),s.jsx(me,{className:"h-4 w-2/3"})]})]},c))}):l.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(i=>s.jsx($r,{href:`/show/${i.id}`,className:"group",children:s.jsxs(We,{className:"h-full overflow-hidden transition-transform hover:scale-[1.02]",children:[s.jsxs("div",{className:"h-48 relative",children:[i.image_url?s.jsx("img",{src:i.image_url,alt:i.title,className:"h-full w-full object-cover"}):s.jsx("div",{className:"h-full w-full bg-gray-200 flex items-center justify-center",children:s.jsx("span",{className:"text-gray-500",children:"No image"})}),s.jsx("div",{className:"absolute top-0 right-0 bg-black/70 text-white px-3 py-1 m-2 text-sm rounded",children:i.genre})]}),s.jsxs(qe,{className:"p-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2 group-hover:text-primary transition-colors",children:i.title}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(dr,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:n0(i.start_date)})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Ar,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:s0(i.venue_name,i.venue_city,i.venue_state)})]})]})]})},i.id))}):s.jsx("div",{className:"text-center py-10",children:s.jsx("p",{className:"text-gray-500",children:"No shows found for the selected genre."})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx($r,{href:"/shows",className:"text-primary hover:underline",children:"View all shows →"})})]})},$j=()=>s.jsx("section",{className:"py-20 px-4 bg-[#0A0A12]",children:s.jsxs("div",{className:"container mx-auto max-w-5xl",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold mb-2",children:"How TheSet Works"}),s.jsx("p",{className:"text-white/70 max-w-2xl mx-auto",children:"Shape the perfect concert experience by voting on setlists for your favorite artists' upcoming shows"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/20 text-primary flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"font-bold text-xl",children:"1"})}),s.jsx("h3",{className:"text-xl font-bold mb-3",children:"Find Your Artist"}),s.jsx("p",{className:"text-white/70",children:"Search for your favorite artists and discover their upcoming concerts near you."}),s.jsx("div",{className:"mt-6 bg-black/40 aspect-square max-w-[200px] mx-auto rounded-lg flex items-center justify-center",children:s.jsx(dt,{className:"h-16 w-16 text-white/30"})})]})}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/20 text-primary flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"font-bold text-xl",children:"2"})}),s.jsx("h3",{className:"text-xl font-bold mb-3",children:"Vote on Songs"}),s.jsx("p",{className:"text-white/70",children:"Cast your votes on songs you want to hear at the show and see what others are voting for."}),s.jsx("div",{className:"mt-6 bg-black/40 aspect-square max-w-[200px] mx-auto rounded-lg flex items-center justify-center",children:s.jsx(gl,{className:"h-16 w-16 text-white/30"})})]})}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/20 text-primary flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"font-bold text-xl",children:"3"})}),s.jsx("h3",{className:"text-xl font-bold mb-3",children:"Experience the Magic"}),s.jsx("p",{className:"text-white/70",children:"Attend concerts with setlists shaped by fan preferences and enjoy the music you love."}),s.jsx("div",{className:"mt-6 bg-black/40 aspect-square max-w-[200px] mx-auto rounded-lg flex items-center justify-center",children:s.jsx(I0,{className:"h-16 w-16 text-white/30"})})]})})]})]})}),Bj=()=>{const{user:e,loginWithSpotify:t}=pr(),r=()=>{e||t()};return s.jsx("section",{className:"py-12 px-4",children:s.jsx("div",{className:"container mx-auto max-w-5xl",children:s.jsxs("div",{className:"border border-white/10 rounded-xl bg-black/30 p-8 text-center flex flex-col items-center",children:[s.jsx(dt,{className:"h-10 w-10 text-primary mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Personalized Recommendations"}),s.jsx("p",{className:"text-white/70 mb-6 max-w-lg",children:"Connect your Spotify account to get personalized artist recommendations and upcoming shows."}),s.jsxs(pe,{onClick:r,className:"bg-white text-black hover:bg-white/90 flex items-center gap-2",children:[s.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("path",{d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2Z",fill:"#1DB954"}),s.jsx("path",{d:"M16.7917 17.3333C16.625 17.3333 16.4583 17.2917 16.3333 17.1667C15.125 16.375 13.625 15.9167 12.0417 15.9167C10.5417 15.9167 9.125 16.3333 8.08333 16.9583C7.75 17.1667 7.33333 17.0833 7.125 16.7917C6.91667 16.4583 7 16.0417 7.29167 15.8333C8.58333 15.0833 10.25 14.5833 12.0417 14.5833C13.9167 14.5833 15.6667 15.125 17.125 16.0833C17.4583 16.2917 17.5417 16.7083 17.3333 17.0417C17.2083 17.25 17 17.3333 16.7917 17.3333ZM18.0417 14.5C17.875 14.5 17.7083 14.4583 17.5833 14.3333C16.125 13.375 14.1667 12.8333 12.0833 12.8333C10.0833 12.8333 8.20833 13.3333 6.83333 14.1667C6.5 14.375 6.08333 14.2917 5.875 13.9583C5.66667 13.625 5.75 13.2083 6.08333 13C7.66667 12.0417 9.83333 11.5 12.0833 11.5C14.4583 11.5 16.7083 12.125 18.4167 13.25C18.75 13.4583 18.8333 13.875 18.625 14.2083C18.5 14.4167 18.2917 14.5 18.0417 14.5ZM19.375 11.25C19.2083 11.25 19.0417 11.2083 18.9167 11.0833C17.2083 9.95833 14.75 9.33333 12.125 9.33333C9.58333 9.33333 7.16667 9.91667 5.25 11C4.91667 11.2083 4.5 11.125 4.29167 10.7917C4.08333 10.4583 4.16667 10.0417 4.5 9.83333C6.66667 8.625 9.33333 8 12.125 8C15.0417 8 17.7917 8.70833 19.7917 10C20.125 10.2083 20.2083 10.625 20 10.9583C19.875 11.1667 19.625 11.25 19.375 11.25Z",fill:"white"})]}),"Connect Spotify"]})]})})})};function to(e,t,r="TheSet"){m.useEffect(()=>{const n=e?`${e} | ${r}`:`${r} | Vote on concert setlists for your favorite artists`;if(document.title=n,t){const o=document.querySelector('meta[name="description"]');o&&o.setAttribute("content",t)}return()=>{document.title="TheSet | Vote on concert setlists for your favorite artists";const o=document.querySelector('meta[name="description"]');o&&o.setAttribute("content","Join TheSet to vote on setlists for upcoming concerts and influence what your favorite artists will play live.")}},[e,t,r])}const Uj=()=>(to("","Join TheSet to vote on setlists for upcoming concerts and influence what your favorite artists will play live."),s.jsxs("div",{className:"min-h-screen flex flex-col bg-background text-foreground",children:[s.jsx(Je,{showSearch:!1}),s.jsxs("main",{className:"flex-grow",children:[s.jsx(rj,{}),s.jsx(Bj,{}),s.jsx(oj,{}),s.jsx(qh,{}),s.jsx(Fj,{}),s.jsx($j,{})]}),s.jsx(et,{})]})),Vj=({artistName:e,artistImage:t,upcomingShowsCount:r})=>s.jsx("section",{className:"px-6 md:px-8 lg:px-12 py-12 header-gradient relative z-10",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(Ee,{to:"/search",className:"text-white/70 hover:text-white inline-flex items-center mb-6 transition-colors",children:[s.jsx(ss,{size:16,className:"mr-2"}),"Back to search"]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[s.jsx("div",{className:"w-32 h-32 md:w-48 md:h-48 rounded-xl overflow-hidden bg-white/5 shadow-lg border border-white/10 flex-shrink-0",children:t?s.jsx("img",{src:t,alt:e,className:"w-full h-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(im,{size:64,className:"text-white/20"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground",children:e}),s.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"inline-flex items-center bg-primary/10 text-primary px-3 py-1 rounded-full text-sm",children:[s.jsx(mn,{size:14,className:"mr-1"}),r," upcoming ",r===1?"show":"shows"]}),s.jsxs(pe,{variant:"outline",size:"sm",className:"border-primary/20 bg-primary/5 text-foreground hover:bg-primary/10",children:[s.jsx(M0,{size:14,className:"mr-1.5"}),"Follow"]})]})]})]})]})}),Wj=({shows:e,artistName:t,isLoading:r=!1})=>{const n=a=>new Date(a).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),o=()=>s.jsx(s.Fragment,{children:Array(3).fill(0).map((a,l)=>s.jsx(We,{className:"overflow-hidden",children:s.jsxs(qe,{className:"p-4 space-y-3",children:[s.jsx(me,{className:"h-6 w-3/4"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mn,{size:16,className:"text-muted-foreground"}),s.jsx(me,{className:"h-4 w-32"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{size:16,className:"text-muted-foreground"}),s.jsx(me,{className:"h-4 w-40"})]}),s.jsx(me,{className:"h-9 rounded-md w-full mt-2"})]})},`loading-${l}`))});return s.jsx("section",{className:"px-6 md:px-8 lg:px-12 py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:e.length>0||r?`${t}'s Upcoming Shows`:`No Upcoming Shows for ${t}`}),e.length===0&&!r?s.jsx("p",{className:"text-muted-foreground",children:"There are currently no upcoming shows scheduled for this artist."}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r?o():e.map(a=>s.jsx(We,{className:"overflow-hidden",children:s.jsxs(qe,{className:"p-4",children:[s.jsx("h3",{className:"font-medium text-lg mb-2 line-clamp-1",children:a.name}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mn,{size:16}),s.jsx("span",{children:n(a.date)})]}),a.venue&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ar,{size:16}),s.jsxs("span",{children:[a.venue.name,a.venue.city&&a.venue.state?` · ${a.venue.city}, ${a.venue.state}`:a.venue.city?` · ${a.venue.city}`:a.venue.state?` · ${a.venue.state}`:""]})]})]}),s.jsx($r,{href:`/show/${a.id}`,children:s.jsx(pe,{className:"w-full",children:"Vote On Setlist"})})]})},a.id))})]})})},zj=()=>s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsxs("main",{className:"flex-grow",children:[s.jsx("section",{className:"relative bg-secondary/70 py-12 md:py-20",children:s.jsx("div",{className:"px-6 md:px-8 lg:px-12 relative z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start",children:[s.jsx(me,{className:"w-36 h-36 md:w-48 md:h-48 rounded-xl"}),s.jsxs("div",{className:"space-y-4 flex-1 w-full",children:[s.jsx(me,{className:"h-10 w-3/4 max-w-md"}),s.jsx(me,{className:"h-5 w-1/3 max-w-xs"})]})]})})})}),s.jsx("section",{className:"px-6 md:px-8 lg:px-12 py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(me,{className:"h-8 w-64 mb-6"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(3).fill(0).map((e,t)=>s.jsxs("div",{className:"border border-border rounded-xl overflow-hidden",children:[s.jsx(me,{className:"w-full h-48"}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx(me,{className:"h-6 w-3/4"}),s.jsx(me,{className:"h-4 w-1/2"}),s.jsx(me,{className:"h-4 w-2/3"}),s.jsx(me,{className:"h-9 w-full rounded-md mt-3"})]})]},t))})]})}),s.jsx("section",{className:"px-6 md:px-8 lg:px-12 py-12 bg-secondary/20",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(me,{className:"h-8 w-48 mb-6"}),s.jsx("div",{className:"space-y-4",children:Array(2).fill(0).map((e,t)=>s.jsx("div",{className:"bg-card border border-border rounded-xl p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(me,{className:"h-5 w-64"}),s.jsx(me,{className:"h-4 w-40"})]}),s.jsx(me,{className:"h-9 w-24 rounded-md"})]})},t))})]})})]}),s.jsx(et,{})]}),Hj=()=>s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsx("main",{className:"flex-grow px-6 md:px-8 lg:px-12 py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Artist not found or no upcoming shows"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"We couldn't find any upcoming shows for this artist."}),s.jsxs(Ee,{to:"/search",className:"text-primary hover:underline flex items-center justify-center",children:[s.jsx(ss,{size:16,className:"mr-2"}),"Back to search"]})]})}),s.jsx(et,{})]}),qj=({artistId:e,artistName:t})=>{const{data:r,isLoading:n,error:o}=at({queryKey:["pastSetlists",e],queryFn:async()=>{try{const l=await fetch(`/api/artists/${e}/past-setlists?limit=3`);if(!l.ok){const c=await l.json();throw new Error(c.error||`API request failed with status ${l.status}`)}const i=await l.json();return console.log("Fetched past setlists from API:",i),i||[]}catch(l){throw console.error("Error fetching past setlists via API route:",l),re.error("Failed to load past setlists"),l}},staleTime:18e5,retry:1}),a=l=>{if(!l)return"Date unknown";try{if(l.includes("-")&&l.length===10){const[c,d,u]=l.split("-"),f=new Date(`${u}-${d}-${c}`);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(f)}const i=new Date(l);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(i)}catch{return"Date unknown"}};return n?s.jsx("section",{className:"px-6 md:px-8 lg:px-12 py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6",children:"Past Setlists"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Array(3).fill(0).map((l,i)=>s.jsxs(We,{className:"animate-pulse",children:[s.jsxs(ut,{children:[s.jsx(me,{className:"h-6 w-3/4 mb-2"}),s.jsx(me,{className:"h-4 w-1/2"})]}),s.jsx(qe,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(me,{className:"h-4 w-full"}),s.jsx(me,{className:"h-4 w-3/4"}),s.jsx(me,{className:"h-4 w-4/5"})]})})]},i))})]})}):o||!r||r.length===0?null:s.jsx("section",{className:"px-6 md:px-8 lg:px-12 py-12 bg-secondary/10",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-end md:justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold",children:"Past Setlists"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Review what ",t," played at previous shows"]})]}),s.jsx(pe,{variant:"ghost",asChild:!0,className:"mt-4 md:mt-0 group",children:s.jsx(Ee,{to:`/artists/${e}/setlists`,children:s.jsxs("div",{className:"flex items-center",children:["See all setlists",s.jsx(nm,{className:"ml-1 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:r.slice(0,3).map(l=>{var g,p,w,v,y,N,_,j;const i=((p=(g=l.show)==null?void 0:g.venue)==null?void 0:p.name)||"Unknown Venue",c=((v=(w=l.show)==null?void 0:w.venue)==null?void 0:v.city)||"",d=((N=(y=l.show)==null?void 0:y.venue)==null?void 0:N.state)||"",u=[c,d].filter(Boolean).join(", "),f=(l.songs??[]).sort((S,E)=>(S.position??0)-(E.position??0)).slice(0,5).map(S=>{var E;return(E=S.song)==null?void 0:E.name}).filter(S=>!!S);return s.jsxs(We,{className:"border border-border/50 bg-card hover:border-primary/30 hover:shadow-md transition-all",children:[s.jsxs(ut,{className:"pb-3",children:[s.jsx(Nt,{className:"text-lg font-semibold",children:i}),s.jsxs(kr,{className:"flex items-center gap-1.5",children:[s.jsx(dr,{size:14,className:"text-primary"}),a(((_=l.show)==null?void 0:_.date)||l.eventDate||"")]}),u&&s.jsxs(kr,{className:"flex items-center gap-1.5 mt-1",children:[s.jsx(Ar,{size:14,className:"text-primary"}),u]})]}),s.jsx(qe,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-primary",children:"Songs played:"}),s.jsx("ul",{className:"space-y-1.5",children:f.length>0?f.map((S,E)=>s.jsxs("li",{className:"text-sm flex items-center gap-1.5",children:[s.jsx(dt,{size:14,className:"text-muted-foreground"}),S]},E)):s.jsx("li",{className:"text-sm text-muted-foreground",children:"No song information available"})}),(j=l.show)!=null&&j.id?s.jsx(pe,{variant:"outline",size:"sm",className:"mt-3 w-full",asChild:!0,children:s.jsx(Ee,{to:`/show/${l.show.id}`,children:s.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[s.jsx(Zo,{size:14}),"View Show & Setlist"]})})}):s.jsx(pe,{variant:"outline",size:"sm",className:"mt-3 w-full",disabled:!0,children:s.jsxs("div",{className:"flex items-center justify-center gap-1.5 text-muted-foreground",children:[s.jsx(Zo,{size:14}),"Setlist details unavailable"]})})]})})]},l.id)})})]})})};function Yj(e){const t=hx(),[r,n]=m.useState(!1),[o,a]=m.useState(null),{data:l,isLoading:i,error:c,refetch:d}=at({queryKey:["artist",e],queryFn:async()=>{if(!e)throw new Error("Artist ID is required");try{console.log(`[useArtistDetail] Fetching artist data for ID: ${e}`);const y=await fm(e);if(!y)throw new Error(`Artist not found with ID: ${e}`);return y}catch(y){throw console.error("[useArtistDetail] Error fetching artist:",y),y}},enabled:!!e,staleTime:1e3*60*60,retry:2}),{data:u=[],isLoading:f,error:g,refetch:p}=at({queryKey:["artistEvents",e],queryFn:async()=>{if(!e)throw new Error("Artist ID is required");const y=l==null?void 0:l.ticketmaster_id;if(!y)return console.warn(`[useArtistDetail] Cannot fetch shows for artist ${e} without Ticketmaster ID.`),[];try{console.log(`[useArtistDetail] Fetching shows for artist TM ID: ${y}`);const N=await tc(y);return console.log(`[useArtistDetail] Found ${N.length} shows for artist TM ID: ${y}`),N}catch(N){return console.error("[useArtistDetail] Error fetching shows:",N),[]}},enabled:!!e&&!!(l!=null&&l.ticketmaster_id),staleTime:1e3*60*10,retry:2});to((l==null?void 0:l.name)||"Artist",l!=null&&l.name?`View upcoming concerts and vote on setlists for ${l.name}`:void 0);const w=m.useCallback(async()=>{var j,S,E,D,I;if(!(l!=null&&l.id)){console.log("[useArtistDetail] Cannot sync, artist ID is missing.");return}const y=l.last_sync?new Date(l.last_sync):null,N=1e3*60*60;if(!(!y||Date.now()-y.getTime()>N||((j=l.sync_status)==null?void 0:j.ticketmaster)==="error"||((S=l.sync_status)==null?void 0:S.spotify)==="error")&&((E=l.sync_status)==null?void 0:E.ticketmaster)==="success"){console.log(`[useArtistDetail] Skipping sync for ${l.name} - recently synced successfully.`);return}console.log(`[useArtistDetail] Starting sync for artist ${l.name} (${l.id})`),n(!0),a(null);try{const B=await fetch("/api/artists/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entityType:"artist",entityId:l.id,ticketmasterId:l.ticketmaster_id,spotifyId:l.spotify_id,options:{skipDependencies:!1,forceRefresh:((D=l.sync_status)==null?void 0:D.ticketmaster)==="error"||((I=l.sync_status)==null?void 0:I.spotify)==="error"}})}),$=await B.json();if(!B.ok){const q=new Error($.error||`API Error: ${B.status}`);console.error(`[useArtistDetail] Error syncing artist ${l.name} via API:`,q,$),re.error(`Failed to sync artist data: ${q.message}`),a(q);return}if(!($!=null&&$.success)){const q=new Error(($==null?void 0:$.error)||"Unknown sync error from API");console.warn(`[useArtistDetail] Artist sync failed for ${l.name} via API:`,q),re.error(`Failed to sync artist data: ${($==null?void 0:$.error)||"Unknown error"}`),a(q);return}console.log(`[useArtistDetail] Successfully synced artist ${l.name} via API:`,$),$.showsCount>0&&re.success(`Synced ${$.showsCount} shows for ${l.name}`),$.songsCount>0&&re.success(`Synced ${$.songsCount} songs for ${l.name}`),$.showsCount===0&&$.songsCount===0&&re.info(`Sync complete for ${l.name}. No new shows or songs found.`),await Promise.all([t.invalidateQueries({queryKey:["artist",l.id]}),t.invalidateQueries({queryKey:["artistEvents",l.id]})])}catch(B){const $=B instanceof Error?B:new Error("Unknown network error");console.error(`[useArtistDetail] Network/Fetch error syncing artist ${l.name}:`,$),re.error("Network error while syncing artist data"),a($)}finally{n(!1)}},[l,t]);m.useEffect(()=>{l!=null&&l.id&&w().catch(y=>{console.error("[useArtistDetail] Uncaught error in sync effect:",y)})},[l==null?void 0:l.id,w]);const v=m.useCallback(async()=>{try{await Promise.all([d(),p()]),re.success("Artist data refreshed")}catch(y){console.error("[useArtistDetail] Error refetching data:",y),re.error("Failed to refresh artist data")}},[d,p]);return{artist:l,shows:u,loading:{artist:i,shows:f,sync:r},error:{artist:c,shows:g,sync:o},refetch:v}}const Gj=()=>{const{id:e}=zu(),{artist:t,shows:r,loading:n,error:o}=Yj(e);return n.artist&&!t?s.jsx(zj,{}):o.artist||!e||!t?(console.error("Artist detail error:",o.artist),s.jsx(Hj,{})):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsxs("main",{className:"flex-grow",children:[s.jsx(Vj,{artistName:t.name,artistImage:t.image,upcomingShowsCount:r.length}),s.jsx(Wj,{shows:r.filter(a=>a.date!==null&&a.date!==void 0),artistName:t.name,isLoading:n.shows}),s.jsx(qj,{artistId:e,artistName:t.name})]}),s.jsx(et,{})]})},Zj=({show:e})=>{var o,a;const t=l=>{if(!l)return"Date TBD";try{const i=new Date(l);return isNaN(i.getTime())?(console.error("Invalid date value:",l),"Date TBD"):new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"}).format(i)}catch(i){return console.error("Error formatting date:",i,l),"Date TBD"}},n=((l,i)=>{if(!l)return"";let c=l;i&&c.startsWith(i)&&(c=c.substring(i.length).trim(),c.startsWith(":")&&(c=c.substring(1).trim()));const d=[" - delivered by "," delivered by "," - presented by "," presented by "];for(const u of d){const f=c.toLowerCase().indexOf(u.toLowerCase());f!==-1&&(c=c.substring(0,f))}return c})(e.name,((o=e.artist)==null?void 0:o.name)||"");return s.jsx("section",{className:"relative bg-cover bg-center header-gradient",style:{backgroundImage:e.image_url?`linear-gradient(to bottom, rgba(0,0,0,0.8), rgba(0,0,0,0.7)), url(${e.image_url})`:void 0,height:"auto"},children:s.jsx("div",{className:"px-6 md:px-8 lg:px-12 py-12 relative z-10",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.artist&&s.jsxs(Ee,{to:`/artists/${e.artist.id}`,className:"text-white/80 hover:text-white inline-flex items-center mb-4 transition-colors",children:[s.jsx(ss,{size:18,className:"mr-2"}),"Back to artist"]}),s.jsx("div",{className:"mb-3",children:s.jsx("span",{className:"inline-block bg-white/20 text-white text-xs px-3 py-1 rounded-full",children:e.date&&new Date(e.date)>new Date?"Upcoming":"Past"})}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-2",children:(a=e.artist)==null?void 0:a.name}),n&&s.jsx("p",{className:"text-xl text-white/90 mb-4",children:n}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-6 mt-4",children:[s.jsxs("div",{className:"flex items-center text-white/80",children:[s.jsx(dr,{size:18,className:"mr-2 text-white/60"}),t(e.date)]}),e.venue&&s.jsxs("div",{className:"flex items-center text-white/80",children:[s.jsx(Ar,{size:18,className:"mr-2 text-white/60"}),e.venue.name,", ",e.venue.city,", ",e.venue.state]})]}),e.ticket_url&&s.jsx("div",{className:"mt-6",children:s.jsx(pe,{asChild:!0,className:"bg-white hover:bg-white/90 text-black",children:s.jsxs("a",{href:e.ticket_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center",children:[s.jsx("span",{children:"Get Tickets"}),s.jsx(R0,{size:16,className:"ml-2"})]})})})]})})})},Kj=Pa("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vs=m.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ae(Kj({variant:t}),e),...r}));vs.displayName="Alert";const $o=m.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ae("mb-1 font-medium leading-none tracking-tight",e),...t}));$o.displayName="AlertTitle";const ys=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ae("text-sm [&_p]:leading-relaxed",e),...t}));ys.displayName="AlertDescription";const Xj=({showId:e,showName:t,artistName:r})=>{const[n,o]=m.useState(!1),a=`${window.location.origin}/shows/${e}`,l=`Check out the fan-voted setlist for ${r} at ${t}! Vote for your favorite songs:`,i=()=>{navigator.clipboard.writeText(a).then(()=>{o(!0),re.success("Link copied to clipboard!"),setTimeout(()=>o(!1),2e3)}).catch(()=>{re.error("Failed to copy link")})},c=()=>{const f=`https://twitter.com/intent/tweet?text=${encodeURIComponent(l)}&url=${encodeURIComponent(a)}`;window.open(f,"_blank"),re.success("Opening Twitter to share")},d=()=>{const f=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(a)}`;window.open(f,"_blank"),re.success("Opening Facebook to share")},u=()=>{navigator.share?navigator.share({title:`${r} at ${t} - Fan Setlist`,text:l,url:a}).then(()=>re.success("Shared successfully!")).catch(f=>{console.error("Error sharing:",f),re.error("Error sharing")}):re.error("Native sharing not supported on this device")};return s.jsxs(Rh,{children:[s.jsx(Ph,{asChild:!0,children:s.jsxs(pe,{variant:"outline",size:"sm",className:"flex items-center gap-1.5 text-sm",children:[s.jsx(pd,{size:14}),"Share"]})}),s.jsxs(hc,{align:"end",className:"w-56",children:[s.jsx(rr,{onClick:i,className:"cursor-pointer",children:n?s.jsxs(s.Fragment,{children:[s.jsx(er,{size:14,className:"mr-2 text-green-600"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(k0,{size:14,className:"mr-2"}),"Copy link"]})}),s.jsx(Fn,{}),s.jsxs(rr,{onClick:c,className:"cursor-pointer",children:[s.jsx(U0,{size:14,className:"mr-2"}),"Share on Twitter"]}),s.jsxs(rr,{onClick:d,className:"cursor-pointer",children:[s.jsx(P0,{size:14,className:"mr-2"}),"Share on Facebook"]}),"share"in navigator&&typeof navigator.share=="function"&&s.jsxs(s.Fragment,{children:[s.jsx(Fn,{}),s.jsxs(rr,{onClick:u,className:"cursor-pointer",children:[s.jsx(pd,{className:"mr-2 h-4 w-4"}),"Share via Device"]})]})]})]})},Qj=({isConnected:e,totalVotes:t,showId:r,showName:n,artistName:o})=>s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 pb-4 border-b border-white/10",children:[s.jsxs("div",{children:[s.jsx(Nt,{className:"text-2xl font-bold flex items-center gap-2 text-white",children:"What do you want to hear?"}),s.jsx(kr,{className:"mt-1.5 text-white/70",children:"Vote for songs you want to hear at this show"})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx(Kl,{children:s.jsxs(Gf,{children:[s.jsx(Zf,{asChild:!0,children:s.jsxs("div",{className:"text-xs bg-white/10 text-white px-3 py-1.5 rounded-full font-medium flex items-center gap-1.5",children:[s.jsx(Ql,{size:14}),s.jsxs("span",{children:[t," ",t===1?"vote":"votes"]})]})}),s.jsx(Xl,{className:"bg-[#0A0A0A] border-white/10 text-white",children:s.jsx("p",{children:"Total votes across all songs"})})]})}),s.jsx(Xj,{showId:r,showName:n,artistName:o})]})]}),Pp=m.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ae("w-full caption-bottom text-sm",e),...t})}));Pp.displayName="Table";const Ip=m.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ae("[&_tr]:border-b",e),...t}));Ip.displayName="TableHeader";const Mp=m.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ae("[&_tr:last-child]:border-0",e),...t}));Mp.displayName="TableBody";const Jj=m.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ae("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Jj.displayName="TableFooter";const Bo=m.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ae("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Bo.displayName="TableRow";const ps=m.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ae("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ps.displayName="TableHead";const Rn=m.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ae("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Rn.displayName="TableCell";const eS=m.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ae("mt-4 text-sm text-muted-foreground",e),...t}));eS.displayName="TableCaption";const tS=({songs:e,onVote:t,className:r,anonymousVoteCount:n=0})=>{const[o,a]=m.useState(null),l=c=>{var u;a(c),t(c);const d=((u=e.find(f=>f.id===c))==null?void 0:u.name)||"unknown";rs("Setlist","Vote",d),setTimeout(()=>{a(null)},1e3)},i=[...e].sort((c,d)=>d.votes-c.votes);return s.jsxs("div",{className:ae("w-full",r),children:[s.jsxs(Pp,{children:[s.jsx(Ip,{children:s.jsxs(Bo,{className:"border-b border-white/10",children:[s.jsx(ps,{className:"py-3 px-4 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:"#"}),s.jsx(ps,{className:"py-3 px-4 text-left text-xs font-medium text-white/60 uppercase tracking-wider",children:"Song"}),s.jsx(ps,{className:"py-3 px-4 text-center text-xs font-medium text-white/60 uppercase tracking-wider hidden sm:table-cell",children:"Votes"}),s.jsx(ps,{className:"py-3 px-4 text-right text-xs font-medium text-white/60 uppercase tracking-wider",children:s.jsx("span",{className:"sr-only",children:"Vote"})})]})}),s.jsx(Mp,{children:i.length===0?s.jsx(Bo,{children:s.jsx(Rn,{colSpan:4,className:"py-16 text-center text-white/60",children:"No songs in the setlist yet. Add some songs using the dropdown above."})}):i.map((c,d)=>s.jsxs(Bo,{className:ae("transition-colors border-b border-white/10 group",o===c.id?"bg-white/5":"hover:bg-white/5",c.userVoted&&"bg-white/10 hover:bg-white/15"),children:[s.jsx(Rn,{className:"py-4 px-4 w-12",children:d===0?s.jsxs("div",{className:"flex items-center text-yellow-500",children:[s.jsx(cm,{size:16,className:"mr-1.5"}),s.jsx("span",{className:"font-medium",children:"1"})]}):d===1?s.jsxs("div",{className:"flex items-center text-gray-400",children:[s.jsx(T0,{size:14,className:"mr-1.5"}),s.jsx("span",{className:"font-medium",children:"2"})]}):d===2?s.jsxs("div",{className:"flex items-center text-amber-700",children:[s.jsx(Ra,{size:14,className:"mr-1.5"}),s.jsx("span",{className:"font-medium",children:"3"})]}):s.jsx("span",{className:"font-medium text-white/70",children:d+1})}),s.jsx(Rn,{className:"py-4 px-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(dt,{size:16,className:"mr-2 text-white/40"}),s.jsx("span",{className:ae("font-medium truncate max-w-[150px] sm:max-w-[250px] md:max-w-full",d===0&&"text-yellow-500",d===1&&"text-gray-400",d===2&&"text-amber-700",c.userVoted&&"text-white"),children:c.name})]})}),s.jsx(Rn,{className:"py-4 px-4 text-center hidden sm:table-cell",children:s.jsx("span",{className:ae("inline-flex items-center justify-center min-w-10 text-center font-mono font-medium text-sm rounded-full py-0.5 px-2",c.votes>0?"bg-white/10 text-white":"bg-white/5 text-white/60",o===c.id&&"animate-pulse"),children:c.votes})}),s.jsx(Rn,{className:"py-4 px-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end",children:[s.jsx("span",{className:ae("font-mono font-medium mr-2 text-sm",c.votes>0?"text-white":"text-white/60",o===c.id&&"text-primary"),children:c.votes}),s.jsxs("button",{onClick:()=>!c.userVoted&&l(c.id),disabled:c.userVoted,className:ae("inline-flex items-center justify-center rounded-full w-9 h-9 transition-all",c.userVoted?"bg-white text-[#0A0A16] cursor-default":"text-white/60 hover:bg-white/10 hover:text-white",o===c.id&&"scale-110"),title:c.userVoted?"You already voted for this song":"Vote for this song","aria-label":c.userVoted?"You already voted for this song":"Vote for this song",children:[s.jsx(_0,{className:ae("h-5 w-5 transition-all",c.userVoted&&"text-[#0A0A16]",o===c.id&&"animate-bounce")}),s.jsx("span",{className:"sr-only",children:c.userVoted?"Voted":"Vote"})]})]})})]},c.id))})]}),n>0&&n<3&&s.jsx("div",{className:"flex justify-end p-3 text-xs text-amber-400",children:s.jsx("div",{className:"flex items-center gap-1.5",children:s.jsxs("span",{children:["You've used ",n,"/3 free votes"]})})})]})},rS=({setlist:e,handleVote:t,availableTracks:r,isLoadingAllTracks:n,selectedTrack:o,setSelectedTrack:a,handleAddSong:l,isAuthenticated:i,login:c,anonymousVoteCount:d=0})=>{m.useEffect(()=>{console.log("ShowSetlist component mounted with setlist size:",(e==null?void 0:e.length)||0)},[]);const u=v=>{a(v)},f=()=>{if(!o){re.error("Please select a song first",{style:{background:"#14141F",color:"#fff",border:"1px solid rgba(255,255,255,0.1)"}});return}l()},g=m.useMemo(()=>(v,y=50)=>v.length>y?`${v.substring(0,y)}...`:v,[]),p=m.useMemo(()=>{if(!r||!Array.isArray(r))return[];const v=new Set;return[...r.filter(N=>{if(!N||!N.name)return!1;const _=N.name.toLowerCase();return v.has(_)?!1:(v.add(_),!0)})].sort((N,_)=>N.name.localeCompare(_.name))},[r]),w=!n&&(!p||p.length===0);return s.jsxs("div",{className:"flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-white/10 mb-2",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("p",{className:"text-sm font-medium text-white/80",children:"Add a song to this setlist:"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-start sm:items-center",children:[s.jsx("div",{className:"flex-grow w-full sm:w-auto relative",children:s.jsxs(Ap,{value:o,onValueChange:u,disabled:n,children:[s.jsx(vc,{className:"w-full bg-black border-white/10 text-white",children:s.jsx(kp,{placeholder:"Select a song"})}),s.jsx(yc,{className:"bg-[#0A0A0A] border-white/10 text-white z-50 max-h-80",children:n?s.jsxs("div",{className:"flex items-center justify-center py-4 text-white/60",children:[s.jsx(lm,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{children:"Loading songs..."})]}):w?s.jsxs("div",{className:"flex flex-col items-center justify-center py-6 px-4",children:[s.jsx(dt,{className:"h-8 w-8 text-white/20 mb-2"}),s.jsx("p",{className:"text-center text-white/60",children:"No songs available yet. We'll add some default tracks soon!"})]}):p.map(v=>s.jsx(ta,{value:v.id,className:"focus:bg-white/10 focus:text-white data-[highlighted]:bg-white/10 data-[highlighted]:text-white",children:g(v.name)},v.id))})]})}),s.jsxs(pe,{onClick:f,disabled:n||!r.length||!o,className:"mt-2 sm:mt-0 flex-shrink-0 bg-white text-[#0A0A16] hover:bg-white/90",size:"sm",children:[s.jsx(om,{size:16,className:"mr-1.5"}),"Add to Setlist"]})]}),r&&r.length>0&&s.jsxs("p",{className:"text-xs text-white/40 mt-1",children:[r.length," songs available in the catalog"]})]})}),s.jsx(tS,{songs:e,onVote:t,className:"animate-fade-in",anonymousVoteCount:d})]})},nS=H.memo(rS),sS=({totalVotes:e,userVotedCount:t,anonymousVoteCount:r,isAuthenticated:n,login:o})=>s.jsxs(We,{className:"bg-[#0A0A0A] border-white/10 shadow-lg",children:[s.jsx(ut,{children:s.jsxs(Nt,{className:"text-xl font-bold flex items-center gap-2 text-white",children:[s.jsx(cm,{className:"h-5 w-5 text-white/70"}),"Voting Stats"]})}),s.jsxs(qe,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Total Votes"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:e}),s.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full mt-1",children:s.jsx("div",{className:"h-full bg-white/30 rounded-full",style:{width:`${Math.min(100,e/10)}%`}})})]}),(n||t>0)&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Your Votes"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:t}),s.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full mt-1",children:s.jsx("div",{className:"h-full bg-white/30 rounded-full",style:{width:`${Math.min(100,t/10*100)}%`}})})]}),!n&&r>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Free Votes Used"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"text-2xl font-bold text-white",children:[r,"/3"]}),s.jsx(pe,{size:"sm",onClick:o,variant:"outline",className:"text-xs h-7 mt-1 border-white/20 hover:bg-white/10",children:"Log in for more"})]}),s.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full mt-1",children:s.jsx("div",{className:"h-full bg-amber-500/50 rounded-full",style:{width:`${r/3*100}%`}})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-white/70 mb-1",children:"Voting Closes In"}),s.jsx("div",{className:"text-xl font-bold text-white",children:"2d 14h"})]}),s.jsx("div",{className:"pt-2 mt-2 border-t border-white/10",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ql,{size:16,className:"text-white/70"}),s.jsxs("p",{className:"text-sm text-white/70",children:[s.jsx("span",{className:"font-bold text-white",children:"127"})," fans have voted"]})]})})]})]}),oS=()=>s.jsxs(We,{className:"bg-[#0A0A0A] border-white/10 shadow-lg",children:[s.jsx(ut,{children:s.jsxs(Nt,{className:"text-xl font-bold flex items-center gap-2 text-white",children:[s.jsx(am,{className:"h-5 w-5 text-white/70"}),"How It Works"]})}),s.jsxs(qe,{className:"text-white/70 text-sm space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(B0,{size:18,className:"text-white/60 mt-0.5"}),s.jsx("p",{children:"Vote for songs you want to hear at this show. The most voted songs rise to the top of the list."})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(dt,{size:18,className:"text-white/60 mt-0.5"}),s.jsx("p",{children:"Anyone can add songs to the setlist! Select from the dropdown above to help build the perfect concert."})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Zo,{size:18,className:"text-white/60 mt-0.5"}),s.jsx("p",{children:"Non-logged in users can vote for up to 3 songs. Create an account to vote for unlimited songs!"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white/50 mt-2 pt-2 border-t border-white/10",children:[s.jsx(Zo,{size:14}),s.jsx("p",{className:"text-xs",children:"Voting closes 2 hours before the show"})]})]})]}),aS=({setlist:e,isConnected:t,isLoadingTracks:r,handleVote:n,showId:o="",showName:a="Concert",artistName:l="Artist",availableTracks:i=[],isLoadingAllTracks:c=!1,selectedTrack:d="",setSelectedTrack:u=()=>{},handleAddSong:f=()=>{},anonymousVoteCount:g=0})=>{const{isAuthenticated:p,login:w}=pr(),v=e.reduce((N,_)=>N+_.votes,0),y=e.filter(N=>N.userVoted).length;return console.log("Available tracks:",i.length),console.log("Selected track:",d),console.log("Is loading tracks:",c),s.jsx("section",{className:"px-6 md:px-8 lg:px-12 py-12 bg-black",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(We,{className:"bg-[#0A0A0A] border-white/10 shadow-lg overflow-hidden",children:[s.jsx(ut,{className:"pb-0",children:s.jsx(Qj,{isConnected:t,totalVotes:v,showId:o,showName:a,artistName:l})}),s.jsx(qe,{className:"p-0",children:r?s.jsxs("div",{className:"p-12 space-y-8 animate-pulse",children:[s.jsx("div",{className:"h-8 bg-white/5 rounded w-full max-w-md"}),s.jsx("div",{className:"h-8 bg-white/5 rounded w-full max-w-lg"}),s.jsx("div",{className:"h-8 bg-white/5 rounded w-full max-w-sm"}),s.jsx("div",{className:"h-8 bg-white/5 rounded w-full max-w-lg"})]}):s.jsxs(s.Fragment,{children:[s.jsx(nS,{setlist:e,handleVote:n,availableTracks:i,isLoadingAllTracks:c,selectedTrack:d,setSelectedTrack:u,handleAddSong:f,isAuthenticated:p,login:w,anonymousVoteCount:g}),!p&&g>=3&&s.jsx("div",{className:"p-4 mx-4 mb-4 mt-2",children:s.jsxs(vs,{variant:"default",className:"bg-white/5 border-white/10",children:[s.jsx(Oo,{className:"h-4 w-4 text-white/70"}),s.jsxs(ys,{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white/80",children:"You've used all your free votes. Log in with Spotify to vote more!"}),s.jsx(pe,{size:"sm",onClick:w,className:"bg-white text-black hover:bg-white/90",children:"Log In"})]})]})}),s.jsxs("div",{className:"p-5 border-t border-white/10 text-sm text-white/60 flex justify-between items-center",children:[s.jsx("div",{className:"flex items-center gap-1.5",children:s.jsxs("p",{children:["Last updated ",Ib(new Date,{addSuffix:!0})]})}),s.jsx(Kl,{children:s.jsxs(Gf,{children:[s.jsx(Zf,{children:s.jsx(am,{className:"h-4 w-4 text-white/40"})}),s.jsx(Xl,{side:"top",className:"bg-[#0A0A0A] border-white/10 text-white",children:s.jsx("p",{children:"Votes are updated automatically"})})]})})]})]})})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(sS,{totalVotes:v,userVotedCount:y,anonymousVoteCount:g,isAuthenticated:p,login:w}),s.jsx(oS,{})]})]})})})},iS=({title:e,songs:t,renderSong:r})=>s.jsxs(We,{children:[s.jsx(ut,{children:s.jsx(Nt,{children:e})}),s.jsx(qe,{className:"space-y-2",children:t.length>0?t.map(r):s.jsx("p",{className:"text-sm text-muted-foreground",children:"No songs found."})})]}),lS=({votedSetlist:e,playedSetlist:t,isLoadingPlayedSetlist:r})=>{const n=(i,c)=>s.jsxs("div",{className:"flex justify-between items-center text-sm py-1 border-b last:border-b-0",children:[s.jsxs("span",{children:[c+1,". ",i.name||"Unknown Song"]}),s.jsxs("span",{className:"text-muted-foreground",children:[i.vote_count??0," votes"]})]},i.id||c),o=(i,c)=>{var d,u;return s.jsxs("div",{className:"flex justify-between items-center text-sm py-1 border-b last:border-b-0",children:[s.jsxs("span",{children:[i.position,". ",((d=i.song)==null?void 0:d.name)||"Unknown Song"," ",i.is_encore?"(Encore)":""]}),i.info&&s.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",i.info,")"]})]},((u=i.song)==null?void 0:u.id)||c)},a=()=>s.jsx("div",{className:"space-y-2",children:[...Array(10)].map((i,c)=>s.jsx(me,{className:"h-6 w-full"},c))}),l=[...e].sort((i,c)=>(c.vote_count??0)-(i.vote_count??0));return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(iS,{title:"Fan Voted Setlist",songs:l,renderSong:n}),s.jsxs(We,{children:[s.jsx(ut,{children:s.jsx(Nt,{children:"Actual Setlist Played"})}),s.jsx(qe,{className:"space-y-2",children:r?s.jsx(a,{}):t.length>0?t.map(o):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Actual setlist not available."})})]})]})})},cS=()=>s.jsxs("div",{className:"min-h-screen flex flex-col bg-black",children:[s.jsx(Je,{}),s.jsxs("main",{className:"flex-grow",children:[s.jsxs("section",{className:"relative bg-secondary/70 py-16 md:py-20",children:[s.jsx("div",{className:"px-6 md:px-8 lg:px-12 relative z-10",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx(me,{className:"h-4 w-32 mb-4"}),s.jsx(me,{className:"h-10 w-3/4 mb-3"}),s.jsx(me,{className:"h-6 w-1/2 mb-6"}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-8 mt-6",children:[s.jsx(me,{className:"h-6 w-48"}),s.jsx(me,{className:"h-6 w-48"})]}),s.jsx(me,{className:"h-10 w-36 mt-6"})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-background"})]}),s.jsx("section",{className:"px-6 md:px-8 lg:px-12 py-8 md:py-12",children:s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs(We,{className:"bg-card shadow-md border-border/50",children:[s.jsx(ut,{className:"pb-4 border-b border-border/60",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx(me,{className:"h-8 w-48 mb-2"}),s.jsx(me,{className:"h-4 w-64"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(me,{className:"h-6 w-20 rounded-full"}),s.jsx(me,{className:"h-6 w-28 rounded-full"})]})]})}),s.jsx(qe,{className:"p-4 md:p-6 space-y-3",children:Array(5).fill(0).map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(me,{className:"h-6 w-6 mr-3"}),s.jsx(me,{className:"h-6 w-48"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(me,{className:"h-6 w-16 mr-4"}),s.jsx(me,{className:"h-8 w-8 rounded-full"})]})]},t))})]})})})]}),s.jsx(et,{})]}),dS=()=>s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsx("main",{className:"flex-grow px-6 md:px-8 lg:px-12 py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Show not found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"We couldn't find the show you're looking for."}),s.jsxs(Ee,{to:"/shows",className:"text-primary hover:underline flex items-center justify-center",children:[s.jsx(ss,{size:16,className:"mr-2"}),"Back to shows"]})]})}),s.jsx(et,{})]});function uS(e){const[t,r]=m.useState(""),n=m.useCallback(async u=>{var f;try{const{data:g,error:p}=await ye.from("shows").select(`
          *,
          artist:artists(*),
          venue:venues(*)
        `).or(`id.eq.${u},ticketmaster_id.eq.${u}`).maybeSingle();return p?(console.log("Database check error:",p.message),null):((f=g==null?void 0:g.artist)!=null&&f.spotify_id&&r(g.artist.spotify_id),g)}catch(g){return console.error("Error checking show in database:",g),null}},[]),{data:o,isLoading:a,error:l,isError:i}=at({queryKey:["show",e],queryFn:async()=>{var f;if(!e)throw new Error("Show ID is required");const u=await n(e);if(!u){console.log("Show not found in database, triggering unified sync...");const g=await fetch("/api/unified-sync-v2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entityType:"show",ticketmasterId:e})});if(!g.ok){const y=await g.json();throw new Error(`Failed to sync show: ${y.message||"Unknown error"}`)}let p=0;const w=5;let v=null;for(;p<w;){const{data:y,error:N}=await ye.from("shows").select(`
              *,
              artist:artists(*),
              venue:venues(*)
            `).or(`id.eq.${e},ticketmaster_id.eq.${e}`).maybeSingle();if(N&&console.error("Error fetching synced show:",N),y){(f=y.artist)!=null&&f.spotify_id&&(r(y.artist.spotify_id),await fetch("/api/unified-sync-v2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entityType:"artist",ticketmasterId:y.artist.ticketmaster_id,spotifyId:y.artist.spotify_id})})),v=y;break}p++,p<w&&await new Promise(_=>setTimeout(_,2e3*p))}if(!v)throw new Error("Failed to find synced show after multiple retries");return v}return u},staleTime:1e3*60*5,retry:3}),c=m.useCallback(async u=>{if(!u)return!1;try{const f=await fetch("/api/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({songId:u})});if(!f.ok){const g=await f.json();throw new Error(g.message||"Failed to vote")}return!0}catch(f){return console.error("Error voting for song:",f),!1}},[]),d=m.useCallback(async u=>{if(!(o!=null&&o.id)||!u.id)return!1;try{const{data:f}=await ye.from("setlists").select("id").eq("show_id",o.id).single();if(!(f!=null&&f.id))throw new Error("Setlist not found");const{error:g}=await ye.from("setlist_songs").insert({setlist_id:f.id,song_id:u.id,position:0,votes:0});if(g)throw g;return!0}catch(f){return console.error("Error adding song to setlist:",f),!1}},[o==null?void 0:o.id]);return{show:o,isLoadingShow:a,showError:l,isError:i,spotifyArtistId:t,voteForSong:c,addSongToSetlist:d}}const fS=3;function mS({showId:e}){const[t,r]=m.useState([]),[n,o]=m.useState({}),[a,l]=m.useState(!0),[i,c]=m.useState(null),[d,u]=m.useState(!1),[f,g]=m.useState(0),p=Hs(void 0,void 0);m.useEffect(()=>{(async()=>{var _,j;l(!0);try{const{data:S,error:E}=await p.from("setlists").select("id").eq("show_id",e).single();if(E)throw E;if(S!=null&&S.id){const I=(j=(_=(await p.auth.getSession()).data.session)==null?void 0:_.user)==null?void 0:j.id,{data:B,error:$}=await p.from("setlist_songs").select(`
              id,
              position,
              votes,
              songs!inner (
                id,
                name,
                spotify_id
              ),
              user_votes!left (
                user_id
              )
            `).eq("setlist_id",S.id).order("position",{ascending:!0});if($)throw $;if(B&&(r(B.map(q=>{var Z;return{id:q.songs.id,name:q.songs.name,spotify_id:q.songs.spotify_id,votes:q.votes||0,order_index:q.position,userVoted:I&&((Z=q.user_votes)==null?void 0:Z.some(V=>V.user_id===I))||!1}})),I)){const q=B.reduce((Z,V)=>{var Y;return{...Z,[V.songs.id]:((Y=V.user_votes)==null?void 0:Y.some(L=>L.user_id===I))||!1}},{});o(q)}}}catch(S){console.error("Error fetching initial setlist:",S),c(S instanceof Error?S.message:"Failed to fetch setlist")}finally{l(!1)}})();const N=p.channel(`setlist-${e}`).on("postgres_changes",{event:"*",schema:"public",table:"setlist_songs",filter:`setlist_id=eq.${e}`},async _=>{if(!_.new||typeof _.new!="object")return;const j=_.new,{data:S}=await p.from("songs").select("id, name, spotify_id").eq("id",j.song_id).single();S&&r(E=>{const D=E.findIndex(B=>B.id===S.id);if(D===-1)return[...E,{id:S.id,name:S.name,spotify_id:S.spotify_id,votes:j.votes||0,order_index:j.position,userVoted:!1}];const I=[...E];return I[D]={...I[D],name:S.name,spotify_id:S.spotify_id,votes:j.votes||0,order_index:j.position},I.sort((B,$)=>($.votes||0)-(B.votes||0))})}).subscribe(_=>{u(_==="SUBSCRIBED"),l(!1)});return()=>{N.unsubscribe()}},[e,p]);const w=m.useCallback(async y=>{var N;if(!y)return console.error("songId is required"),!1;try{const j=(N=(await p.auth.getSession()).data.session)==null?void 0:N.access_token;if(!j&&f>=fS)return re.error("Please sign in to continue voting!"),!1;const S=await fetch("undefined/api/vote",{method:"POST",headers:{"Content-Type":"application/json",...j?{Authorization:`Bearer ${j}`}:{}},body:JSON.stringify({songId:y})});if(!S.ok){const E=await S.json();throw new Error(E.message||"Failed to vote")}return j||g(E=>E+1),r(E=>{const D=E.findIndex($=>$.id===y);if(D===-1)return E;const I=[...E],B=I[D];return I[D]={...B,votes:B.votes+1,userVoted:!0},I.sort(($,q)=>(q.votes||0)-($.votes||0))}),o(E=>({...E,[y]:!0})),!0}catch(_){return console.error("Error voting:",_),c(_ instanceof Error?_.message:"Failed to vote"),re.error(_ instanceof Error?_.message:"Failed to vote. Please try again."),!1}},[p,f]),v=m.useCallback(async y=>{try{const{data:N}=await p.from("setlists").select("id").eq("show_id",e).single();if(!(N!=null&&N.id))throw new Error("Setlist not found");const{error:_}=await p.from("setlist_songs").insert({setlist_id:N.id,song_id:y.id,position:t.length+1,votes:0});if(_)throw _;return!0}catch(N){return console.error("Error adding song to setlist:",N),re.error("Failed to add song to setlist"),!1}},[e,t.length,p]);return{songs:t,userVotes:n,loading:a,error:i,voteForSong:w,addSongToSetlist:v,isConnected:d,anonymousVoteCount:f}}function hS(e,t,r,n){const[o,a]=m.useState(""),{songs:l,isConnected:i,voteForSong:c,addSongToSetlist:d,anonymousVoteCount:u}=mS({showId:e||""});return{setlist:l,isConnected:i,selectedTrack:o,setSelectedTrack:a,handleVote:async p=>{await c(p)?re.success("Your vote has been counted!"):!r&&u>=3&&setTimeout(()=>{n()},2e3)},handleAddSong:p=>{var y;if(!o){re.error("Please select a song first");return}const w=(y=p==null?void 0:p.songs)==null?void 0:y.find(N=>N.id===o);if(!w)return;if(l.some(N=>N.id===w.id)){re.info(`"${w.name}" is already in the setlist!`);return}d({id:w.id,name:w.name,votes:0,userVoted:!1}),a(""),re.success(`"${w.name}" added to setlist!`),console.log(`Added song to setlist: ${w.name}`,l.length+1)},anonymousVoteCount:u}}function pS(e,t={enabled:!0}){const{data:r,error:n,isLoading:o,isError:a,refetch:l}=at({queryKey:["artistSongs",e],queryFn:async()=>{if(!e)return console.log("useArtistSongs: No artistId provided."),[];console.log(`useArtistSongs: Fetching songs for artist ${e} from DB`);const{data:c,error:d}=await ye.from("artists").select("id, name, ticketmaster_id, spotify_id").eq("id",e).single();if(d)throw console.error(`useArtistSongs: Error fetching artist ${e}:`,d),d;if(!c)throw new Error(`Artist ${e} not found`);const{data:u,error:f}=await ye.from("songs").select("*").eq("artist_id",e).order("popularity",{ascending:!1});if(f)throw console.error(`useArtistSongs: Error fetching songs for artist ${e}:`,f),f;if(!u||u.length===0){if(console.log(`useArtistSongs: No songs found in DB for artist ${e}. Triggering sync.`),!c.ticketmaster_id||!c.spotify_id)return console.error("useArtistSongs: Missing external IDs for artist sync"),[];try{console.log(`useArtistSongs: Invoking unified-sync-v2 for artist ${c.name}`);const g=await fetch("/api/unified-sync-v2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({entityType:"artist",ticketmasterId:c.ticketmaster_id,spotifyId:c.spotify_id,options:{forceRefresh:!0}})});if(!g.ok){const v=await g.json();throw new Error(`Failed to sync artist: ${v.message||"Unknown error"}`)}await new Promise(v=>setTimeout(v,2e3));const{data:p,error:w}=await ye.from("songs").select("*").eq("artist_id",e).order("popularity",{ascending:!1});if(w)throw w;return!p||p.length===0?(console.warn("useArtistSongs: No songs found after sync"),[]):(console.log(`useArtistSongs: Synced ${p.length} songs for artist ${c.name}`),p)}catch(g){return console.error("Error syncing artist:",g),[]}}return console.log(`useArtistSongs: Found ${u.length} songs for artist ${e}`),u},enabled:t.enabled&&!!e,staleTime:3e5,cacheTime:18e5}),i=m.useCallback((c=[])=>r?r.filter(d=>d!=null&&d.id?!c.some(u=>u.song_id===d.id):!1):[],[r]);return{songs:r||[],isLoading:o,isError:a,error:n,refetch:l,getAvailableSongs:i}}function gS(e){const[t,r]=m.useState({title:"",description:""}),[n,o]=m.useState(!1),[a,l]=m.useState([]),[i,c]=m.useState(!1),{isAuthenticated:d,login:u}=pr(),{show:f,isLoadingShow:g,isError:p,showError:w,spotifyArtistId:v}=uS(e);m.useEffect(()=>{var T,A,P,O;if(f&&!g){try{const G=((T=f.artist)==null?void 0:T.name)||"Artist",X=((A=f.venue)==null?void 0:A.name)||"Venue",ee=((P=f.venue)==null?void 0:P.city)||"",ce=((O=f.venue)==null?void 0:O.state)||"",oe=ee&&ce?`${ee}, ${ce}`:ee||ce||"Location";let Te="TBD";if(f.date)try{const ue=new Date(f.date);isNaN(ue.getTime())||(Te=ue.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}))}catch(ue){console.error("Error formatting show date:",ue)}const he=`TheSet | ${G} at ${X} in ${oe} | ${Te}`,Q=`Vote on ${G}'s setlist for their show at ${X} in ${oe} on ${Te}. Influence what songs they'll play live!`;r({title:he,description:Q})}catch(G){console.error("Error setting document metadata:",G),r({title:"Show Details | TheSet",description:"Vote on setlists for upcoming concerts and shows on TheSet."})}if(f!=null&&f.date)try{o(Fb(new Date(f.date)))}catch(G){console.error("Error checking show date:",G),o(!1)}else o(!1)}},[f,g]),m.useEffect(()=>{(async()=>{if(n&&(f!=null&&f.id)){c(!0);try{const{data:A,error:P}=await ye.from("setlists").select("id").eq("show_id",f.id).maybeSingle();if(P)throw P;if(A!=null&&A.id){const{data:O,error:G}=await ye.from("played_setlist_songs").select(`
                position,
                info,
                is_encore,
                song:songs!song_id(id, name)
              `).eq("setlist_id",A.id).order("position",{ascending:!0});if(G)throw G;l(O||[])}else l([])}catch(A){console.error("Error fetching played setlist:",A),l([])}finally{c(!1)}}else l([])})()},[n,f==null?void 0:f.id]);const y=pS(v,{enabled:!0}),N=m.useCallback(()=>{y.refetch&&y.refetch()},[y]),_=(y==null?void 0:y.songs)||[],j=(y==null?void 0:y.isLoading)||!1;y!=null&&y.isError,y!=null&&y.error;const S=(y==null?void 0:y.storedSongsData)||[];y!=null&&y.getAvailableSongs;const E=j,D={songs:_},{setlist:I,isConnected:B,selectedTrack:$,setSelectedTrack:q,handleVote:Z,handleAddSong:V,anonymousVoteCount:Y}=hS(e||"",_.filter(T=>T.id!==void 0).map(T=>({...T,votes:0,userVoted:!1})),d,u),L=(S||[]).filter(T=>T!=null&&T.id?!I.some(P=>P.song_id===T.id):!1),M=m.useCallback(T=>{const A=T||$;if(A){if(S&&Array.isArray(S)&&S.length>0&&S.find(O=>O.id===A)){V({songs:S});return}D&&D.songs&&V(D)}},[S,D,V,$]);return{show:f,setlist:I,loading:{show:g,songs:j,allSongs:E},error:{show:p?w:null},connected:B,songManagement:{selectedTrack:$,setSelectedTrack:q,handleVote:Z,handleAddSong:M,anonymousVoteCount:Y},availableSongs:L,documentMetadata:t,loadSongs:N,isPastShow:n,playedSetlist:a,isLoadingPlayedSetlist:i}}const xS=({id:e})=>{var v;const{id:t}=zu(),r=e||t,n=jt();m.useEffect(()=>{window.scrollTo(0,0)},[]);const{show:o,setlist:a,loading:l,error:i,connected:c,songManagement:d,availableTracks:u,documentMetadata:f,isPastShow:g,playedSetlist:p,isLoadingPlayedSetlist:w}=gS(r);return m.useEffect(()=>{if(f.title){document.title=f.title;const y=document.querySelector('meta[name="description"]');y&&f.description&&y.setAttribute("content",f.description)}},[f]),m.useEffect(()=>{if(!l.show&&i.show){console.error("Show detail error:",i.show);const y=setTimeout(()=>{n("/shows",{replace:!0})},3e3);return()=>clearTimeout(y)}},[o,l.show,i.show,n]),l.show&&!o?s.jsx(cS,{}):i.show||!o?s.jsx(dS,{}):s.jsxs("div",{className:"min-h-screen flex flex-col bg-black",children:[s.jsx(Je,{}),s.jsxs("main",{className:"flex-grow container mx-auto px-4 py-8",children:[(()=>{if(o&&o.id){const y=o;return s.jsx(Zj,{show:y})}return null})(),o&&o.id&&g?s.jsx(lS,{votedSetlist:a||[],playedSetlist:p,isLoadingPlayedSetlist:w}):s.jsx(aS,{setlist:a||[],isConnected:c,isLoadingTracks:l.tracks,handleVote:d.handleVote,showId:r||"",showName:o.name||"",artistName:((v=o.artist)==null?void 0:v.name)||"Artist",availableTracks:u||[],isLoadingAllTracks:l.allTracks,selectedTrack:d.selectedTrack,setSelectedTrack:d.setSelectedTrack,handleAddSong:d.handleAddSong,anonymousVoteCount:d.anonymousVoteCount})]}),s.jsx(et,{})]})},vS=()=>{const{data:e=[],isLoading:t}=at({queryKey:["trendingShows"],queryFn:()=>mm(4)}),r=n=>{var a,l;if(n.genre)return n.genre;if((l=(a=n.artist)==null?void 0:a.genres)!=null&&l[0])return n.artist.genres[0];const o=["Pop","Rock","Hip-hop","Latin","R&B","Country","Electronic"];return o[Math.floor(Math.random()*o.length)]};return s.jsx("section",{className:"px-4 md:px-8 lg:px-12 py-16 bg-black",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Trending Shows"}),s.jsx("p",{className:"text-sm text-white/70 mt-1",children:"Shows with the most active voting right now"})]}),s.jsxs(Ee,{to:"/shows",className:"flex items-center text-sm text-white hover:text-white/80",children:["View all ",s.jsx(wn,{size:16})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:t?Array(4).fill(0).map((n,o)=>s.jsxs(We,{className:"bg-[#111111]/80 border-white/10 overflow-hidden",children:[s.jsx("div",{className:"aspect-[4/3] bg-[#222]"}),s.jsxs(qe,{className:"p-4",children:[s.jsx("div",{className:"h-5 bg-[#333] rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-4 bg-[#333] rounded w-1/2 mb-4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-4 w-4 rounded-full bg-[#333] mr-2"}),s.jsx("div",{className:"h-3 bg-[#333] rounded w-1/3"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-4 w-4 rounded-full bg-[#333] mr-2"}),s.jsx("div",{className:"h-3 bg-[#333] rounded w-2/3"})]})]})]})]},o)):e.map(n=>{var l;const o=r(n),a=new Date(n.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return s.jsx(Ee,{to:`/shows/${n.id}`,children:s.jsxs(We,{className:"bg-[#111111]/80 border-white/10 overflow-hidden hover:border-white/30 transition duration-300 hover:scale-[1.02]",children:[s.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[n.image_url?s.jsx("img",{src:n.image_url,alt:n.name,className:"object-cover w-full h-full"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-[#222]",children:s.jsx(dr,{className:"h-8 w-8 text-white/40"})}),s.jsx(qt,{className:"absolute top-3 right-3 bg-black/60 hover:bg-black/60 text-white",children:o}),s.jsx("div",{className:"absolute bottom-0 inset-x-0 bg-gradient-to-t from-black to-transparent pt-10",children:s.jsx("div",{className:"flex items-center justify-end p-3",children:s.jsx("div",{className:"flex items-center bg-white/10 rounded-full px-2 py-0.5",children:s.jsx("span",{className:"text-white text-xs font-medium",children:Math.floor(Math.random()*5e3)+1e3})})})})]}),s.jsxs(qe,{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-1 line-clamp-1",children:n.name.split(" - ")[0]}),s.jsx("p",{className:"text-white/70 text-sm mb-3 line-clamp-1",children:((l=n.artist)==null?void 0:l.name)||"Unknown Artist"}),s.jsxs("div",{className:"flex flex-col space-y-2 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(dr,{size:16,className:"mr-2"}),s.jsx("span",{children:a})]}),n.venue&&s.jsxs("div",{className:"flex items-start",children:[s.jsx("span",{className:"min-w-[16px] mr-2 mt-1",children:"📍"}),s.jsxs("span",{className:"line-clamp-1",children:[`${n.venue.name}, ${n.venue.city||""}`,n.venue.state?`, ${n.venue.state}`:""]})]})]})]})]})},n.id)})})]})})},yS=()=>{const{data:e=[],isLoading:t}=at({queryKey:["featuredArtists"],queryFn:()=>rc()});return s.jsx("section",{className:"px-4 md:px-8 lg:px-12 py-16 bg-[#0A0A12]",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Featured Artists"}),s.jsx("p",{className:"text-sm text-white/70 mt-1",children:"Top artists with upcoming shows to vote on"})]}),s.jsxs(Ee,{to:"/artists",className:"flex items-center text-sm text-white hover:text-white/80",children:["View all ",s.jsx(wn,{size:16})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:t?Array(6).fill(0).map((r,n)=>s.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"aspect-square bg-[#222]"}),s.jsxs("div",{className:"p-3",children:[s.jsx("div",{className:"h-4 bg-[#333] rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-[#333] rounded w-1/2"})]})]},n)):e.slice(0,6).map(r=>{var n;return s.jsxs(Ee,{to:`/artists/${r.id}`,className:"bg-black/40 border border-white/10 rounded-lg overflow-hidden hover:border-white/30 transition-all hover:scale-[1.02]",children:[s.jsxs("div",{className:"aspect-square overflow-hidden relative",children:[r.image?s.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-[#222] flex items-center justify-center",children:s.jsx("span",{className:"text-white/40",children:"🎵"})}),s.jsx(qt,{className:"absolute bottom-2 right-2 bg-black/60 hover:bg-black/60 text-white",children:((n=r.genres)==null?void 0:n[0])||"Pop"})]}),s.jsxs("div",{className:"p-3 text-left",children:[s.jsx("h3",{className:"font-medium text-sm line-clamp-1",children:r.name}),s.jsx("div",{className:"flex items-center mt-1 text-xs text-white/60",children:s.jsxs("span",{children:[r.upcoming_shows||Math.floor(Math.random()*15)+1," shows"]})})]})]},r.id)})})]})})};function wS({show:e}){var l,i,c,d;console.log("ShowCard props:",e);const t=e.date?Dt(Bb(e.date),"EEE, MMM d, yyyy • h:mm a"):"Date TBA",r=((l=e.artist)==null?void 0:l.name)||e.name.split(" - ")[0].trim(),n=e.genre||((c=(i=e.artist)==null?void 0:i.genres)==null?void 0:c[0])||"Music",o=e.venue?`${e.venue.name}${e.venue.city?`, ${e.venue.city}`:""}${e.venue.state?`, ${e.venue.state}`:""}`:"Venue TBA",a=r0({artistName:r,cityName:((d=e.venue)==null?void 0:d.city)||"TBA",date:e.date,showId:e.id});return s.jsx(Ee,{to:a,children:s.jsxs(We,{className:"h-full bg-[#111111]/80 border-white/10 overflow-hidden hover:border-white/30 transition duration-200 hover:translate-y-[-2px]",children:[s.jsxs("div",{className:"relative aspect-[16/9] overflow-hidden",children:[e.image_url?s.jsx("img",{src:e.image_url,alt:e.name,className:"object-cover w-full h-full"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-[#222]",children:s.jsx(dr,{className:"h-10 w-10 text-white/40"})}),s.jsx(qt,{className:"absolute top-3 right-3 bg-black/60 hover:bg-black/60 text-white",children:n})]}),s.jsxs(qe,{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-lg mb-1 line-clamp-1",children:e.name}),s.jsx("p",{className:"text-white/70 text-sm font-medium mb-3",children:r}),s.jsxs("div",{className:"flex flex-col space-y-2 text-sm text-white/60",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(dr,{size:14,className:"min-w-[14px] mr-2"}),s.jsx("span",{className:"line-clamp-1",children:t})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(Ar,{size:14,className:"min-w-[14px] mr-2 mt-1"}),s.jsx("span",{className:"line-clamp-1",children:o})]})]})]})]})})}const bS=({searchQuery:e,selectedGenre:t,handleGenreChange:r,artistParam:n})=>{const[o,a]=m.useState("All Genres"),{data:l=[],isLoading:i,error:c}=at({queryKey:["upcomingShows",t,n],queryFn:async()=>{try{if(n){const{fetchArtistEvents:u}=await px(async()=>{const{fetchArtistEvents:f}=await Promise.resolve().then(()=>W0);return{fetchArtistEvents:f}},void 0);return u(n)}else if(t){const u=On.find(f=>f.name===t);return u?Ko(u.id,6):[]}else return Ko(On[0].id,6)}catch(u){return console.error("Error fetching shows:",u),[]}}}),d=l.filter(u=>{var g,p,w,v,y,N,_;if(!e.trim())return!0;const f=e.toLowerCase();return((g=u.name)==null?void 0:g.toLowerCase().includes(f))||((w=(p=u.artist)==null?void 0:p.name)==null?void 0:w.toLowerCase().includes(f))||((y=(v=u.venue)==null?void 0:v.name)==null?void 0:y.toLowerCase().includes(f))||((_=(N=u.venue)==null?void 0:N.city)==null?void 0:_.toLowerCase().includes(f))});return s.jsx("section",{className:"px-4 md:px-8 lg:px-12 py-16 bg-black",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Upcoming Shows"}),s.jsx("p",{className:"text-sm text-white/70 mt-1",children:"Browse and vote on setlists for upcoming concerts"})]}),s.jsxs(Ee,{to:"/shows",className:"flex items-center text-sm text-white hover:text-white/80",children:["View all ",s.jsx(wn,{size:16})]})]}),s.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 scrollbar-hide",children:[s.jsx("button",{onClick:()=>{a("All Genres"),r("")},className:`whitespace-nowrap px-4 py-2 rounded-full text-sm ${o==="All Genres"?"bg-white text-black font-medium":"bg-white/10 text-white hover:bg-white/20"}`,children:"All Genres"}),On.slice(0,6).map(u=>s.jsx("button",{onClick:()=>{a(u.name),r(u.name)},className:`whitespace-nowrap px-4 py-2 rounded-full text-sm ${o===u.name?"bg-white text-black font-medium":"bg-white/10 text-white hover:bg-white/20"}`,children:u.name},u.id))]}),i?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array(6).fill(0).map((u,f)=>s.jsxs("div",{className:"bg-[#111111]/80 border border-white/10 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"aspect-[16/9] bg-[#222]"}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"h-5 bg-[#333] rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-4 bg-[#333] rounded w-1/2 mb-4"}),s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"h-4 w-4 rounded-full bg-[#333] mr-2"}),s.jsx("div",{className:"h-3 bg-[#333] rounded w-1/3"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-4 w-4 rounded-full bg-[#333] mr-2"}),s.jsx("div",{className:"h-3 bg-[#333] rounded w-2/3"})]})]})]},f))}):c?s.jsxs("div",{className:"text-center py-12 border border-white/10 rounded-lg",children:[s.jsx("p",{className:"text-lg text-red-400 mb-4",children:"Error loading shows"}),s.jsx(pe,{variant:"outline",onClick:()=>window.location.reload(),children:"Try Again"})]}):d.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(u=>s.jsx(wS,{show:u},u.id))}):s.jsxs("div",{className:"text-center py-12 border border-white/10 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No shows found"}),s.jsx("p",{className:"text-white/60",children:"Try adjusting your search or browse artists to find shows"}),s.jsxs(Ee,{to:"/artists",className:"inline-flex items-center text-white hover:underline mt-4",children:["Browse artists",s.jsx(nm,{size:16,className:"ml-1"})]})]})]})})},_S=()=>{const[e,t]=Hu(),[r,n]=m.useState(""),o=e.get("genre"),a=e.get("artist"),[l,i]=m.useState(o||"");H.useEffect(()=>{o&&i(o)},[o]);const c=u=>{i(u);const f=new URLSearchParams(e);u?(f.set("genre",u),f.delete("artist")):f.delete("genre"),t(f)},d=u=>{u.preventDefault(),r.trim()&&re.info(`Searching for "${r}"...`)};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-black text-white",children:[s.jsx(Je,{}),s.jsxs("main",{className:"flex-grow",children:[s.jsx("section",{className:"px-4 md:px-8 lg:px-12 py-12 bg-gradient-to-b from-[#111111] to-black",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[s.jsxs("div",{className:"md:w-1/2",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Discover Live Shows"}),s.jsx("p",{className:"text-white/70 md:text-lg mb-6",children:"Find concerts and vote on setlists for your favorite artists"}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(Ee,{to:"/shows/create",children:s.jsxs(pe,{size:"lg",className:"gap-2 bg-white text-black hover:bg-white/90",children:[s.jsx(om,{size:18}),"Create Show"]})}),s.jsx(Ee,{to:"/artists",children:s.jsxs(pe,{variant:"outline",size:"lg",className:"gap-2 border-white/20 hover:bg-white/10",children:[s.jsx(hn,{size:18}),"Find Artists"]})})]})]}),s.jsx("div",{className:"md:w-1/2 max-w-sm mx-auto md:mx-0",children:s.jsxs("form",{onSubmit:d,className:"relative",children:[s.jsx(ot,{type:"text",placeholder:"Search shows, artists or venues...",className:"w-full pl-10 pr-4 py-6 bg-white/10 border-white/20 placeholder:text-white/50 text-white",value:r,onChange:u=>n(u.target.value)}),s.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/50",size:18})]})})]})})}),s.jsx(vS,{}),s.jsx(yS,{}),s.jsx(bS,{searchQuery:r,selectedGenre:l,handleGenreChange:c,artistParam:a})]}),s.jsx(et,{})]})},NS=({genreId:e,genreName:t,limit:r=8})=>{const{data:n=[],isLoading:o}=at({queryKey:["showsByGenre",e],queryFn:()=>Ko(e),staleTime:6e5}),a=H.useMemo(()=>{const i=new Map;return n.forEach(c=>{i.has(c.id)||i.set(c.id,c)}),Array.from(i.values()).slice(0,r)},[n,r]),l=i=>{if(!i)return"TBA";try{const c=new Date(i);return isNaN(c.getTime())?"TBA":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(c)}catch{return"TBA"}};return s.jsx("section",{className:"px-6 md:px-8 lg:px-12 py-16 bg-gradient-to-b from-[#0A0A16] to-[#10101E]",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("h3",{className:"text-2xl font-semibold",children:["Shows by ",t]}),s.jsxs(Ee,{to:`/shows?genre=${encodeURIComponent(t)}`,className:"text-white text-sm hover:underline flex items-center group",children:["View all ",s.jsx(wn,{size:16,className:"ml-1 transition-transform group-hover:translate-x-1"})]})]}),o?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(r)].map((i,c)=>s.jsxs("div",{className:"border border-white/10 rounded-lg overflow-hidden bg-black/20",children:[s.jsx(me,{className:"h-32 w-full"}),s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsx(me,{className:"h-5 w-4/5"}),s.jsx(me,{className:"h-4 w-3/4"}),s.jsx(me,{className:"h-4 w-2/3"})]})]},c))}):a.length===0?s.jsxs("div",{className:"text-center py-8 border border-white/10 rounded-lg bg-black/20",children:[s.jsx(dt,{className:"h-10 w-10 mx-auto text-white/40 mb-3"}),s.jsx("p",{className:"text-white/60 mb-4",children:"No upcoming shows found for this genre"}),s.jsx(pe,{asChild:!0,variant:"default",size:"sm",children:s.jsx(Ee,{to:"/shows",children:"Browse all shows"})})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map(i=>{var c,d,u;return s.jsxs(Ee,{to:`/shows/${i.id}`,className:"group rounded-lg border border-white/10 overflow-hidden hover:shadow-md transition-all hover:border-white/30 bg-black/20",children:[s.jsx("div",{className:"relative h-32 overflow-hidden",children:i.image_url?s.jsx("img",{src:i.image_url,alt:i.name,className:"w-full h-full object-cover transition-transform group-hover:scale-105"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-secondary",children:s.jsx(dt,{className:"h-8 w-8 text-white/40"})})}),s.jsxs("div",{className:"p-4",children:[s.jsx("h4",{className:"font-medium text-sm line-clamp-1 group-hover:text-white transition-colors",children:i.name}),s.jsx("p",{className:"text-white/90 text-xs mt-1 line-clamp-1",children:((c=i.artist)==null?void 0:c.name)||"Various Artists"}),s.jsxs("div",{className:"mt-2 flex items-center text-xs text-white/60",children:[s.jsx(mn,{size:14,className:"mr-1"}),s.jsx("span",{children:l(i.date)})]}),s.jsxs("div",{className:"mt-1 flex items-center text-xs text-white/60",children:[s.jsx(Ar,{size:14,className:"mr-1"}),s.jsxs("span",{className:"line-clamp-1",children:[(d=i.venue)==null?void 0:d.name,", ",((u=i.venue)==null?void 0:u.city)||"Location TBA"]})]})]})]},i.id)})})]})})},jS=({activeGenre:e,setActiveGenre:t})=>{var r;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Popular Genres"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:On.map(n=>s.jsx(qt,{variant:e===n.id?"default":"outline",className:"cursor-pointer text-sm py-1.5 px-3",onClick:()=>t(e===n.id?null:n.id),children:n.name},n.id))}),e&&s.jsx(NS,{genreId:e,genreName:((r=On.find(n=>n.id===e))==null?void 0:r.name)||""})]})},SS=()=>{const e=mr(),[t,r]=Hu(),n=t.get("q")||"",[o,a]=m.useState(n),[l,i]=m.useState(!!n),[c,d]=m.useState(!1),[u,f]=m.useState(t.get("genre")),g=e.pathname.startsWith("/shows"),p=g?"Upcoming Shows":"Discover Artists";to(p,g?"Find upcoming concerts and vote on what songs will be played":"Discover artists with upcoming shows and influence their setlists"),m.useEffect(()=>{n!==o&&(a(n),i(!!n))},[n]);const w=async y=>{a(y),i(!!y),d(!0),r(y?N=>(N.set("q",y),u&&N.delete("genre"),N):N=>(N.delete("q"),N)),setTimeout(()=>{d(!1)},500)},v=y=>{f(y),r(N=>(y?(N.set("genre",y),N.delete("q")):N.delete("genre"),N)),i(!1),a("")};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsx("main",{className:"flex-grow",children:s.jsx("section",{className:"px-6 py-12 md:px-8 lg:px-12 bg-gradient-to-b from-secondary/30 to-background",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:p}),s.jsx(Ks,{onSearch:w,onChange:w,placeholder:g?"Search for shows...":"Search for artists...",className:"mb-8 max-w-2xl",value:o,disableRedirect:!0}),l?s.jsx(gc,{query:o}):s.jsxs("div",{className:"space-y-16",children:[s.jsx(qh,{}),s.jsx(jS,{activeGenre:u,setActiveGenre:v})]})]})})}),s.jsx(et,{})]})},ES=()=>{const e=jt(),t=mr(),n=new URLSearchParams(t.search).get("q")||"",[o,a]=m.useState(n),[l,i]=m.useState(n);to(n?`Search: ${n}`:"Search",n?`Find artists, shows and venues matching "${n}"`:"Search for artists with upcoming shows"),m.useEffect(()=>{n!==o&&(a(n),i(n))},[n]),m.useEffect(()=>{const w=setTimeout(()=>{i(o),o&&o!==n?e(`/search?q=${encodeURIComponent(o)}`,{replace:!0}):!o&&n&&e("/search",{replace:!0})},300);return()=>{clearTimeout(w)}},[o,e,n]);const{data:c=[],isLoading:d,error:u}=at({queryKey:["artistsWithEvents",l],queryFn:()=>Zs(l),enabled:l.length>2}),f=w=>{a(w)},g=async w=>{console.log(`[Search Page] Triggering import for artist: ${w.name} (ID: ${w.id})`);try{if(!w||!w.id||!w.name){console.error("[Search Page] Invalid artist data for import:",w),e(`/artists/${w.id}`),re.error("Cannot import artist: Invalid data."),e(`/artists/${w.id}`);return}const v={id:w.id,name:w.name,image_url:w.image,genres:w.genres};Object.keys(v).forEach(y=>{v[y]===void 0&&delete v[y]}),console.log("[Search Page] Prepared payload for import:",v),ye.functions.invoke("import-artist",{body:v}).then(({data:y,error:N})=>{N?(console.error(`[Search Page] Error invoking import-artist function for ${w.name}:`,N),re.error(`Failed to start import for ${w.name}: ${N.message}`)):console.log(`[Search Page] Successfully invoked import-artist function for ${w.name}.`,y)}).catch(y=>{console.error(`[Search Page] Network error invoking import-artist function for ${w.name}:`,y),re.error(`Network error starting import for ${w.name}.`)})}catch(v){console.error(`[Search Page] Error preparing artist import for ${w.name}:`,v)}e(`/artists/${w.id}`)},p=o.length>2&&c.length>0;return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsx("main",{className:"flex-grow px-6 md:px-8 lg:px-12 py-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-8",children:"Find Artists with Upcoming Shows"}),s.jsx("div",{className:"relative max-w-2xl mx-auto mb-12",children:s.jsx(Ks,{placeholder:"Search for artists with upcoming shows...",onSearch:f,onChange:a,className:"w-full",value:o,disableRedirect:!0,children:p&&s.jsx(Hh,{artists:c,isLoading:d,onSelect:g})})}),!o&&s.jsxs("div",{className:"text-center p-12 border border-border rounded-xl",children:[s.jsx(hn,{className:"mx-auto mb-4 text-muted-foreground h-12 w-12"}),s.jsx("h3",{className:"text-xl font-medium mb-2",children:"Search for artists with upcoming shows"}),s.jsx("p",{className:"text-muted-foreground",children:"Find artists and discover their upcoming concerts"})]}),o.length>2&&!d&&c.length===0&&s.jsxs("div",{className:"text-center p-12 border border-border rounded-xl",children:[s.jsx(dt,{className:"mx-auto mb-4 text-muted-foreground h-12 w-12"}),s.jsx("h3",{className:"text-xl font-medium mb-2",children:"No artists found"}),s.jsx("p",{className:"text-muted-foreground",children:"Try a different search term or check back later for more shows"})]})]})}),s.jsx(et,{})]})},CS=()=>s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsx("main",{className:"flex-grow px-6 md:px-8 lg:px-12 py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"How TheSet Works"}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"TheSet lets fans shape concert setlists through collaborative voting"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12 mb-20",children:[s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:s.jsx(dt,{className:"h-8 w-8 text-primary"})}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Find Artists"}),s.jsx("p",{className:"text-muted-foreground",children:"Search for your favorite artists and discover their upcoming concerts and shows"})]}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:s.jsx(dr,{className:"h-8 w-8 text-primary"})}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Vote on Setlists"}),s.jsx("p",{className:"text-muted-foreground",children:"Browse through upcoming shows and vote on songs you want to hear played"})]}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mb-6",children:s.jsx(er,{className:"h-8 w-8 text-primary"})}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Enjoy the Show"}),s.jsx("p",{className:"text-muted-foreground",children:"Experience concerts with setlists influenced by fan votes and preferences"})]})]}),s.jsxs("div",{className:"space-y-16",children:[s.jsxs("div",{className:"bg-card border border-border rounded-xl p-8",children:[s.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"For Fans"}),s.jsxs("ul",{className:"space-y-4",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"mr-4 mt-1 w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(er,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Influence your favorite artists"}),s.jsx("p",{className:"text-muted-foreground",children:"Your votes help shape the concert experience for everyone"})]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"mr-4 mt-1 w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(er,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Discover new music"}),s.jsx("p",{className:"text-muted-foreground",children:"See what songs are trending among other fans"})]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"mr-4 mt-1 w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(er,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Connect with the community"}),s.jsx("p",{className:"text-muted-foreground",children:"Join other fans in creating the perfect concert experience"})]})]})]})]}),s.jsxs("div",{className:"bg-card border border-border rounded-xl p-8",children:[s.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"For Artists"}),s.jsxs("ul",{className:"space-y-4",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"mr-4 mt-1 w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(er,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Understand fan preferences"}),s.jsx("p",{className:"text-muted-foreground",children:"Get real data on which songs your fans want to hear most"})]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"mr-4 mt-1 w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(er,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Create better shows"}),s.jsx("p",{className:"text-muted-foreground",children:"Curate setlists that maximize fan enjoyment"})]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("div",{className:"mr-4 mt-1 w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx(er,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Engage with your audience"}),s.jsx("p",{className:"text-muted-foreground",children:"Build stronger connections with fans by involving them in the process"})]})]})]})]})]})]})}),s.jsx(et,{})]}),AS=()=>{const e=jt();return m.useEffect(()=>{e("/auth",{replace:!0})},[e]),s.jsxs("div",{className:"h-screen flex items-center justify-center",children:[s.jsx(Cr,{className:"h-8 w-8 animate-spin text-primary mr-2"}),s.jsx("span",{children:"Redirecting to login..."})]})};var De;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function r(o){throw new Error}e.assertNever=r,e.arrayToEnum=o=>{const a={};for(const l of o)a[l]=l;return a},e.getValidEnumValues=o=>{const a=e.objectKeys(o).filter(i=>typeof o[o[i]]!="number"),l={};for(const i of a)l[i]=o[i];return e.objectValues(l)},e.objectValues=o=>e.objectKeys(o).map(function(a){return o[a]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const l in o)Object.prototype.hasOwnProperty.call(o,l)&&a.push(l);return a},e.find=(o,a)=>{for(const l of o)if(a(l))return l},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,a=" | "){return o.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(De||(De={}));var Al;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Al||(Al={}));const le=De.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_r=e=>{switch(typeof e){case"undefined":return le.undefined;case"string":return le.string;case"number":return isNaN(e)?le.nan:le.number;case"boolean":return le.boolean;case"function":return le.function;case"bigint":return le.bigint;case"symbol":return le.symbol;case"object":return Array.isArray(e)?le.array:e===null?le.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?le.promise:typeof Map<"u"&&e instanceof Map?le.map:typeof Set<"u"&&e instanceof Set?le.set:typeof Date<"u"&&e instanceof Date?le.date:le.object;default:return le.unknown}},K=De.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),kS=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class kt extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},o=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(o);else if(l.code==="invalid_return_type")o(l.returnTypeError);else if(l.code==="invalid_arguments")o(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let i=n,c=0;for(;c<l.path.length;){const d=l.path[c];c===l.path.length-1?(i[d]=i[d]||{_errors:[]},i[d]._errors.push(r(l))):i[d]=i[d]||{_errors:[]},i=i[d],c++}}};return o(this),n}static assert(t){if(!(t instanceof kt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,De.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(t(o))):n.push(t(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}kt.create=e=>new kt(e);const Yn=(e,t)=>{let r;switch(e.code){case K.invalid_type:e.received===le.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case K.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,De.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:r=`Unrecognized key(s) in object: ${De.joinValues(e.keys,", ")}`;break;case K.invalid_union:r="Invalid input";break;case K.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${De.joinValues(e.options)}`;break;case K.invalid_enum_value:r=`Invalid enum value. Expected ${De.joinValues(e.options)}, received '${e.received}'`;break;case K.invalid_arguments:r="Invalid function arguments";break;case K.invalid_return_type:r="Invalid function return type";break;case K.invalid_date:r="Invalid date";break;case K.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:De.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case K.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case K.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case K.custom:r="Invalid input";break;case K.invalid_intersection_types:r="Intersection results could not be merged";break;case K.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case K.not_finite:r="Number must be finite";break;default:r=t.defaultError,De.assertNever(e)}return{message:r}};let Dp=Yn;function TS(e){Dp=e}function ra(){return Dp}const na=e=>{const{data:t,path:r,errorMaps:n,issueData:o}=e,a=[...r,...o.path||[]],l={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let i="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)i=d(l,{data:t,defaultError:i}).message;return{...o,path:a,message:i}},RS=[];function se(e,t){const r=ra(),n=na({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Yn?void 0:Yn].filter(o=>!!o)});e.common.issues.push(n)}class ft{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const o of r){if(o.status==="aborted")return _e;o.status==="dirty"&&t.dirty(),n.push(o.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const o of r){const a=await o.key,l=await o.value;n.push({key:a,value:l})}return ft.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const o of r){const{key:a,value:l}=o;if(a.status==="aborted"||l.status==="aborted")return _e;a.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||o.alwaysSet)&&(n[a.value]=l.value)}return{status:t.value,value:n}}}const _e=Object.freeze({status:"aborted"}),In=e=>({status:"dirty",value:e}),xt=e=>({status:"valid",value:e}),kl=e=>e.status==="aborted",Tl=e=>e.status==="dirty",xn=e=>e.status==="valid",Rs=e=>typeof Promise<"u"&&e instanceof Promise;function sa(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Op(e,t,r,n,o){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(fe||(fe={}));var gs,xs;class ur{constructor(t,r,n,o){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hu=(e,t)=>{if(xn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new kt(e.common.issues);return this._error=r,this._error}}};function ke(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:o}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(l,i)=>{var c,d;const{message:u}=e;return l.code==="invalid_enum_value"?{message:u??i.defaultError}:typeof i.data>"u"?{message:(c=u??n)!==null&&c!==void 0?c:i.defaultError}:l.code!=="invalid_type"?{message:i.defaultError}:{message:(d=u??r)!==null&&d!==void 0?d:i.defaultError}},description:o}}class Ie{get description(){return this._def.description}_getType(t){return _r(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:_r(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ft,ctx:{common:t.parent.common,data:t.data,parsedType:_r(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Rs(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const o={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_r(t)},a=this._parseSync({data:t,path:o.path,parent:o});return hu(o,a)}"~validate"(t){var r,n;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_r(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:o});return xn(a)?{value:a.value}:{issues:o.common.issues}}catch(a){!((n=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:o}).then(a=>xn(a)?{value:a.value}:{issues:o.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_r(t)},o=this._parse({data:t,path:n.path,parent:n}),a=await(Rs(o)?o:Promise.resolve(o));return hu(n,a)}refine(t,r){const n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,a)=>{const l=t(o),i=()=>a.addIssue({code:K.custom,...n(o)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(i(),!1)):l?!0:(i(),!1)})}refinement(t,r){return this._refinement((n,o)=>t(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(t){return new Xt({schema:this,typeName:ve.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ir.create(this,this._def)}nullable(){return Zr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Yt.create(this)}promise(){return Zn.create(this,this._def)}or(t){return Ds.create([this,t],this._def)}and(t){return Os.create(this,t,this._def)}transform(t){return new Xt({...ke(this._def),schema:this,typeName:ve.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Us({...ke(this._def),innerType:this,defaultValue:r,typeName:ve.ZodDefault})}brand(){return new wc({typeName:ve.ZodBranded,type:this,...ke(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Vs({...ke(this._def),innerType:this,catchValue:r,typeName:ve.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ro.create(this,t)}readonly(){return Ws.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const PS=/^c[^\s-]{8,}$/i,IS=/^[0-9a-z]+$/,MS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,DS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,OS=/^[a-z0-9_-]{21}$/i,LS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,FS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$S=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,BS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Gi;const US=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,VS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,WS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,HS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Lp="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",YS=new RegExp(`^${Lp}$`);function Fp(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function GS(e){return new RegExp(`^${Fp(e)}$`)}function $p(e){let t=`${Lp}T${Fp(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function ZS(e,t){return!!((t==="v4"||!t)&&US.test(e)||(t==="v6"||!t)&&WS.test(e))}function KS(e,t){if(!LS.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||!o.typ||!o.alg||t&&o.alg!==t)}catch{return!1}}function XS(e,t){return!!((t==="v4"||!t)&&VS.test(e)||(t==="v6"||!t)&&zS.test(e))}class Ht extends Ie{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==le.string){const a=this._getOrReturnCtx(t);return se(a,{code:K.invalid_type,expected:le.string,received:a.parsedType}),_e}const n=new ft;let o;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(o=this._getOrReturnCtx(t,o),se(o,{code:K.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(o=this._getOrReturnCtx(t,o),se(o,{code:K.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const l=t.data.length>a.value,i=t.data.length<a.value;(l||i)&&(o=this._getOrReturnCtx(t,o),l?se(o,{code:K.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&se(o,{code:K.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")$S.test(t.data)||(o=this._getOrReturnCtx(t,o),se(o,{validation:"email",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Gi||(Gi=new RegExp(BS,"u")),Gi.test(t.data)||(o=this._getOrReturnCtx(t,o),se(o,{validation:"emoji",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")DS.test(t.data)||(o=this._getOrReturnCtx(t,o),se(o,{validation:"uuid",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")OS.test(t.data)||(o=this._getOrReturnCtx(t,o),se(o,{validation:"nanoid",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")PS.test(t.data)||(o=this._getOrReturnCtx(t,o),se(o,{validation:"cuid",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")IS.test(t.data)||(o=this._getOrReturnCtx(t,o),se(o,{validation:"cuid2",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")MS.test(t.data)||(o=this._getOrReturnCtx(t,o),se(o,{validation:"ulid",code:K.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),se(o,{validation:"url",code:K.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),se(o,{validation:"regex",code:K.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(t,o),se(o,{code:K.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(o=this._getOrReturnCtx(t,o),se(o,{code:K.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(o=this._getOrReturnCtx(t,o),se(o,{code:K.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?$p(a).test(t.data)||(o=this._getOrReturnCtx(t,o),se(o,{code:K.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?YS.test(t.data)||(o=this._getOrReturnCtx(t,o),se(o,{code:K.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?GS(a).test(t.data)||(o=this._getOrReturnCtx(t,o),se(o,{code:K.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?FS.test(t.data)||(o=this._getOrReturnCtx(t,o),se(o,{validation:"duration",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?ZS(t.data,a.version)||(o=this._getOrReturnCtx(t,o),se(o,{validation:"ip",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?KS(t.data,a.alg)||(o=this._getOrReturnCtx(t,o),se(o,{validation:"jwt",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?XS(t.data,a.version)||(o=this._getOrReturnCtx(t,o),se(o,{validation:"cidr",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?HS.test(t.data)||(o=this._getOrReturnCtx(t,o),se(o,{validation:"base64",code:K.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?qS.test(t.data)||(o=this._getOrReturnCtx(t,o),se(o,{validation:"base64url",code:K.invalid_string,message:a.message}),n.dirty()):De.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(o=>t.test(o),{validation:r,code:K.invalid_string,...fe.errToObj(n)})}_addCheck(t){return new Ht({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...fe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...fe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...fe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...fe.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...fe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...fe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...fe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...fe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...fe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...fe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...fe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...fe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...fe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...fe.errToObj(r)})}nonempty(t){return this.min(1,fe.errToObj(t))}trim(){return new Ht({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ht({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ht({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ht.create=e=>{var t;return new Ht({checks:[],typeName:ve.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ke(e)})};function QS(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,o=r>n?r:n,a=parseInt(e.toFixed(o).replace(".","")),l=parseInt(t.toFixed(o).replace(".",""));return a%l/Math.pow(10,o)}class qr extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==le.number){const a=this._getOrReturnCtx(t);return se(a,{code:K.invalid_type,expected:le.number,received:a.parsedType}),_e}let n;const o=new ft;for(const a of this._def.checks)a.kind==="int"?De.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),se(n,{code:K.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),se(n,{code:K.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),se(n,{code:K.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?QS(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),se(n,{code:K.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),se(n,{code:K.not_finite,message:a.message}),o.dirty()):De.assertNever(a);return{status:o.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,fe.toString(r))}setLimit(t,r,n,o){return new qr({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:fe.toString(o)}]})}_addCheck(t){return new qr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:fe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&De.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}qr.create=e=>new qr({checks:[],typeName:ve.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ke(e)});class Yr extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==le.bigint)return this._getInvalidInput(t);let n;const o=new ft;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),se(n,{code:K.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),se(n,{code:K.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),se(n,{code:K.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):De.assertNever(a);return{status:o.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return se(r,{code:K.invalid_type,expected:le.bigint,received:r.parsedType}),_e}gte(t,r){return this.setLimit("min",t,!0,fe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,fe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,fe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,fe.toString(r))}setLimit(t,r,n,o){return new Yr({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:fe.toString(o)}]})}_addCheck(t){return new Yr({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:fe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Yr.create=e=>{var t;return new Yr({checks:[],typeName:ve.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ke(e)})};class Ps extends Ie{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==le.boolean){const n=this._getOrReturnCtx(t);return se(n,{code:K.invalid_type,expected:le.boolean,received:n.parsedType}),_e}return xt(t.data)}}Ps.create=e=>new Ps({typeName:ve.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ke(e)});class vn extends Ie{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==le.date){const a=this._getOrReturnCtx(t);return se(a,{code:K.invalid_type,expected:le.date,received:a.parsedType}),_e}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return se(a,{code:K.invalid_date}),_e}const n=new ft;let o;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(o=this._getOrReturnCtx(t,o),se(o,{code:K.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(o=this._getOrReturnCtx(t,o),se(o,{code:K.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):De.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new vn({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:fe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:fe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}vn.create=e=>new vn({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ve.ZodDate,...ke(e)});class oa extends Ie{_parse(t){if(this._getType(t)!==le.symbol){const n=this._getOrReturnCtx(t);return se(n,{code:K.invalid_type,expected:le.symbol,received:n.parsedType}),_e}return xt(t.data)}}oa.create=e=>new oa({typeName:ve.ZodSymbol,...ke(e)});class Is extends Ie{_parse(t){if(this._getType(t)!==le.undefined){const n=this._getOrReturnCtx(t);return se(n,{code:K.invalid_type,expected:le.undefined,received:n.parsedType}),_e}return xt(t.data)}}Is.create=e=>new Is({typeName:ve.ZodUndefined,...ke(e)});class Ms extends Ie{_parse(t){if(this._getType(t)!==le.null){const n=this._getOrReturnCtx(t);return se(n,{code:K.invalid_type,expected:le.null,received:n.parsedType}),_e}return xt(t.data)}}Ms.create=e=>new Ms({typeName:ve.ZodNull,...ke(e)});class Gn extends Ie{constructor(){super(...arguments),this._any=!0}_parse(t){return xt(t.data)}}Gn.create=e=>new Gn({typeName:ve.ZodAny,...ke(e)});class ln extends Ie{constructor(){super(...arguments),this._unknown=!0}_parse(t){return xt(t.data)}}ln.create=e=>new ln({typeName:ve.ZodUnknown,...ke(e)});class Tr extends Ie{_parse(t){const r=this._getOrReturnCtx(t);return se(r,{code:K.invalid_type,expected:le.never,received:r.parsedType}),_e}}Tr.create=e=>new Tr({typeName:ve.ZodNever,...ke(e)});class aa extends Ie{_parse(t){if(this._getType(t)!==le.undefined){const n=this._getOrReturnCtx(t);return se(n,{code:K.invalid_type,expected:le.void,received:n.parsedType}),_e}return xt(t.data)}}aa.create=e=>new aa({typeName:ve.ZodVoid,...ke(e)});class Yt extends Ie{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),o=this._def;if(r.parsedType!==le.array)return se(r,{code:K.invalid_type,expected:le.array,received:r.parsedType}),_e;if(o.exactLength!==null){const l=r.data.length>o.exactLength.value,i=r.data.length<o.exactLength.value;(l||i)&&(se(r,{code:l?K.too_big:K.too_small,minimum:i?o.exactLength.value:void 0,maximum:l?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(se(r,{code:K.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(se(r,{code:K.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,i)=>o.type._parseAsync(new ur(r,l,r.path,i)))).then(l=>ft.mergeArray(n,l));const a=[...r.data].map((l,i)=>o.type._parseSync(new ur(r,l,r.path,i)));return ft.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new Yt({...this._def,minLength:{value:t,message:fe.toString(r)}})}max(t,r){return new Yt({...this._def,maxLength:{value:t,message:fe.toString(r)}})}length(t,r){return new Yt({...this._def,exactLength:{value:t,message:fe.toString(r)}})}nonempty(t){return this.min(1,t)}}Yt.create=(e,t)=>new Yt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ve.ZodArray,...ke(t)});function Pn(e){if(e instanceof Ke){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ir.create(Pn(n))}return new Ke({...e._def,shape:()=>t})}else return e instanceof Yt?new Yt({...e._def,type:Pn(e.element)}):e instanceof ir?ir.create(Pn(e.unwrap())):e instanceof Zr?Zr.create(Pn(e.unwrap())):e instanceof fr?fr.create(e.items.map(t=>Pn(t))):e}class Ke extends Ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=De.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==le.object){const d=this._getOrReturnCtx(t);return se(d,{code:K.invalid_type,expected:le.object,received:d.parsedType}),_e}const{status:n,ctx:o}=this._processInputParams(t),{shape:a,keys:l}=this._getCached(),i=[];if(!(this._def.catchall instanceof Tr&&this._def.unknownKeys==="strip"))for(const d in o.data)l.includes(d)||i.push(d);const c=[];for(const d of l){const u=a[d],f=o.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ur(o,f,o.path,d)),alwaysSet:d in o.data})}if(this._def.catchall instanceof Tr){const d=this._def.unknownKeys;if(d==="passthrough")for(const u of i)c.push({key:{status:"valid",value:u},value:{status:"valid",value:o.data[u]}});else if(d==="strict")i.length>0&&(se(o,{code:K.unrecognized_keys,keys:i}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const u of i){const f=o.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ur(o,f,o.path,u)),alwaysSet:u in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const d=[];for(const u of c){const f=await u.key,g=await u.value;d.push({key:f,value:g,alwaysSet:u.alwaysSet})}return d}).then(d=>ft.mergeObjectSync(n,d)):ft.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return fe.errToObj,new Ke({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var o,a,l,i;const c=(l=(a=(o=this._def).errorMap)===null||a===void 0?void 0:a.call(o,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(i=fe.errToObj(t).message)!==null&&i!==void 0?i:c}:{message:c}}}:{}})}strip(){return new Ke({...this._def,unknownKeys:"strip"})}passthrough(){return new Ke({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ke({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ke({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ve.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ke({...this._def,catchall:t})}pick(t){const r={};return De.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ke({...this._def,shape:()=>r})}omit(t){const r={};return De.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Ke({...this._def,shape:()=>r})}deepPartial(){return Pn(this)}partial(t){const r={};return De.objectKeys(this.shape).forEach(n=>{const o=this.shape[n];t&&!t[n]?r[n]=o:r[n]=o.optional()}),new Ke({...this._def,shape:()=>r})}required(t){const r={};return De.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ir;)a=a._def.innerType;r[n]=a}}),new Ke({...this._def,shape:()=>r})}keyof(){return Bp(De.objectKeys(this.shape))}}Ke.create=(e,t)=>new Ke({shape:()=>e,unknownKeys:"strip",catchall:Tr.create(),typeName:ve.ZodObject,...ke(t)});Ke.strictCreate=(e,t)=>new Ke({shape:()=>e,unknownKeys:"strict",catchall:Tr.create(),typeName:ve.ZodObject,...ke(t)});Ke.lazycreate=(e,t)=>new Ke({shape:e,unknownKeys:"strip",catchall:Tr.create(),typeName:ve.ZodObject,...ke(t)});class Ds extends Ie{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function o(a){for(const i of a)if(i.result.status==="valid")return i.result;for(const i of a)if(i.result.status==="dirty")return r.common.issues.push(...i.ctx.common.issues),i.result;const l=a.map(i=>new kt(i.ctx.common.issues));return se(r,{code:K.invalid_union,unionErrors:l}),_e}if(r.common.async)return Promise.all(n.map(async a=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(o);{let a;const l=[];for(const c of n){const d={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:d});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const i=l.map(c=>new kt(c));return se(r,{code:K.invalid_union,unionErrors:i}),_e}}get options(){return this._def.options}}Ds.create=(e,t)=>new Ds({options:e,typeName:ve.ZodUnion,...ke(t)});const br=e=>e instanceof Fs?br(e.schema):e instanceof Xt?br(e.innerType()):e instanceof $s?[e.value]:e instanceof Gr?e.options:e instanceof Bs?De.objectValues(e.enum):e instanceof Us?br(e._def.innerType):e instanceof Is?[void 0]:e instanceof Ms?[null]:e instanceof ir?[void 0,...br(e.unwrap())]:e instanceof Zr?[null,...br(e.unwrap())]:e instanceof wc||e instanceof Ws?br(e.unwrap()):e instanceof Vs?br(e._def.innerType):[];class Ha extends Ie{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==le.object)return se(r,{code:K.invalid_type,expected:le.object,received:r.parsedType}),_e;const n=this.discriminator,o=r.data[n],a=this.optionsMap.get(o);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(se(r,{code:K.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),_e)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const o=new Map;for(const a of r){const l=br(a.shape[t]);if(!l.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const i of l){if(o.has(i))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(i)}`);o.set(i,a)}}return new Ha({typeName:ve.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:o,...ke(n)})}}function Rl(e,t){const r=_r(e),n=_r(t);if(e===t)return{valid:!0,data:e};if(r===le.object&&n===le.object){const o=De.objectKeys(t),a=De.objectKeys(e).filter(i=>o.indexOf(i)!==-1),l={...e,...t};for(const i of a){const c=Rl(e[i],t[i]);if(!c.valid)return{valid:!1};l[i]=c.data}return{valid:!0,data:l}}else if(r===le.array&&n===le.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let a=0;a<e.length;a++){const l=e[a],i=t[a],c=Rl(l,i);if(!c.valid)return{valid:!1};o.push(c.data)}return{valid:!0,data:o}}else return r===le.date&&n===le.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Os extends Ie{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),o=(a,l)=>{if(kl(a)||kl(l))return _e;const i=Rl(a.value,l.value);return i.valid?((Tl(a)||Tl(l))&&r.dirty(),{status:r.value,value:i.data}):(se(n,{code:K.invalid_intersection_types}),_e)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,l])=>o(a,l)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Os.create=(e,t,r)=>new Os({left:e,right:t,typeName:ve.ZodIntersection,...ke(r)});class fr extends Ie{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==le.array)return se(n,{code:K.invalid_type,expected:le.array,received:n.parsedType}),_e;if(n.data.length<this._def.items.length)return se(n,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_e;!this._def.rest&&n.data.length>this._def.items.length&&(se(n,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((l,i)=>{const c=this._def.items[i]||this._def.rest;return c?c._parse(new ur(n,l,n.path,i)):null}).filter(l=>!!l);return n.common.async?Promise.all(a).then(l=>ft.mergeArray(r,l)):ft.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new fr({...this._def,rest:t})}}fr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fr({items:e,typeName:ve.ZodTuple,rest:null,...ke(t)})};class Ls extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==le.object)return se(n,{code:K.invalid_type,expected:le.object,received:n.parsedType}),_e;const o=[],a=this._def.keyType,l=this._def.valueType;for(const i in n.data)o.push({key:a._parse(new ur(n,i,n.path,i)),value:l._parse(new ur(n,n.data[i],n.path,i)),alwaysSet:i in n.data});return n.common.async?ft.mergeObjectAsync(r,o):ft.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Ie?new Ls({keyType:t,valueType:r,typeName:ve.ZodRecord,...ke(n)}):new Ls({keyType:Ht.create(),valueType:t,typeName:ve.ZodRecord,...ke(r)})}}class ia extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==le.map)return se(n,{code:K.invalid_type,expected:le.map,received:n.parsedType}),_e;const o=this._def.keyType,a=this._def.valueType,l=[...n.data.entries()].map(([i,c],d)=>({key:o._parse(new ur(n,i,n.path,[d,"key"])),value:a._parse(new ur(n,c,n.path,[d,"value"]))}));if(n.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const c of l){const d=await c.key,u=await c.value;if(d.status==="aborted"||u.status==="aborted")return _e;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),i.set(d.value,u.value)}return{status:r.value,value:i}})}else{const i=new Map;for(const c of l){const d=c.key,u=c.value;if(d.status==="aborted"||u.status==="aborted")return _e;(d.status==="dirty"||u.status==="dirty")&&r.dirty(),i.set(d.value,u.value)}return{status:r.value,value:i}}}}ia.create=(e,t,r)=>new ia({valueType:t,keyType:e,typeName:ve.ZodMap,...ke(r)});class yn extends Ie{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==le.set)return se(n,{code:K.invalid_type,expected:le.set,received:n.parsedType}),_e;const o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(se(n,{code:K.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(se(n,{code:K.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const a=this._def.valueType;function l(c){const d=new Set;for(const u of c){if(u.status==="aborted")return _e;u.status==="dirty"&&r.dirty(),d.add(u.value)}return{status:r.value,value:d}}const i=[...n.data.values()].map((c,d)=>a._parse(new ur(n,c,n.path,d)));return n.common.async?Promise.all(i).then(c=>l(c)):l(i)}min(t,r){return new yn({...this._def,minSize:{value:t,message:fe.toString(r)}})}max(t,r){return new yn({...this._def,maxSize:{value:t,message:fe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}yn.create=(e,t)=>new yn({valueType:e,minSize:null,maxSize:null,typeName:ve.ZodSet,...ke(t)});class $n extends Ie{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==le.function)return se(r,{code:K.invalid_type,expected:le.function,received:r.parsedType}),_e;function n(i,c){return na({data:i,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ra(),Yn].filter(d=>!!d),issueData:{code:K.invalid_arguments,argumentsError:c}})}function o(i,c){return na({data:i,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ra(),Yn].filter(d=>!!d),issueData:{code:K.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof Zn){const i=this;return xt(async function(...c){const d=new kt([]),u=await i._def.args.parseAsync(c,a).catch(p=>{throw d.addIssue(n(c,p)),d}),f=await Reflect.apply(l,this,u);return await i._def.returns._def.type.parseAsync(f,a).catch(p=>{throw d.addIssue(o(f,p)),d})})}else{const i=this;return xt(function(...c){const d=i._def.args.safeParse(c,a);if(!d.success)throw new kt([n(c,d.error)]);const u=Reflect.apply(l,this,d.data),f=i._def.returns.safeParse(u,a);if(!f.success)throw new kt([o(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new $n({...this._def,args:fr.create(t).rest(ln.create())})}returns(t){return new $n({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new $n({args:t||fr.create([]).rest(ln.create()),returns:r||ln.create(),typeName:ve.ZodFunction,...ke(n)})}}class Fs extends Ie{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Fs.create=(e,t)=>new Fs({getter:e,typeName:ve.ZodLazy,...ke(t)});class $s extends Ie{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return se(r,{received:r.data,code:K.invalid_literal,expected:this._def.value}),_e}return{status:"valid",value:t.data}}get value(){return this._def.value}}$s.create=(e,t)=>new $s({value:e,typeName:ve.ZodLiteral,...ke(t)});function Bp(e,t){return new Gr({values:e,typeName:ve.ZodEnum,...ke(t)})}class Gr extends Ie{constructor(){super(...arguments),gs.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return se(r,{expected:De.joinValues(n),received:r.parsedType,code:K.invalid_type}),_e}if(sa(this,gs)||Op(this,gs,new Set(this._def.values)),!sa(this,gs).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return se(r,{received:r.data,code:K.invalid_enum_value,options:n}),_e}return xt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Gr.create(t,{...this._def,...r})}exclude(t,r=this._def){return Gr.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}gs=new WeakMap;Gr.create=Bp;class Bs extends Ie{constructor(){super(...arguments),xs.set(this,void 0)}_parse(t){const r=De.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==le.string&&n.parsedType!==le.number){const o=De.objectValues(r);return se(n,{expected:De.joinValues(o),received:n.parsedType,code:K.invalid_type}),_e}if(sa(this,xs)||Op(this,xs,new Set(De.getValidEnumValues(this._def.values))),!sa(this,xs).has(t.data)){const o=De.objectValues(r);return se(n,{received:n.data,code:K.invalid_enum_value,options:o}),_e}return xt(t.data)}get enum(){return this._def.values}}xs=new WeakMap;Bs.create=(e,t)=>new Bs({values:e,typeName:ve.ZodNativeEnum,...ke(t)});class Zn extends Ie{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==le.promise&&r.common.async===!1)return se(r,{code:K.invalid_type,expected:le.promise,received:r.parsedType}),_e;const n=r.parsedType===le.promise?r.data:Promise.resolve(r.data);return xt(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Zn.create=(e,t)=>new Zn({type:e,typeName:ve.ZodPromise,...ke(t)});class Xt extends Ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),o=this._def.effect||null,a={addIssue:l=>{se(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const l=o.transform(n.data,a);if(n.common.async)return Promise.resolve(l).then(async i=>{if(r.value==="aborted")return _e;const c=await this._def.schema._parseAsync({data:i,path:n.path,parent:n});return c.status==="aborted"?_e:c.status==="dirty"||r.value==="dirty"?In(c.value):c});{if(r.value==="aborted")return _e;const i=this._def.schema._parseSync({data:l,path:n.path,parent:n});return i.status==="aborted"?_e:i.status==="dirty"||r.value==="dirty"?In(i.value):i}}if(o.type==="refinement"){const l=i=>{const c=o.refinement(i,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?_e:(i.status==="dirty"&&r.dirty(),l(i.value),{status:r.value,value:i.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>i.status==="aborted"?_e:(i.status==="dirty"&&r.dirty(),l(i.value).then(()=>({status:r.value,value:i.value}))))}if(o.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!xn(l))return l;const i=o.transform(l.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:i}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>xn(l)?Promise.resolve(o.transform(l.value,a)).then(i=>({status:r.value,value:i})):l);De.assertNever(o)}}Xt.create=(e,t,r)=>new Xt({schema:e,typeName:ve.ZodEffects,effect:t,...ke(r)});Xt.createWithPreprocess=(e,t,r)=>new Xt({schema:t,effect:{type:"preprocess",transform:e},typeName:ve.ZodEffects,...ke(r)});class ir extends Ie{_parse(t){return this._getType(t)===le.undefined?xt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ir.create=(e,t)=>new ir({innerType:e,typeName:ve.ZodOptional,...ke(t)});class Zr extends Ie{_parse(t){return this._getType(t)===le.null?xt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Zr.create=(e,t)=>new Zr({innerType:e,typeName:ve.ZodNullable,...ke(t)});class Us extends Ie{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===le.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Us.create=(e,t)=>new Us({innerType:e,typeName:ve.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ke(t)});class Vs extends Ie{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Rs(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new kt(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new kt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Vs.create=(e,t)=>new Vs({innerType:e,typeName:ve.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ke(t)});class la extends Ie{_parse(t){if(this._getType(t)!==le.nan){const n=this._getOrReturnCtx(t);return se(n,{code:K.invalid_type,expected:le.nan,received:n.parsedType}),_e}return{status:"valid",value:t.data}}}la.create=e=>new la({typeName:ve.ZodNaN,...ke(e)});const JS=Symbol("zod_brand");class wc extends Ie{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ro extends Ie{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?_e:a.status==="dirty"?(r.dirty(),In(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?_e:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(t,r){return new ro({in:t,out:r,typeName:ve.ZodPipeline})}}class Ws extends Ie{_parse(t){const r=this._def.innerType._parse(t),n=o=>(xn(o)&&(o.value=Object.freeze(o.value)),o);return Rs(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}}Ws.create=(e,t)=>new Ws({innerType:e,typeName:ve.ZodReadonly,...ke(t)});function pu(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function Up(e,t={},r){return e?Gn.create().superRefine((n,o)=>{var a,l;const i=e(n);if(i instanceof Promise)return i.then(c=>{var d,u;if(!c){const f=pu(t,n),g=(u=(d=f.fatal)!==null&&d!==void 0?d:r)!==null&&u!==void 0?u:!0;o.addIssue({code:"custom",...f,fatal:g})}});if(!i){const c=pu(t,n),d=(l=(a=c.fatal)!==null&&a!==void 0?a:r)!==null&&l!==void 0?l:!0;o.addIssue({code:"custom",...c,fatal:d})}}):Gn.create()}const eE={object:Ke.lazycreate};var ve;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ve||(ve={}));const tE=(e,t={message:`Input not instance of ${e.name}`})=>Up(r=>r instanceof e,t),Vp=Ht.create,Wp=qr.create,rE=la.create,nE=Yr.create,zp=Ps.create,sE=vn.create,oE=oa.create,aE=Is.create,iE=Ms.create,lE=Gn.create,cE=ln.create,dE=Tr.create,uE=aa.create,fE=Yt.create,mE=Ke.create,hE=Ke.strictCreate,pE=Ds.create,gE=Ha.create,xE=Os.create,vE=fr.create,yE=Ls.create,wE=ia.create,bE=yn.create,_E=$n.create,NE=Fs.create,jE=$s.create,SE=Gr.create,EE=Bs.create,CE=Zn.create,gu=Xt.create,AE=ir.create,kE=Zr.create,TE=Xt.createWithPreprocess,RE=ro.create,PE=()=>Vp().optional(),IE=()=>Wp().optional(),ME=()=>zp().optional(),DE={string:e=>Ht.create({...e,coerce:!0}),number:e=>qr.create({...e,coerce:!0}),boolean:e=>Ps.create({...e,coerce:!0}),bigint:e=>Yr.create({...e,coerce:!0}),date:e=>vn.create({...e,coerce:!0})},OE=_e;var Br=Object.freeze({__proto__:null,defaultErrorMap:Yn,setErrorMap:TS,getErrorMap:ra,makeIssue:na,EMPTY_PATH:RS,addIssueToContext:se,ParseStatus:ft,INVALID:_e,DIRTY:In,OK:xt,isAborted:kl,isDirty:Tl,isValid:xn,isAsync:Rs,get util(){return De},get objectUtil(){return Al},ZodParsedType:le,getParsedType:_r,ZodType:Ie,datetimeRegex:$p,ZodString:Ht,ZodNumber:qr,ZodBigInt:Yr,ZodBoolean:Ps,ZodDate:vn,ZodSymbol:oa,ZodUndefined:Is,ZodNull:Ms,ZodAny:Gn,ZodUnknown:ln,ZodNever:Tr,ZodVoid:aa,ZodArray:Yt,ZodObject:Ke,ZodUnion:Ds,ZodDiscriminatedUnion:Ha,ZodIntersection:Os,ZodTuple:fr,ZodRecord:Ls,ZodMap:ia,ZodSet:yn,ZodFunction:$n,ZodLazy:Fs,ZodLiteral:$s,ZodEnum:Gr,ZodNativeEnum:Bs,ZodPromise:Zn,ZodEffects:Xt,ZodTransformer:Xt,ZodOptional:ir,ZodNullable:Zr,ZodDefault:Us,ZodCatch:Vs,ZodNaN:la,BRAND:JS,ZodBranded:wc,ZodPipeline:ro,ZodReadonly:Ws,custom:Up,Schema:Ie,ZodSchema:Ie,late:eE,get ZodFirstPartyTypeKind(){return ve},coerce:DE,any:lE,array:fE,bigint:nE,boolean:zp,date:sE,discriminatedUnion:gE,effect:gu,enum:SE,function:_E,instanceof:tE,intersection:xE,lazy:NE,literal:jE,map:wE,nan:rE,nativeEnum:EE,never:dE,null:iE,nullable:kE,number:Wp,object:mE,oboolean:ME,onumber:IE,optional:AE,ostring:PE,pipeline:RE,preprocess:TE,promise:CE,record:yE,set:bE,strictObject:hE,string:Vp,symbol:oE,transformer:gu,tuple:vE,undefined:aE,union:pE,unknown:cE,void:uE,NEVER:OE,ZodIssueCode:K,quotelessJson:kS,ZodError:kt}),no=e=>e.type==="checkbox",an=e=>e instanceof Date,gt=e=>e==null;const Hp=e=>typeof e=="object";var tt=e=>!gt(e)&&!Array.isArray(e)&&Hp(e)&&!an(e),qp=e=>tt(e)&&e.target?no(e.target)?e.target.checked:e.target.value:e,LE=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Yp=(e,t)=>e.has(LE(t)),FE=e=>{const t=e.constructor&&e.constructor.prototype;return tt(t)&&t.hasOwnProperty("isPrototypeOf")},bc=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ct(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(bc&&(e instanceof Blob||n))&&(r||tt(e)))if(t=r?[]:{},!r&&!FE(e))t=e;else for(const o in e)e.hasOwnProperty(o)&&(t[o]=ct(e[o]));else return e;return t}var qa=e=>Array.isArray(e)?e.filter(Boolean):[],Qe=e=>e===void 0,ne=(e,t,r)=>{if(!t||!tt(e))return r;const n=qa(t.split(/[,[\].]+?/)).reduce((o,a)=>gt(o)?o:o[a],e);return Qe(n)||n===e?Qe(e[t])?r:e[t]:n},Et=e=>typeof e=="boolean",_c=e=>/^\w*$/.test(e),Gp=e=>qa(e.replace(/["|']|\]/g,"").split(/\.|\[/)),$e=(e,t,r)=>{let n=-1;const o=_c(t)?[t]:Gp(t),a=o.length,l=a-1;for(;++n<a;){const i=o[n];let c=r;if(n!==l){const d=e[i];c=tt(d)||Array.isArray(d)?d:isNaN(+o[n+1])?{}:[]}if(i==="__proto__"||i==="constructor"||i==="prototype")return;e[i]=c,e=e[i]}};const ca={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Wt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Zp=H.createContext(null),Ya=()=>H.useContext(Zp),$E=e=>{const{children:t,...r}=e;return H.createElement(Zp.Provider,{value:r},t)};var Kp=(e,t,r,n=!0)=>{const o={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(o,a,{get:()=>{const l=a;return t._proxyFormState[l]!==Wt.all&&(t._proxyFormState[l]=!n||Wt.all),r&&(r[l]=!0),e[l]}});return o},Pl=e=>gt(e)||!Hp(e);function Nr(e,t){if(Pl(e)||Pl(t))return e===t;if(an(e)&&an(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const o of r){const a=e[o];if(!n.includes(o))return!1;if(o!=="ref"){const l=t[o];if(an(a)&&an(l)||tt(a)&&tt(l)||Array.isArray(a)&&Array.isArray(l)?!Nr(a,l):a!==l)return!1}}return!0}const Xp=(e,t)=>{const r=m.useRef(t);Nr(t,r.current)||(r.current=t),m.useEffect(e,r.current)};function BE(e){const t=Ya(),{control:r=t.control,disabled:n,name:o,exact:a}=e||{},[l,i]=H.useState(r._formState),c=H.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Xp(()=>r._subscribe({name:o,formState:c.current,exact:a,callback:d=>{!n&&i({...r._formState,...d})}}),[o,n,a]),H.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),H.useMemo(()=>Kp(l,r,c.current,!1),[l,r])}var or=e=>typeof e=="string",Qp=(e,t,r,n,o)=>or(e)?(n&&t.watch.add(e),ne(r,e,o)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),ne(r,a))):(n&&(t.watchAll=!0),r);function UE(e){const t=Ya(),{control:r=t.control,name:n,defaultValue:o,disabled:a,exact:l}=e||{},[i,c]=H.useState(r._getWatch(n,o));return Xp(()=>r._subscribe({name:n,formState:{values:!0},exact:l,callback:d=>!a&&c(Qp(n,r._names,d.values||r._formValues,!1,o))}),[n,o,a,l]),H.useEffect(()=>r._removeUnmounted()),i}function VE(e){const t=Ya(),{name:r,disabled:n,control:o=t.control,shouldUnregister:a}=e,l=Yp(o._names.array,r),i=UE({control:o,name:r,defaultValue:ne(o._formValues,r,ne(o._defaultValues,r,e.defaultValue)),exact:!0}),c=BE({control:o,name:r,exact:!0}),d=H.useRef(e),u=H.useRef(o.register(r,{...e.rules,value:i,...Et(e.disabled)?{disabled:e.disabled}:{}})),f=H.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ne(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!ne(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ne(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ne(c.validatingFields,r)},error:{enumerable:!0,get:()=>ne(c.errors,r)}}),[c,r]),g=H.useCallback(y=>u.current.onChange({target:{value:qp(y),name:r},type:ca.CHANGE}),[r]),p=H.useCallback(()=>u.current.onBlur({target:{value:ne(o._formValues,r),name:r},type:ca.BLUR}),[r,o._formValues]),w=H.useCallback(y=>{const N=ne(o._fields,r);N&&y&&(N._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:_=>y.setCustomValidity(_),reportValidity:()=>y.reportValidity()})},[o._fields,r]),v=H.useMemo(()=>({name:r,value:i,...Et(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:g,onBlur:p,ref:w}),[r,n,c.disabled,g,p,w,i]);return H.useEffect(()=>{const y=o._options.shouldUnregister||a;o.register(r,{...d.current.rules,...Et(d.current.disabled)?{disabled:d.current.disabled}:{}});const N=(_,j)=>{const S=ne(o._fields,_);S&&S._f&&(S._f.mount=j)};if(N(r,!0),y){const _=ct(ne(o._options.defaultValues,r));$e(o._defaultValues,r,_),Qe(ne(o._formValues,r))&&$e(o._formValues,r,_)}return!l&&o.register(r),()=>{(l?y&&!o._state.action:y)?o.unregister(r):N(r,!1)}},[r,o,l,a]),H.useEffect(()=>{o._setDisabledField({disabled:n,name:r})},[n,r,o]),H.useMemo(()=>({field:v,formState:c,fieldState:f}),[v,c,f])}const WE=e=>e.render(VE(e));var Jp=(e,t,r,n,o)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:o||!0}}:{},ws=e=>Array.isArray(e)?e:[e],xu=()=>{let e=[];return{get observers(){return e},next:o=>{for(const a of e)a.next&&a.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(a=>a!==o)}}),unsubscribe:()=>{e=[]}}},ht=e=>tt(e)&&!Object.keys(e).length,Nc=e=>e.type==="file",zt=e=>typeof e=="function",da=e=>{if(!bc)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},eg=e=>e.type==="select-multiple",jc=e=>e.type==="radio",zE=e=>jc(e)||no(e),Zi=e=>da(e)&&e.isConnected;function HE(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Qe(e)?n++:e[t[n++]];return e}function qE(e){for(const t in e)if(e.hasOwnProperty(t)&&!Qe(e[t]))return!1;return!0}function st(e,t){const r=Array.isArray(t)?t:_c(t)?[t]:Gp(t),n=r.length===1?e:HE(e,r),o=r.length-1,a=r[o];return n&&delete n[a],o!==0&&(tt(n)&&ht(n)||Array.isArray(n)&&qE(n))&&st(e,r.slice(0,-1)),e}var tg=e=>{for(const t in e)if(zt(e[t]))return!0;return!1};function ua(e,t={}){const r=Array.isArray(e);if(tt(e)||r)for(const n in e)Array.isArray(e[n])||tt(e[n])&&!tg(e[n])?(t[n]=Array.isArray(e[n])?[]:{},ua(e[n],t[n])):gt(e[n])||(t[n]=!0);return t}function rg(e,t,r){const n=Array.isArray(e);if(tt(e)||n)for(const o in e)Array.isArray(e[o])||tt(e[o])&&!tg(e[o])?Qe(t)||Pl(r[o])?r[o]=Array.isArray(e[o])?ua(e[o],[]):{...ua(e[o])}:rg(e[o],gt(t)?{}:t[o],r[o]):r[o]=!Nr(e[o],t[o]);return r}var us=(e,t)=>rg(e,t,ua(t));const vu={value:!1,isValid:!1},yu={value:!0,isValid:!0};var ng=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Qe(e[0].attributes.value)?Qe(e[0].value)||e[0].value===""?yu:{value:e[0].value,isValid:!0}:yu:vu}return vu},sg=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Qe(e)?e:t?e===""?NaN:e&&+e:r&&or(e)?new Date(e):n?n(e):e;const wu={isValid:!1,value:null};var og=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,wu):wu;function bu(e){const t=e.ref;return Nc(t)?t.files:jc(t)?og(e.refs).value:eg(t)?[...t.selectedOptions].map(({value:r})=>r):no(t)?ng(e.refs).value:sg(Qe(t.value)?e.ref.value:t.value,e)}var YE=(e,t,r,n)=>{const o={};for(const a of e){const l=ne(t,a);l&&$e(o,a,l._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:n}},fa=e=>e instanceof RegExp,fs=e=>Qe(e)?e:fa(e)?e.source:tt(e)?fa(e.value)?e.value.source:e.value:e,_u=e=>({isOnSubmit:!e||e===Wt.onSubmit,isOnBlur:e===Wt.onBlur,isOnChange:e===Wt.onChange,isOnAll:e===Wt.all,isOnTouch:e===Wt.onTouched});const Nu="AsyncFunction";var GE=e=>!!e&&!!e.validate&&!!(zt(e.validate)&&e.validate.constructor.name===Nu||tt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Nu)),ZE=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ju=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const bs=(e,t,r,n)=>{for(const o of r||Object.keys(e)){const a=ne(e,o);if(a){const{_f:l,...i}=a;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],o)&&!n)return!0;if(l.ref&&t(l.ref,l.name)&&!n)return!0;if(bs(i,t))break}else if(tt(i)&&bs(i,t))break}}};function Su(e,t,r){const n=ne(e,r);if(n||_c(r))return{error:n,name:r};const o=r.split(".");for(;o.length;){const a=o.join("."),l=ne(t,a),i=ne(e,a);if(l&&!Array.isArray(l)&&r!==a)return{name:r};if(i&&i.type)return{name:a,error:i};o.pop()}return{name:r}}var KE=(e,t,r,n)=>{r(e);const{name:o,...a}=e;return ht(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(l=>t[l]===(!n||Wt.all))},XE=(e,t,r)=>!e||!t||e===t||ws(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),QE=(e,t,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(t||e):(r?n.isOnBlur:o.isOnBlur)?!e:(r?n.isOnChange:o.isOnChange)?e:!0,JE=(e,t)=>!qa(ne(e,t)).length&&st(e,t),eC=(e,t,r)=>{const n=ws(ne(e,r));return $e(n,"root",t[r]),$e(e,r,n),e},Uo=e=>or(e);function Eu(e,t,r="validate"){if(Uo(e)||Array.isArray(e)&&e.every(Uo)||Et(e)&&!e)return{type:r,message:Uo(e)?e:"",ref:t}}var Cn=e=>tt(e)&&!fa(e)?e:{value:e,message:""},Cu=async(e,t,r,n,o,a)=>{const{ref:l,refs:i,required:c,maxLength:d,minLength:u,min:f,max:g,pattern:p,validate:w,name:v,valueAsNumber:y,mount:N}=e._f,_=ne(r,v);if(!N||t.has(v))return{};const j=i?i[0]:l,S=V=>{o&&j.reportValidity&&(j.setCustomValidity(Et(V)?"":V||""),j.reportValidity())},E={},D=jc(l),I=no(l),B=D||I,$=(y||Nc(l))&&Qe(l.value)&&Qe(_)||da(l)&&l.value===""||_===""||Array.isArray(_)&&!_.length,q=Jp.bind(null,v,n,E),Z=(V,Y,L,M=yr.maxLength,T=yr.minLength)=>{const A=V?Y:L;E[v]={type:V?M:T,message:A,ref:l,...q(V?M:T,A)}};if(a?!Array.isArray(_)||!_.length:c&&(!B&&($||gt(_))||Et(_)&&!_||I&&!ng(i).isValid||D&&!og(i).isValid)){const{value:V,message:Y}=Uo(c)?{value:!!c,message:c}:Cn(c);if(V&&(E[v]={type:yr.required,message:Y,ref:j,...q(yr.required,Y)},!n))return S(Y),E}if(!$&&(!gt(f)||!gt(g))){let V,Y;const L=Cn(g),M=Cn(f);if(!gt(_)&&!isNaN(_)){const T=l.valueAsNumber||_&&+_;gt(L.value)||(V=T>L.value),gt(M.value)||(Y=T<M.value)}else{const T=l.valueAsDate||new Date(_),A=G=>new Date(new Date().toDateString()+" "+G),P=l.type=="time",O=l.type=="week";or(L.value)&&_&&(V=P?A(_)>A(L.value):O?_>L.value:T>new Date(L.value)),or(M.value)&&_&&(Y=P?A(_)<A(M.value):O?_<M.value:T<new Date(M.value))}if((V||Y)&&(Z(!!V,L.message,M.message,yr.max,yr.min),!n))return S(E[v].message),E}if((d||u)&&!$&&(or(_)||a&&Array.isArray(_))){const V=Cn(d),Y=Cn(u),L=!gt(V.value)&&_.length>+V.value,M=!gt(Y.value)&&_.length<+Y.value;if((L||M)&&(Z(L,V.message,Y.message),!n))return S(E[v].message),E}if(p&&!$&&or(_)){const{value:V,message:Y}=Cn(p);if(fa(V)&&!_.match(V)&&(E[v]={type:yr.pattern,message:Y,ref:l,...q(yr.pattern,Y)},!n))return S(Y),E}if(w){if(zt(w)){const V=await w(_,r),Y=Eu(V,j);if(Y&&(E[v]={...Y,...q(yr.validate,Y.message)},!n))return S(Y.message),E}else if(tt(w)){let V={};for(const Y in w){if(!ht(V)&&!n)break;const L=Eu(await w[Y](_,r),j,Y);L&&(V={...L,...q(Y,L.message)},S(L.message),n&&(E[v]=V))}if(!ht(V)&&(E[v]={ref:j,...V},!n))return E}}return S(!0),E};const tC={mode:Wt.onSubmit,reValidateMode:Wt.onChange,shouldFocusError:!0};function rC(e={}){let t={...tC,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:zt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let o=tt(t.defaultValues)||tt(t.values)?ct(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:ct(o),l={action:!1,mount:!1,watch:!1},i={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const g={array:xu(),state:xu()},p=_u(t.mode),w=_u(t.reValidateMode),v=t.criteriaMode===Wt.all,y=k=>F=>{clearTimeout(d),d=setTimeout(k,F)},N=async k=>{if(!t.disabled&&(u.isValid||f.isValid||k)){const F=t.resolver?ht((await $()).errors):await Z(n,!0);F!==r.isValid&&g.state.next({isValid:F})}},_=(k,F)=>{!t.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((k||Array.from(i.mount)).forEach(W=>{W&&(F?$e(r.validatingFields,W,F):st(r.validatingFields,W))}),g.state.next({validatingFields:r.validatingFields,isValidating:!ht(r.validatingFields)}))},j=(k,F=[],W,te,J=!0,b=!0)=>{if(te&&W&&!t.disabled){if(l.action=!0,b&&Array.isArray(ne(n,k))){const h=W(ne(n,k),te.argA,te.argB);J&&$e(n,k,h)}if(b&&Array.isArray(ne(r.errors,k))){const h=W(ne(r.errors,k),te.argA,te.argB);J&&$e(r.errors,k,h),JE(r.errors,k)}if((u.touchedFields||f.touchedFields)&&b&&Array.isArray(ne(r.touchedFields,k))){const h=W(ne(r.touchedFields,k),te.argA,te.argB);J&&$e(r.touchedFields,k,h)}(u.dirtyFields||f.dirtyFields)&&(r.dirtyFields=us(o,a)),g.state.next({name:k,isDirty:Y(k,F),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else $e(a,k,F)},S=(k,F)=>{$e(r.errors,k,F),g.state.next({errors:r.errors})},E=k=>{r.errors=k,g.state.next({errors:r.errors,isValid:!1})},D=(k,F,W,te)=>{const J=ne(n,k);if(J){const b=ne(a,k,Qe(W)?ne(o,k):W);Qe(b)||te&&te.defaultChecked||F?$e(a,k,F?b:bu(J._f)):T(k,b),l.mount&&N()}},I=(k,F,W,te,J)=>{let b=!1,h=!1;const x={name:k};if(!t.disabled){if(!W||te){(u.isDirty||f.isDirty)&&(h=r.isDirty,r.isDirty=x.isDirty=Y(),b=h!==x.isDirty);const C=Nr(ne(o,k),F);h=!!ne(r.dirtyFields,k),C?st(r.dirtyFields,k):$e(r.dirtyFields,k,!0),x.dirtyFields=r.dirtyFields,b=b||(u.dirtyFields||f.dirtyFields)&&h!==!C}if(W){const C=ne(r.touchedFields,k);C||($e(r.touchedFields,k,W),x.touchedFields=r.touchedFields,b=b||(u.touchedFields||f.touchedFields)&&C!==W)}b&&J&&g.state.next(x)}return b?x:{}},B=(k,F,W,te)=>{const J=ne(r.errors,k),b=(u.isValid||f.isValid)&&Et(F)&&r.isValid!==F;if(t.delayError&&W?(c=y(()=>S(k,W)),c(t.delayError)):(clearTimeout(d),c=null,W?$e(r.errors,k,W):st(r.errors,k)),(W?!Nr(J,W):J)||!ht(te)||b){const h={...te,...b&&Et(F)?{isValid:F}:{},errors:r.errors,name:k};r={...r,...h},g.state.next(h)}},$=async k=>{_(k,!0);const F=await t.resolver(a,t.context,YE(k||i.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return _(k),F},q=async k=>{const{errors:F}=await $(k);if(k)for(const W of k){const te=ne(F,W);te?$e(r.errors,W,te):st(r.errors,W)}else r.errors=F;return F},Z=async(k,F,W={valid:!0})=>{for(const te in k){const J=k[te];if(J){const{_f:b,...h}=J;if(b){const x=i.array.has(b.name),C=J._f&&GE(J._f);C&&u.validatingFields&&_([te],!0);const R=await Cu(J,i.disabled,a,v,t.shouldUseNativeValidation&&!F,x);if(C&&u.validatingFields&&_([te]),R[b.name]&&(W.valid=!1,F))break;!F&&(ne(R,b.name)?x?eC(r.errors,R,b.name):$e(r.errors,b.name,R[b.name]):st(r.errors,b.name))}!ht(h)&&await Z(h,F,W)}}return W.valid},V=()=>{for(const k of i.unMount){const F=ne(n,k);F&&(F._f.refs?F._f.refs.every(W=>!Zi(W)):!Zi(F._f.ref))&&ge(k)}i.unMount=new Set},Y=(k,F)=>!t.disabled&&(k&&F&&$e(a,k,F),!Nr(ee(),o)),L=(k,F,W)=>Qp(k,i,{...l.mount?a:Qe(F)?o:or(k)?{[k]:F}:F},W,F),M=k=>qa(ne(l.mount?a:o,k,t.shouldUnregister?ne(o,k,[]):[])),T=(k,F,W={})=>{const te=ne(n,k);let J=F;if(te){const b=te._f;b&&(!b.disabled&&$e(a,k,sg(F,b)),J=da(b.ref)&&gt(F)?"":F,eg(b.ref)?[...b.ref.options].forEach(h=>h.selected=J.includes(h.value)):b.refs?no(b.ref)?b.refs.length>1?b.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(J)?!!J.find(x=>x===h.value):J===h.value)):b.refs[0]&&(b.refs[0].checked=!!J):b.refs.forEach(h=>h.checked=h.value===J):Nc(b.ref)?b.ref.value="":(b.ref.value=J,b.ref.type||g.state.next({name:k,values:ct(a)})))}(W.shouldDirty||W.shouldTouch)&&I(k,J,W.shouldTouch,W.shouldDirty,!0),W.shouldValidate&&X(k)},A=(k,F,W)=>{for(const te in F){const J=F[te],b=`${k}.${te}`,h=ne(n,b);(i.array.has(k)||tt(J)||h&&!h._f)&&!an(J)?A(b,J,W):T(b,J,W)}},P=(k,F,W={})=>{const te=ne(n,k),J=i.array.has(k),b=ct(F);$e(a,k,b),J?(g.array.next({name:k,values:ct(a)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&W.shouldDirty&&g.state.next({name:k,dirtyFields:us(o,a),isDirty:Y(k,b)})):te&&!te._f&&!gt(b)?A(k,b,W):T(k,b,W),ju(k,i)&&g.state.next({...r}),g.state.next({name:l.mount?k:void 0,values:ct(a)})},O=async k=>{l.mount=!0;const F=k.target;let W=F.name,te=!0;const J=ne(n,W),b=h=>{te=Number.isNaN(h)||an(h)&&isNaN(h.getTime())||Nr(h,ne(a,W,h))};if(J){let h,x;const C=F.type?bu(J._f):qp(k),R=k.type===ca.BLUR||k.type===ca.FOCUS_OUT,U=!ZE(J._f)&&!t.resolver&&!ne(r.errors,W)&&!J._f.deps||QE(R,ne(r.touchedFields,W),r.isSubmitted,w,p),z=ju(W,i,R);$e(a,W,C),R?(J._f.onBlur&&J._f.onBlur(k),c&&c(0)):J._f.onChange&&J._f.onChange(k);const we=I(W,C,R),Ve=!ht(we)||z;if(!R&&g.state.next({name:W,type:k.type,values:ct(a)}),U)return(u.isValid||f.isValid)&&(t.mode==="onBlur"?R&&N():R||N()),Ve&&g.state.next({name:W,...z?{}:we});if(!R&&z&&g.state.next({...r}),t.resolver){const{errors:Me}=await $([W]);if(b(C),te){const He=Su(r.errors,n,W),Fe=Su(Me,n,He.name||W);h=Fe.error,W=Fe.name,x=ht(Me)}}else _([W],!0),h=(await Cu(J,i.disabled,a,v,t.shouldUseNativeValidation))[W],_([W]),b(C),te&&(h?x=!1:(u.isValid||f.isValid)&&(x=await Z(n,!0)));te&&(J._f.deps&&X(J._f.deps),B(W,x,h,we))}},G=(k,F)=>{if(ne(r.errors,F)&&k.focus)return k.focus(),1},X=async(k,F={})=>{let W,te;const J=ws(k);if(t.resolver){const b=await q(Qe(k)?k:J);W=ht(b),te=k?!J.some(h=>ne(b,h)):W}else k?(te=(await Promise.all(J.map(async b=>{const h=ne(n,b);return await Z(h&&h._f?{[b]:h}:h)}))).every(Boolean),!(!te&&!r.isValid)&&N()):te=W=await Z(n);return g.state.next({...!or(k)||(u.isValid||f.isValid)&&W!==r.isValid?{}:{name:k},...t.resolver||!k?{isValid:W}:{},errors:r.errors}),F.shouldFocus&&!te&&bs(n,G,k?J:i.mount),te},ee=k=>{const F={...l.mount?a:o};return Qe(k)?F:or(k)?ne(F,k):k.map(W=>ne(F,W))},ce=(k,F)=>({invalid:!!ne((F||r).errors,k),isDirty:!!ne((F||r).dirtyFields,k),error:ne((F||r).errors,k),isValidating:!!ne(r.validatingFields,k),isTouched:!!ne((F||r).touchedFields,k)}),oe=k=>{k&&ws(k).forEach(F=>st(r.errors,F)),g.state.next({errors:k?r.errors:{}})},Te=(k,F,W)=>{const te=(ne(n,k,{_f:{}})._f||{}).ref,J=ne(r.errors,k)||{},{ref:b,message:h,type:x,...C}=J;$e(r.errors,k,{...C,...F,ref:te}),g.state.next({name:k,errors:r.errors,isValid:!1}),W&&W.shouldFocus&&te&&te.focus&&te.focus()},he=(k,F)=>zt(k)?g.state.subscribe({next:W=>k(L(void 0,F),W)}):L(k,F,!0),Q=k=>g.state.subscribe({next:F=>{XE(k.name,F.name,k.exact)&&KE(F,k.formState||u,St,k.reRenderRoot)&&k.callback({values:{...a},...r,...F})}}).unsubscribe,ue=k=>(l.mount=!0,f={...f,...k.formState},Q({...k,formState:f})),ge=(k,F={})=>{for(const W of k?ws(k):i.mount)i.mount.delete(W),i.array.delete(W),F.keepValue||(st(n,W),st(a,W)),!F.keepError&&st(r.errors,W),!F.keepDirty&&st(r.dirtyFields,W),!F.keepTouched&&st(r.touchedFields,W),!F.keepIsValidating&&st(r.validatingFields,W),!t.shouldUnregister&&!F.keepDefaultValue&&st(o,W);g.state.next({values:ct(a)}),g.state.next({...r,...F.keepDirty?{isDirty:Y()}:{}}),!F.keepIsValid&&N()},Ne=({disabled:k,name:F})=>{(Et(k)&&l.mount||k||i.disabled.has(F))&&(k?i.disabled.add(F):i.disabled.delete(F))},de=(k,F={})=>{let W=ne(n,k);const te=Et(F.disabled)||Et(t.disabled);return $e(n,k,{...W||{},_f:{...W&&W._f?W._f:{ref:{name:k}},name:k,mount:!0,...F}}),i.mount.add(k),W?Ne({disabled:Et(F.disabled)?F.disabled:t.disabled,name:k}):D(k,!0,F.value),{...te?{disabled:F.disabled||t.disabled}:{},...t.progressive?{required:!!F.required,min:fs(F.min),max:fs(F.max),minLength:fs(F.minLength),maxLength:fs(F.maxLength),pattern:fs(F.pattern)}:{},name:k,onChange:O,onBlur:O,ref:J=>{if(J){de(k,F),W=ne(n,k);const b=Qe(J.value)&&J.querySelectorAll&&J.querySelectorAll("input,select,textarea")[0]||J,h=zE(b),x=W._f.refs||[];if(h?x.find(C=>C===b):b===W._f.ref)return;$e(n,k,{_f:{...W._f,...h?{refs:[...x.filter(Zi),b,...Array.isArray(ne(o,k))?[{}]:[]],ref:{type:b.type,name:k}}:{ref:b}}}),D(k,!1,void 0,b)}else W=ne(n,k,{}),W._f&&(W._f.mount=!1),(t.shouldUnregister||F.shouldUnregister)&&!(Yp(i.array,k)&&l.action)&&i.unMount.add(k)}}},xe=()=>t.shouldFocusError&&bs(n,G,i.mount),Re=k=>{Et(k)&&(g.state.next({disabled:k}),bs(n,(F,W)=>{const te=ne(n,W);te&&(F.disabled=te._f.disabled||k,Array.isArray(te._f.refs)&&te._f.refs.forEach(J=>{J.disabled=te._f.disabled||k}))},0,!1))},ze=(k,F)=>async W=>{let te;W&&(W.preventDefault&&W.preventDefault(),W.persist&&W.persist());let J=ct(a);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:b,values:h}=await $();r.errors=b,J=h}else await Z(n);if(i.disabled.size)for(const b of i.disabled)$e(J,b,void 0);if(st(r.errors,"root"),ht(r.errors)){g.state.next({errors:{}});try{await k(J,W)}catch(b){te=b}}else F&&await F({...r.errors},W),xe(),setTimeout(xe);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ht(r.errors)&&!te,submitCount:r.submitCount+1,errors:r.errors}),te)throw te},lt=(k,F={})=>{ne(n,k)&&(Qe(F.defaultValue)?P(k,ct(ne(o,k))):(P(k,F.defaultValue),$e(o,k,ct(F.defaultValue))),F.keepTouched||st(r.touchedFields,k),F.keepDirty||(st(r.dirtyFields,k),r.isDirty=F.defaultValue?Y(k,ct(ne(o,k))):Y()),F.keepError||(st(r.errors,k),u.isValid&&N()),g.state.next({...r}))},Le=(k,F={})=>{const W=k?ct(k):o,te=ct(W),J=ht(k),b=J?o:te;if(F.keepDefaultValues||(o=W),!F.keepValues){if(F.keepDirtyValues){const h=new Set([...i.mount,...Object.keys(us(o,a))]);for(const x of Array.from(h))ne(r.dirtyFields,x)?$e(b,x,ne(a,x)):P(x,ne(b,x))}else{if(bc&&Qe(k))for(const h of i.mount){const x=ne(n,h);if(x&&x._f){const C=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(da(C)){const R=C.closest("form");if(R){R.reset();break}}}}for(const h of i.mount)P(h,ne(b,h))}a=ct(b),g.array.next({values:{...b}}),g.state.next({values:{...b}})}i={mount:F.keepDirtyValues?i.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!F.keepIsValid||!!F.keepDirtyValues,l.watch=!!t.shouldUnregister,g.state.next({submitCount:F.keepSubmitCount?r.submitCount:0,isDirty:J?!1:F.keepDirty?r.isDirty:!!(F.keepDefaultValues&&!Nr(k,o)),isSubmitted:F.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:J?{}:F.keepDirtyValues?F.keepDefaultValues&&a?us(o,a):r.dirtyFields:F.keepDefaultValues&&k?us(o,k):F.keepDirty?r.dirtyFields:{},touchedFields:F.keepTouched?r.touchedFields:{},errors:F.keepErrors?r.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Xe=(k,F)=>Le(zt(k)?k(a):k,F),Rt=(k,F={})=>{const W=ne(n,k),te=W&&W._f;if(te){const J=te.refs?te.refs[0]:te.ref;J.focus&&(J.focus(),F.shouldSelect&&zt(J.select)&&J.select())}},St=k=>{r={...r,...k}},mt={control:{register:de,unregister:ge,getFieldState:ce,handleSubmit:ze,setError:Te,_subscribe:Q,_runSchema:$,_getWatch:L,_getDirty:Y,_setValid:N,_setFieldArray:j,_setDisabledField:Ne,_setErrors:E,_getFieldArray:M,_reset:Le,_resetDefaultValues:()=>zt(t.defaultValues)&&t.defaultValues().then(k=>{Xe(k,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:Re,_subjects:g,_proxyFormState:u,get _fields(){return n},get _formValues(){return a},get _state(){return l},set _state(k){l=k},get _defaultValues(){return o},get _names(){return i},set _names(k){i=k},get _formState(){return r},get _options(){return t},set _options(k){t={...t,...k}}},subscribe:ue,trigger:X,register:de,handleSubmit:ze,watch:he,setValue:P,getValues:ee,reset:Xe,resetField:lt,clearErrors:oe,unregister:ge,setError:Te,setFocus:Rt,getFieldState:ce};return{...mt,formControl:mt}}const nC=typeof window<"u"?H.useLayoutEffect:H.useEffect;function Au(e={}){const t=H.useRef(void 0),r=H.useRef(void 0),[n,o]=H.useState({isDirty:!1,isValidating:!1,isLoading:zt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:zt(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:rC(e),formState:n},e.formControl&&e.defaultValues&&!zt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,nC(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>o({...a._formState}),reRenderRoot:!0});return o(i=>({...i,isReady:!0})),a._formState.isReady=!0,l},[a]),H.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),H.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode),e.errors&&!ht(e.errors)&&a._setErrors(e.errors)},[a,e.errors,e.mode,e.reValidateMode]),H.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),H.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==n.isDirty&&a._subjects.state.next({isDirty:l})}},[a,n.isDirty]),H.useEffect(()=>{e.values&&!Nr(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,o(l=>({...l}))):a._resetDefaultValues()},[a,e.values]),H.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=Kp(n,a),t.current}const ku=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ne(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},ag=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?ku(n.ref,r,e):n&&n.refs&&n.refs.forEach(o=>ku(o,r,e))}},sC=(e,t)=>{t.shouldUseNativeValidation&&ag(e,t);const r={};for(const n in e){const o=ne(t.fields,n),a=Object.assign(e[n]||{},{ref:o&&o.ref});if(oC(t.names||Object.keys(e),n)){const l=Object.assign({},ne(r,n));$e(l,"root",a),$e(r,n,l)}else $e(r,n,a)}return r},oC=(e,t)=>{const r=Tu(t);return e.some(n=>Tu(n).match(`^${r}\\.\\d+`))};function Tu(e){return e.replace(/\]|\[/g,"")}function aC(e,t){for(var r={};e.length;){var n=e[0],o=n.code,a=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var i=n.unionErrors[0].errors[0];r[l]={message:i.message,type:i.code}}else r[l]={message:a,type:o};if("unionErrors"in n&&n.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var c=r[l].types,d=c&&c[n.code];r[l]=Jp(l,t,r,o,d?[].concat(d,n.message):n.message)}e.shift()}return r}function Ru(e,t,r){return r===void 0&&(r={}),function(n,o,a){try{return Promise.resolve(function(l,i){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(d){return a.shouldUseNativeValidation&&ag({},a),{errors:{},values:r.raw?Object.assign({},n):d}})}catch(d){return i(d)}return c&&c.then?c.then(void 0,i):c}(0,function(l){if(function(i){return Array.isArray(i==null?void 0:i.errors)}(l))return{values:{},errors:sC(aC(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}}}var iC="Label",ig=m.forwardRef((e,t)=>s.jsx(Ce.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ig.displayName=iC;var lg=ig;const lC=Pa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),It=m.forwardRef(({className:e,...t},r)=>s.jsx(lg,{ref:r,className:ae(lC(),e),...t}));It.displayName=lg.displayName;const Pu=$E,cg=m.createContext({}),An=({...e})=>s.jsx(cg.Provider,{value:{name:e.name},children:s.jsx(WE,{...e})}),Ga=()=>{const e=m.useContext(cg),t=m.useContext(dg),{getFieldState:r,formState:n}=Ya(),o=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...o}},dg=m.createContext({}),rn=m.forwardRef(({className:e,...t},r)=>{const n=m.useId();return s.jsx(dg.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ae("space-y-2",e),...t})})});rn.displayName="FormItem";const nn=m.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:o}=Ga();return s.jsx(It,{ref:r,className:ae(n&&"text-destructive",e),htmlFor:o,...t})});nn.displayName="FormLabel";const sn=m.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:o,formMessageId:a}=Ga();return s.jsx(Gu,{ref:t,id:n,"aria-describedby":r?`${o} ${a}`:`${o}`,"aria-invalid":!!r,...e})});sn.displayName="FormControl";const cC=m.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Ga();return s.jsx("p",{ref:r,id:n,className:ae("text-sm text-muted-foreground",e),...t})});cC.displayName="FormDescription";const on=m.forwardRef(({className:e,children:t,...r},n)=>{const{error:o,formMessageId:a}=Ga(),l=o?String((o==null?void 0:o.message)??""):t;return l?s.jsx("p",{ref:n,id:a,className:ae("text-sm font-medium text-destructive",e),...r,children:l}):null});on.displayName="FormMessage";var Za="Tabs",[dC,jk]=Jt(Za,[Oa]),ug=Oa(),[uC,Sc]=dC(Za),fg=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:a,orientation:l="horizontal",dir:i,activationMode:c="automatic",...d}=e,u=Xs(i),[f,g]=un({prop:n,onChange:o,defaultProp:a??"",caller:Za});return s.jsx(uC,{scope:r,baseId:jr(),value:f,onValueChange:g,orientation:l,dir:u,activationMode:c,children:s.jsx(Ce.div,{dir:u,"data-orientation":l,...d,ref:t})})});fg.displayName=Za;var mg="TabsList",hg=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,a=Sc(mg,r),l=ug(r);return s.jsx(Am,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(Ce.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:t})})});hg.displayName=mg;var pg="TabsTrigger",gg=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...a}=e,l=Sc(pg,r),i=ug(r),c=yg(l.baseId,n),d=wg(l.baseId,n),u=n===l.value;return s.jsx(km,{asChild:!0,...i,focusable:!o,active:u,children:s.jsx(Ce.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:c,...a,ref:t,onMouseDown:ie(e.onMouseDown,f=>{!o&&f.button===0&&f.ctrlKey===!1?l.onValueChange(n):f.preventDefault()}),onKeyDown:ie(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&l.onValueChange(n)}),onFocus:ie(e.onFocus,()=>{const f=l.activationMode!=="manual";!u&&!o&&f&&l.onValueChange(n)})})})});gg.displayName=pg;var xg="TabsContent",vg=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:a,...l}=e,i=Sc(xg,r),c=yg(i.baseId,n),d=wg(i.baseId,n),u=n===i.value,f=m.useRef(u);return m.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(Tt,{present:o||u,children:({present:g})=>s.jsx(Ce.div,{"data-state":u?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:d,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&a})})});vg.displayName=xg;function yg(e,t){return`${e}-trigger-${t}`}function wg(e,t){return`${e}-content-${t}`}var fC=fg,bg=hg,_g=gg,Ng=vg;const Ec=fC,Ka=m.forwardRef(({className:e,...t},r)=>s.jsx(bg,{ref:r,className:ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ka.displayName=bg.displayName;const Ur=m.forwardRef(({className:e,...t},r)=>s.jsx(_g,{ref:r,className:ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ur.displayName=_g.displayName;const Vr=m.forwardRef(({className:e,...t},r)=>s.jsx(Ng,{ref:r,className:ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Vr.displayName=Ng.displayName;const mC=Br.object({email:Br.string().email({message:"Please enter a valid email address"}),password:Br.string().min(6,{message:"Password must be at least 6 characters"})}),hC=Br.object({username:Br.string().min(3,{message:"Username must be at least 3 characters"}).optional(),email:Br.string().email({message:"Please enter a valid email address"}),password:Br.string().min(6,{message:"Password must be at least 6 characters"}),confirmPassword:Br.string().min(6,{message:"Password must be at least 6 characters"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),pC=()=>{var N;const[e,t]=m.useState("login"),{isAuthenticated:r,isLoading:n,loginWithEmail:o,loginWithGoogle:a,loginWithSpotify:l,signup:i}=pr();jt();const d=mr().state,u=((N=d==null?void 0:d.from)==null?void 0:N.pathname)||"/",f=Au({resolver:Ru(mC),defaultValues:{email:"",password:""}}),g=Au({resolver:Ru(hC),defaultValues:{username:"",email:"",password:"",confirmPassword:""}}),p=async _=>{await o(_.email,_.password)},w=async _=>{await i(_.email,_.password,_.username)},v=()=>{a()},y=()=>{l()};return r&&!n?s.jsx(qu,{to:u,replace:!0}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsx("main",{className:"flex-grow flex items-center justify-center px-4 py-12",children:s.jsxs(We,{className:"w-full max-w-md",children:[s.jsxs(ut,{className:"space-y-2 text-center",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 flex items-center justify-center rounded-full mb-2",children:s.jsx(dt,{className:"h-6 w-6 text-primary"})}),s.jsx(Nt,{className:"text-2xl font-bold",children:"Welcome to TheSet"}),s.jsx(kr,{children:"Sign in to vote on setlists for your favorite artists' shows"})]}),s.jsxs(Ec,{defaultValue:"login",value:e,onValueChange:_=>t(_),children:[s.jsxs(Ka,{className:"grid grid-cols-2 mx-4",children:[s.jsx(Ur,{value:"login",children:"Login"}),s.jsx(Ur,{value:"signup",children:"Sign Up"})]}),s.jsxs(qe,{className:"pt-6",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs(pe,{type:"button",variant:"outline",className:"w-full bg-white hover:bg-gray-50 border border-gray-300 text-black",onClick:v,disabled:n,children:[s.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),s.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),s.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),s.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),s.jsxs(pe,{type:"button",variant:"outline",className:"w-full bg-[#1DB954] hover:bg-[#1DB954]/90 text-white",onClick:y,disabled:n,children:[s.jsx("svg",{className:"mr-2 h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M10 0C4.477 0 0 4.477 0 10c0 5.523 4.477 10 10 10 5.523 0 10-4.477 10-10 0-5.523-4.477-10-10-10zm4.586 14.424a.622.622 0 01-.858.205c-2.346-1.435-5.304-1.76-8.786-.964a.622.622 0 01-.277-1.215c3.809-.87 7.077-.496 9.713 1.116a.623.623 0 01.208.858zm1.223-2.722a.78.78 0 01-1.072.257c-2.687-1.652-6.786-2.13-9.965-1.166a.78.78 0 01-.973-.519.781.781 0 01.519-.972c3.642-1.106 8.146-.569 11.234 1.327a.78.78 0 01.257 1.073zm.105-2.835c-3.223-1.914-8.54-2.09-11.618-1.156a.935.935 0 11-.542-1.79c3.532-1.072 9.404-.865 13.115 1.338a.936.936 0 01-.955 1.608z"})}),"Continue with Spotify"]}),s.jsxs("div",{className:"relative my-2",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-xs",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]})]}),s.jsx(Vr,{value:"login",className:"mt-4",children:s.jsx(Pu,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(p),className:"space-y-4",children:[s.jsx(An,{control:f.control,name:"email",render:({field:_})=>s.jsxs(rn,{children:[s.jsx(nn,{children:"Email"}),s.jsx(sn,{children:s.jsxs("div",{className:"relative",children:[s.jsx(md,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ot,{placeholder:"Enter your email",className:"pl-10",..._})]})}),s.jsx(on,{})]})}),s.jsx(An,{control:f.control,name:"password",render:({field:_})=>s.jsxs(rn,{children:[s.jsx(nn,{children:"Password"}),s.jsx(sn,{children:s.jsxs("div",{className:"relative",children:[s.jsx(di,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ot,{type:"password",placeholder:"Enter your password",className:"pl-10",..._})]})}),s.jsx(on,{})]})}),s.jsx(pe,{type:"submit",className:"w-full mt-2",disabled:n||f.formState.isSubmitting,children:n||f.formState.isSubmitting?s.jsxs("span",{className:"flex items-center",children:[s.jsx(Cr,{className:"mr-2 h-4 w-4 animate-spin"}),"Please wait..."]}):"Log in"})]})})}),s.jsx(Vr,{value:"signup",className:"mt-4",children:s.jsx(Pu,{...g,children:s.jsxs("form",{onSubmit:g.handleSubmit(w),className:"space-y-4",children:[s.jsx(An,{control:g.control,name:"username",render:({field:_})=>s.jsxs(rn,{children:[s.jsx(nn,{children:"Username (optional)"}),s.jsx(sn,{children:s.jsxs("div",{className:"relative",children:[s.jsx(dm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ot,{placeholder:"Choose a username",className:"pl-10",..._})]})}),s.jsx(on,{})]})}),s.jsx(An,{control:g.control,name:"email",render:({field:_})=>s.jsxs(rn,{children:[s.jsx(nn,{children:"Email"}),s.jsx(sn,{children:s.jsxs("div",{className:"relative",children:[s.jsx(md,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ot,{placeholder:"Enter your email",className:"pl-10",..._})]})}),s.jsx(on,{})]})}),s.jsx(An,{control:g.control,name:"password",render:({field:_})=>s.jsxs(rn,{children:[s.jsx(nn,{children:"Password"}),s.jsx(sn,{children:s.jsxs("div",{className:"relative",children:[s.jsx(di,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ot,{type:"password",placeholder:"Create a password",className:"pl-10",..._})]})}),s.jsx(on,{})]})}),s.jsx(An,{control:g.control,name:"confirmPassword",render:({field:_})=>s.jsxs(rn,{children:[s.jsx(nn,{children:"Confirm Password"}),s.jsx(sn,{children:s.jsxs("div",{className:"relative",children:[s.jsx(di,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(ot,{type:"password",placeholder:"Confirm your password",className:"pl-10",..._})]})}),s.jsx(on,{})]})}),s.jsx(pe,{type:"submit",className:"w-full mt-2",disabled:n||g.formState.isSubmitting,children:n||g.formState.isSubmitting?s.jsxs("span",{className:"flex items-center",children:[s.jsx(Cr,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Sign up"})]})})})]})]}),s.jsx(Ts,{className:"flex flex-col space-y-4 border-t pt-4",children:s.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})})]})}),s.jsx(et,{})]})};var gC={};class xC{static getAdminClient(){const t="https://kzjnkqeosrycfpxjwhil.supabase.co",r=gC.SUPABASE_SERVICE_ROLE_KEY||void 0;if(!r)throw new Error("Missing Supabase URL or service role key");return Hs(t,r)}static async syncEntity(t,r){try{console.log(`[SyncManager] Starting sync for ${t} ${r}`);const n=this.getAdminClient(),o=`sync-${t}`,{data:a,error:l}=await n.functions.invoke(o,{body:{[`${t}Id`]:r}});if(l)throw console.error(`[SyncManager] Error syncing ${t} ${r}:`,l),l;return console.log(`[SyncManager] Successfully synced ${t} ${r}`),a}catch(n){throw console.error("[SyncManager] Exception in syncEntity:",n),n}}static async queueBackgroundSync(t,r,n={}){try{console.log(`[SyncManager] Queueing background sync for ${t} ${r}`);const o=this.getAdminClient(),a=n.priority==="high"?10:n.priority==="low"?1:5,{data:l,error:i}=await o.from("sync_tasks").insert({entity_type:t,entity_id:r,status:"pending",priority:a,dependencies:n.dependencies||[],entity_name:n.entityName,data:n.data||{}}).select("id").single();if(i)throw console.error("[SyncManager] Error creating sync task:",i),i;return console.log(`[SyncManager] Created sync task ${l.id}`),l.id}catch(o){throw console.error("[SyncManager] Exception in queueBackgroundSync:",o),o}}static async processBackgroundTasks(t=5){try{console.log(`[SyncManager] Processing up to ${t} background tasks`);const r=this.getAdminClient(),{data:n,error:o}=await r.rpc("get_sync_tasks",{p_status:"pending",p_limit:t}).catch(l=>(console.error("[SyncManager] Error fetching tasks:",l),{error:l,data:null}));if(o)throw console.error("[SyncManager] Error fetching tasks:",o),o;if(!n||n.length===0)return console.log("[SyncManager] No pending tasks found"),0;console.log(`[SyncManager] Found ${n.length} tasks to process`);let a=0;for(const l of n)try{await r.from("sync_tasks").update({status:"processing",updated_at:new Date().toISOString()}).eq("id",l.id),await this.syncEntity(l.entity_type,l.entity_id),await r.from("sync_tasks").update({status:"completed",updated_at:new Date().toISOString(),completed_at:new Date().toISOString()}).eq("id",l.id),a++}catch(i){console.error(`[SyncManager] Error processing task ${l.id}:`,i),await r.from("sync_tasks").update({status:"failed",updated_at:new Date().toISOString(),error:i instanceof Error?i.message:String(i)}).eq("id",l.id)}return console.log(`[SyncManager] Processed ${a} tasks`),a}catch(r){throw console.error("[SyncManager] Exception in processBackgroundTasks:",r),r}}}const vC=()=>{const e=jt(),t=mr(),[r,n]=m.useState(null),[o,a]=m.useState("Completing authentication...");m.useEffect(()=>{(async()=>{try{console.log("Auth callback started");const c=new URLSearchParams(window.location.search),d=c.get("provider"),u=c.get("code");if(console.log("Provider from URL:",d),console.log("Auth code present:",u?"Yes":"No"),u){console.log("Code found, exchanging for session..."),a("Finalizing authentication...");const{data:f,error:g}=await ye.auth.exchangeCodeForSession(u);if(g)throw console.error("Error exchanging code for session:",g),g;if(f!=null&&f.session)if(console.log("Session obtained:",f.session.user.id),localStorage.setItem("user_id",f.session.user.id),d&&localStorage.setItem("auth_provider",d),re.success("Successfully signed in!"),d==="spotify"||f.session.provider_token){a("Syncing your Spotify artists...");try{await l(f.session.user.id,f.session)}catch(p){console.error("Error syncing Spotify data:",p)}a("Redirecting to your personalized dashboard..."),e("/my-artists")}else e("/");else throw console.error("No session data after code exchange"),new Error("Authentication failed. Please try again.")}else console.log("No code found in URL"),n("Authentication process was interrupted. Please try again."),setTimeout(()=>e("/auth"),2e3)}catch(c){console.error("Error during auth callback:",c);const d=c instanceof Error?c.message:"Authentication failed";n(d),re.error(d),setTimeout(()=>e("/auth"),2e3)}})()},[e,t]);const l=async(i,c)=>{console.log(`Starting Spotify data sync for user ${i}`);try{const{data:d,error:u}=await ye.functions.invoke("spotify-sync",{body:{userId:i,providerToken:c.provider_token}});if(u)throw console.error("[AuthCallback] spotify-sync error",u),new Error(u.message||"Failed to sync Spotify data");console.log("spotify-sync data:",d);const f=(d==null?void 0:d.artistIds)||[];for(const g of f)console.log(`Queueing background sync for artist ${g}`),await xC.queueBackgroundSync("artist",g);return d}catch(d){throw console.error("Error in syncSpotifyData:",d),d}};return r?s.jsxs("div",{className:"h-screen flex flex-col items-center justify-center",children:[s.jsx("div",{className:"text-destructive mb-4",children:r}),s.jsx("p",{children:"Redirecting to login page..."})]}):s.jsxs("div",{className:"h-screen flex flex-col items-center justify-center",children:[s.jsx(Cr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),s.jsx("p",{className:"text-lg",children:o}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Please wait while we set up your experience"})]})},Ki=[{id:"vote1",songName:"Anti-Hero",artistName:"Taylor Swift",showName:"The Eras Tour",date:"2023-07-15T14:30:00"},{id:"vote2",songName:"Blinding Lights",artistName:"The Weeknd",showName:"After Hours Tour",date:"2023-07-10T18:45:00"}],Xi=[{id:"artist1",name:"Taylor Swift",image:"https://i.scdn.co/image/ab6761610000e5eb5a00969a4698c3132a15fbb0"},{id:"artist2",name:"The Weeknd",image:"https://i.scdn.co/image/ab6761610000e5eb214f3cf1cbe7139c1e26ffbb"}],yC=()=>{const{user:e,profile:t,logout:r}=pr(),n=(t==null?void 0:t.username)||(t==null?void 0:t.full_name)||(e!=null&&e.email?e.email.split("@")[0]:"User"),o=(t==null?void 0:t.avatar_url)||null;return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsx("main",{className:"flex-grow px-6 md:px-8 lg:px-12 py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs(Ee,{to:"/",className:"inline-flex items-center text-muted-foreground hover:text-foreground mb-8",children:[s.jsx(ss,{size:16,className:"mr-2"}),"Back to home"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsx("div",{className:"md:col-span-1",children:s.jsx("div",{className:"bg-card border border-border rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsxs(As,{className:"h-24 w-24 mb-4",children:[s.jsx(Jo,{src:o,alt:n}),s.jsx(ks,{className:"bg-primary/10 text-primary text-2xl",children:n.charAt(0).toUpperCase()})]}),s.jsx("h1",{className:"text-2xl font-bold mb-1",children:n}),(e==null?void 0:e.email)&&s.jsx("p",{className:"text-muted-foreground mb-4",children:e.email}),s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold",children:Ki.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Votes"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-semibold",children:Xi.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Favorites"})]})]}),s.jsx(pe,{variant:"outline",className:"w-full",onClick:r,children:"Log out"})]})})}),s.jsx("div",{className:"md:col-span-2",children:s.jsxs(Ec,{defaultValue:"votes",children:[s.jsxs(Ka,{className:"mb-6",children:[s.jsxs(Ur,{value:"votes",children:[s.jsx(gl,{className:"h-4 w-4 mr-2"}),"Recent Votes"]}),s.jsxs(Ur,{value:"artists",children:[s.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Favorite Artists"]})]}),s.jsx(Vr,{value:"votes",children:s.jsx("div",{className:"border border-border rounded-xl overflow-hidden",children:Ki.length>0?s.jsx("div",{className:"divide-y divide-border",children:Ki.map(a=>s.jsx("div",{className:"p-4 bg-card hover:bg-accent/50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:a.songName}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.artistName," - ",a.showName]})]}),s.jsx("div",{className:"text-right text-sm text-muted-foreground",children:new Date(a.date).toLocaleDateString()})]})},a.id))}):s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(gl,{className:"h-10 w-10 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No votes yet"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't voted on any setlists yet."}),s.jsx(pe,{asChild:!0,children:s.jsx(Ee,{to:"/shows",children:"Explore Shows"})})]})})}),s.jsx(Vr,{value:"artists",children:Xi.length>0?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Xi.map(a=>s.jsxs(Ee,{to:`/artists/${a.id}`,className:"flex items-center p-4 bg-card border border-border rounded-lg hover:bg-accent/50 transition-colors",children:[s.jsxs(As,{className:"h-12 w-12 mr-4",children:[s.jsx(Jo,{src:a.image||void 0,alt:a.name||"Artist"}),s.jsx(ks,{className:"bg-primary/10 text-primary",children:a.name&&a.name.charAt(0)||"?"})]}),s.jsx("span",{className:"font-medium",children:a.name||"Unknown Artist"})]},a.id))}):s.jsxs("div",{className:"p-8 text-center border border-border rounded-xl",children:[s.jsx(dt,{className:"h-10 w-10 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No favorite artists"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't added any artists to your favorites yet."}),s.jsx(pe,{asChild:!0,children:s.jsx(Ee,{to:"/search",children:"Find Artists"})})]})})]})})]})]})}),s.jsx(et,{})]})},To=({children:e})=>{const{isAuthenticated:t,isLoading:r}=pr(),n=mr();return r?s.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[s.jsx(Cr,{className:"h-8 w-8 animate-spin text-primary mr-2"}),s.jsx("span",{className:"text-lg",children:"Loading..."})]}):t?s.jsx(s.Fragment,{children:e}):s.jsx(qu,{to:"/auth",state:{from:n},replace:!0})};var Ut={};const ma={supabase:{url:"https://kzjnkqeosrycfpxjwhil.supabase.co",anonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt6am5rcWVvc3J5Y2ZweGp3aGlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ5OTg2NjAsImV4cCI6MjA2MDU3NDY2MH0.og8tRo6fxlIFx-oxgREtUauho9kdNVSYQemHgaEe4dU"}},Ro={supabase:{serviceKey:Ut.SUPABASE_SERVICE_ROLE_KEY||""},ticketmaster:{apiKey:Ut.TICKETMASTER_API_KEY||"",baseUrl:"https://app.ticketmaster.com/discovery/v2"},spotify:{clientId:Ut.SPOTIFY_CLIENT_ID||"",clientSecret:Ut.SPOTIFY_CLIENT_SECRET||"",baseUrl:"https://api.spotify.com/v1"},setlistFm:{apiKey:Ut.SETLISTFM_API_KEY||Ut.SETLIST_FM_API_KEY||"",baseUrl:"https://api.setlist.fm/rest/1.0"},cron:{secret:Ut.CRON_SECRET||""},redis:{url:Ut.UPSTASH_REDIS_URL||"",token:Ut.UPSTASH_REDIS_TOKEN||""},database:{url:Ut.SUPABASE_DB_URL||""},testing:{keepData:Ut.KEEP_TEST_DATA==="true"}},wC=()=>{const e=[["NEXT_PUBLIC_SUPABASE_URL",ma.supabase.url],["NEXT_PUBLIC_SUPABASE_ANON_KEY",ma.supabase.anonKey]];for(const[t,r]of e)r||console.warn(`Missing client-side environment variable: ${t}`)};Hs(ma.supabase.url,ma.supabase.anonKey);wC();let kn={accessToken:"",expiresAt:0};const bC=async()=>{const e=Date.now();if(kn.accessToken&&kn.expiresAt>e+6e4)return kn.accessToken;if(!Ro.spotify.clientId||!Ro.spotify.clientSecret)return console.error("Spotify client ID or secret is not configured."),null;try{const t=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${Buffer.from(`${Ro.spotify.clientId}:${Ro.spotify.clientSecret}`).toString("base64")}`},body:"grant_type=client_credentials"});if(!t.ok){const n=await t.text();throw console.error(`Failed to get Spotify client credentials token (${t.status}):`,n),new Error(`Spotify token request failed: ${t.statusText}`)}const r=await t.json();if(!r.access_token||!r.expires_in)throw console.error("Invalid response from Spotify token endpoint:",r),new Error("Invalid token response from Spotify");return kn={accessToken:r.access_token,expiresAt:e+r.expires_in*1e3},kn.accessToken}catch(t){return console.error("Error fetching Spotify client credentials token:",t),kn={accessToken:"",expiresAt:0},null}},Cc=async()=>{console.warn("Client-side getAccessToken called - this usually requires user context.");const e=await bC();if(e)return console.warn("Falling back to client credentials token for client-side request."),e;throw new Error("Client-side Spotify access token retrieval failed. No user context and client credentials fallback failed.")},jg="https://api.spotify.com/v1",_C=async(e,t=5)=>{if(!e.trim())return{artists:{items:[]}};try{const r=await Cc(),n=await fetch(`${jg}/search?q=${encodeURIComponent(e)}&type=artist&limit=${t}`,{headers:{Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error(`Failed to search artists: ${n.statusText}`);return await n.json()}catch(r){return console.error("Error searching artists:",r),re.error("Failed to search Spotify artists."),null}},Sg=async e=>{try{const t=await Cc(),r=await fetch(`${jg}/search?q=${encodeURIComponent(e)}&type=artist&limit=1`,{headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error(`Failed to search artist: ${r.statusText}`);const n=await r.json();return!n.artists||n.artists.items.length===0?(console.log(`No artist found with name: ${e}`),null):n.artists.items[0]}catch(t){return console.error(`Error searching for artist '${e}':`,t),re.error(`Failed to find Spotify artist: ${e}`),null}};var NC={},Xa={};Xa.byteLength=EC;Xa.toByteArray=AC;Xa.fromByteArray=RC;var nr=[],Pt=[],jC=typeof Uint8Array<"u"?Uint8Array:Array,Qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Tn=0,SC=Qi.length;Tn<SC;++Tn)nr[Tn]=Qi[Tn],Pt[Qi.charCodeAt(Tn)]=Tn;Pt[45]=62;Pt[95]=63;function Eg(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function EC(e){var t=Eg(e),r=t[0],n=t[1];return(r+n)*3/4-n}function CC(e,t,r){return(t+r)*3/4-r}function AC(e){var t,r=Eg(e),n=r[0],o=r[1],a=new jC(CC(e,n,o)),l=0,i=o>0?n-4:n,c;for(c=0;c<i;c+=4)t=Pt[e.charCodeAt(c)]<<18|Pt[e.charCodeAt(c+1)]<<12|Pt[e.charCodeAt(c+2)]<<6|Pt[e.charCodeAt(c+3)],a[l++]=t>>16&255,a[l++]=t>>8&255,a[l++]=t&255;return o===2&&(t=Pt[e.charCodeAt(c)]<<2|Pt[e.charCodeAt(c+1)]>>4,a[l++]=t&255),o===1&&(t=Pt[e.charCodeAt(c)]<<10|Pt[e.charCodeAt(c+1)]<<4|Pt[e.charCodeAt(c+2)]>>2,a[l++]=t>>8&255,a[l++]=t&255),a}function kC(e){return nr[e>>18&63]+nr[e>>12&63]+nr[e>>6&63]+nr[e&63]}function TC(e,t,r){for(var n,o=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),o.push(kC(n));return o.join("")}function RC(e){for(var t,r=e.length,n=r%3,o=[],a=16383,l=0,i=r-n;l<i;l+=a)o.push(TC(e,l,l+a>i?i:l+a));return n===1?(t=e[r-1],o.push(nr[t>>2]+nr[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],o.push(nr[t>>10]+nr[t>>4&63]+nr[t<<2&63]+"=")),o.join("")}var Ac={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ac.read=function(e,t,r,n,o){var a,l,i=o*8-n-1,c=(1<<i)-1,d=c>>1,u=-7,f=r?o-1:0,g=r?-1:1,p=e[t+f];for(f+=g,a=p&(1<<-u)-1,p>>=-u,u+=i;u>0;a=a*256+e[t+f],f+=g,u-=8);for(l=a&(1<<-u)-1,a>>=-u,u+=n;u>0;l=l*256+e[t+f],f+=g,u-=8);if(a===0)a=1-d;else{if(a===c)return l?NaN:(p?-1:1)*(1/0);l=l+Math.pow(2,n),a=a-d}return(p?-1:1)*l*Math.pow(2,a-n)};Ac.write=function(e,t,r,n,o,a){var l,i,c,d=a*8-o-1,u=(1<<d)-1,f=u>>1,g=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,w=n?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,l=u):(l=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-l))<1&&(l--,c*=2),l+f>=1?t+=g/c:t+=g*Math.pow(2,1-f),t*c>=2&&(l++,c/=2),l+f>=u?(i=0,l=u):l+f>=1?(i=(t*c-1)*Math.pow(2,o),l=l+f):(i=t*Math.pow(2,f-1)*Math.pow(2,o),l=0));o>=8;e[r+p]=i&255,p+=w,i/=256,o-=8);for(l=l<<o|i,d+=o;d>0;e[r+p]=l&255,p+=w,l/=256,d-=8);e[r+p-w]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Xa,r=Ac,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=i,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,i.TYPED_ARRAY_SUPPORT=a(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const b=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(b,h),b.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function l(b){if(b>o)throw new RangeError('The value "'+b+'" is invalid for option "size"');const h=new Uint8Array(b);return Object.setPrototypeOf(h,i.prototype),h}function i(b,h,x){if(typeof b=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(b)}return c(b,h,x)}i.poolSize=8192;function c(b,h,x){if(typeof b=="string")return g(b,h);if(ArrayBuffer.isView(b))return w(b);if(b==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b);if(k(b,ArrayBuffer)||b&&k(b.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(k(b,SharedArrayBuffer)||b&&k(b.buffer,SharedArrayBuffer)))return v(b,h,x);if(typeof b=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const C=b.valueOf&&b.valueOf();if(C!=null&&C!==b)return i.from(C,h,x);const R=y(b);if(R)return R;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof b[Symbol.toPrimitive]=="function")return i.from(b[Symbol.toPrimitive]("string"),h,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof b)}i.from=function(b,h,x){return c(b,h,x)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function d(b){if(typeof b!="number")throw new TypeError('"size" argument must be of type number');if(b<0)throw new RangeError('The value "'+b+'" is invalid for option "size"')}function u(b,h,x){return d(b),b<=0?l(b):h!==void 0?typeof x=="string"?l(b).fill(h,x):l(b).fill(h):l(b)}i.alloc=function(b,h,x){return u(b,h,x)};function f(b){return d(b),l(b<0?0:N(b)|0)}i.allocUnsafe=function(b){return f(b)},i.allocUnsafeSlow=function(b){return f(b)};function g(b,h){if((typeof h!="string"||h==="")&&(h="utf8"),!i.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const x=j(b,h)|0;let C=l(x);const R=C.write(b,h);return R!==x&&(C=C.slice(0,R)),C}function p(b){const h=b.length<0?0:N(b.length)|0,x=l(h);for(let C=0;C<h;C+=1)x[C]=b[C]&255;return x}function w(b){if(k(b,Uint8Array)){const h=new Uint8Array(b);return v(h.buffer,h.byteOffset,h.byteLength)}return p(b)}function v(b,h,x){if(h<0||b.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(b.byteLength<h+(x||0))throw new RangeError('"length" is outside of buffer bounds');let C;return h===void 0&&x===void 0?C=new Uint8Array(b):x===void 0?C=new Uint8Array(b,h):C=new Uint8Array(b,h,x),Object.setPrototypeOf(C,i.prototype),C}function y(b){if(i.isBuffer(b)){const h=N(b.length)|0,x=l(h);return x.length===0||b.copy(x,0,0,h),x}if(b.length!==void 0)return typeof b.length!="number"||F(b.length)?l(0):p(b);if(b.type==="Buffer"&&Array.isArray(b.data))return p(b.data)}function N(b){if(b>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return b|0}function _(b){return+b!=b&&(b=0),i.alloc(+b)}i.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==i.prototype},i.compare=function(h,x){if(k(h,Uint8Array)&&(h=i.from(h,h.offset,h.byteLength)),k(x,Uint8Array)&&(x=i.from(x,x.offset,x.byteLength)),!i.isBuffer(h)||!i.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===x)return 0;let C=h.length,R=x.length;for(let U=0,z=Math.min(C,R);U<z;++U)if(h[U]!==x[U]){C=h[U],R=x[U];break}return C<R?-1:R<C?1:0},i.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(h,x){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return i.alloc(0);let C;if(x===void 0)for(x=0,C=0;C<h.length;++C)x+=h[C].length;const R=i.allocUnsafe(x);let U=0;for(C=0;C<h.length;++C){let z=h[C];if(k(z,Uint8Array))U+z.length>R.length?(i.isBuffer(z)||(z=i.from(z)),z.copy(R,U)):Uint8Array.prototype.set.call(R,z,U);else if(i.isBuffer(z))z.copy(R,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=z.length}return R};function j(b,h){if(i.isBuffer(b))return b.length;if(ArrayBuffer.isView(b)||k(b,ArrayBuffer))return b.byteLength;if(typeof b!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof b);const x=b.length,C=arguments.length>2&&arguments[2]===!0;if(!C&&x===0)return 0;let R=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return Xe(b).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return xr(b).length;default:if(R)return C?-1:Xe(b).length;h=(""+h).toLowerCase(),R=!0}}i.byteLength=j;function S(b,h,x){let C=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,h>>>=0,x<=h))return"";for(b||(b="utf8");;)switch(b){case"hex":return O(this,h,x);case"utf8":case"utf-8":return L(this,h,x);case"ascii":return A(this,h,x);case"latin1":case"binary":return P(this,h,x);case"base64":return Y(this,h,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,h,x);default:if(C)throw new TypeError("Unknown encoding: "+b);b=(b+"").toLowerCase(),C=!0}}i.prototype._isBuffer=!0;function E(b,h,x){const C=b[h];b[h]=b[x],b[x]=C}i.prototype.swap16=function(){const h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<h;x+=2)E(this,x,x+1);return this},i.prototype.swap32=function(){const h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<h;x+=4)E(this,x,x+3),E(this,x+1,x+2);return this},i.prototype.swap64=function(){const h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<h;x+=8)E(this,x,x+7),E(this,x+1,x+6),E(this,x+2,x+5),E(this,x+3,x+4);return this},i.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?L(this,0,h):S.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(h){if(!i.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:i.compare(this,h)===0},i.prototype.inspect=function(){let h="";const x=e.INSPECT_MAX_BYTES;return h=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(h+=" ... "),"<Buffer "+h+">"},n&&(i.prototype[n]=i.prototype.inspect),i.prototype.compare=function(h,x,C,R,U){if(k(h,Uint8Array)&&(h=i.from(h,h.offset,h.byteLength)),!i.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(x===void 0&&(x=0),C===void 0&&(C=h?h.length:0),R===void 0&&(R=0),U===void 0&&(U=this.length),x<0||C>h.length||R<0||U>this.length)throw new RangeError("out of range index");if(R>=U&&x>=C)return 0;if(R>=U)return-1;if(x>=C)return 1;if(x>>>=0,C>>>=0,R>>>=0,U>>>=0,this===h)return 0;let z=U-R,we=C-x;const Ve=Math.min(z,we),Me=this.slice(R,U),He=h.slice(x,C);for(let Fe=0;Fe<Ve;++Fe)if(Me[Fe]!==He[Fe]){z=Me[Fe],we=He[Fe];break}return z<we?-1:we<z?1:0};function D(b,h,x,C,R){if(b.length===0)return-1;if(typeof x=="string"?(C=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,F(x)&&(x=R?0:b.length-1),x<0&&(x=b.length+x),x>=b.length){if(R)return-1;x=b.length-1}else if(x<0)if(R)x=0;else return-1;if(typeof h=="string"&&(h=i.from(h,C)),i.isBuffer(h))return h.length===0?-1:I(b,h,x,C,R);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?R?Uint8Array.prototype.indexOf.call(b,h,x):Uint8Array.prototype.lastIndexOf.call(b,h,x):I(b,[h],x,C,R);throw new TypeError("val must be string, number or Buffer")}function I(b,h,x,C,R){let U=1,z=b.length,we=h.length;if(C!==void 0&&(C=String(C).toLowerCase(),C==="ucs2"||C==="ucs-2"||C==="utf16le"||C==="utf-16le")){if(b.length<2||h.length<2)return-1;U=2,z/=2,we/=2,x/=2}function Ve(He,Fe){return U===1?He[Fe]:He.readUInt16BE(Fe*U)}let Me;if(R){let He=-1;for(Me=x;Me<z;Me++)if(Ve(b,Me)===Ve(h,He===-1?0:Me-He)){if(He===-1&&(He=Me),Me-He+1===we)return He*U}else He!==-1&&(Me-=Me-He),He=-1}else for(x+we>z&&(x=z-we),Me=x;Me>=0;Me--){let He=!0;for(let Fe=0;Fe<we;Fe++)if(Ve(b,Me+Fe)!==Ve(h,Fe)){He=!1;break}if(He)return Me}return-1}i.prototype.includes=function(h,x,C){return this.indexOf(h,x,C)!==-1},i.prototype.indexOf=function(h,x,C){return D(this,h,x,C,!0)},i.prototype.lastIndexOf=function(h,x,C){return D(this,h,x,C,!1)};function B(b,h,x,C){x=Number(x)||0;const R=b.length-x;C?(C=Number(C),C>R&&(C=R)):C=R;const U=h.length;C>U/2&&(C=U/2);let z;for(z=0;z<C;++z){const we=parseInt(h.substr(z*2,2),16);if(F(we))return z;b[x+z]=we}return z}function $(b,h,x,C){return mt(Xe(h,b.length-x),b,x,C)}function q(b,h,x,C){return mt(Rt(h),b,x,C)}function Z(b,h,x,C){return mt(xr(h),b,x,C)}function V(b,h,x,C){return mt(St(h,b.length-x),b,x,C)}i.prototype.write=function(h,x,C,R){if(x===void 0)R="utf8",C=this.length,x=0;else if(C===void 0&&typeof x=="string")R=x,C=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(C)?(C=C>>>0,R===void 0&&(R="utf8")):(R=C,C=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const U=this.length-x;if((C===void 0||C>U)&&(C=U),h.length>0&&(C<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");R||(R="utf8");let z=!1;for(;;)switch(R){case"hex":return B(this,h,x,C);case"utf8":case"utf-8":return $(this,h,x,C);case"ascii":case"latin1":case"binary":return q(this,h,x,C);case"base64":return Z(this,h,x,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,h,x,C);default:if(z)throw new TypeError("Unknown encoding: "+R);R=(""+R).toLowerCase(),z=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(b,h,x){return h===0&&x===b.length?t.fromByteArray(b):t.fromByteArray(b.slice(h,x))}function L(b,h,x){x=Math.min(b.length,x);const C=[];let R=h;for(;R<x;){const U=b[R];let z=null,we=U>239?4:U>223?3:U>191?2:1;if(R+we<=x){let Ve,Me,He,Fe;switch(we){case 1:U<128&&(z=U);break;case 2:Ve=b[R+1],(Ve&192)===128&&(Fe=(U&31)<<6|Ve&63,Fe>127&&(z=Fe));break;case 3:Ve=b[R+1],Me=b[R+2],(Ve&192)===128&&(Me&192)===128&&(Fe=(U&15)<<12|(Ve&63)<<6|Me&63,Fe>2047&&(Fe<55296||Fe>57343)&&(z=Fe));break;case 4:Ve=b[R+1],Me=b[R+2],He=b[R+3],(Ve&192)===128&&(Me&192)===128&&(He&192)===128&&(Fe=(U&15)<<18|(Ve&63)<<12|(Me&63)<<6|He&63,Fe>65535&&Fe<1114112&&(z=Fe))}}z===null?(z=65533,we=1):z>65535&&(z-=65536,C.push(z>>>10&1023|55296),z=56320|z&1023),C.push(z),R+=we}return T(C)}const M=4096;function T(b){const h=b.length;if(h<=M)return String.fromCharCode.apply(String,b);let x="",C=0;for(;C<h;)x+=String.fromCharCode.apply(String,b.slice(C,C+=M));return x}function A(b,h,x){let C="";x=Math.min(b.length,x);for(let R=h;R<x;++R)C+=String.fromCharCode(b[R]&127);return C}function P(b,h,x){let C="";x=Math.min(b.length,x);for(let R=h;R<x;++R)C+=String.fromCharCode(b[R]);return C}function O(b,h,x){const C=b.length;(!h||h<0)&&(h=0),(!x||x<0||x>C)&&(x=C);let R="";for(let U=h;U<x;++U)R+=W[b[U]];return R}function G(b,h,x){const C=b.slice(h,x);let R="";for(let U=0;U<C.length-1;U+=2)R+=String.fromCharCode(C[U]+C[U+1]*256);return R}i.prototype.slice=function(h,x){const C=this.length;h=~~h,x=x===void 0?C:~~x,h<0?(h+=C,h<0&&(h=0)):h>C&&(h=C),x<0?(x+=C,x<0&&(x=0)):x>C&&(x=C),x<h&&(x=h);const R=this.subarray(h,x);return Object.setPrototypeOf(R,i.prototype),R};function X(b,h,x){if(b%1!==0||b<0)throw new RangeError("offset is not uint");if(b+h>x)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(h,x,C){h=h>>>0,x=x>>>0,C||X(h,x,this.length);let R=this[h],U=1,z=0;for(;++z<x&&(U*=256);)R+=this[h+z]*U;return R},i.prototype.readUintBE=i.prototype.readUIntBE=function(h,x,C){h=h>>>0,x=x>>>0,C||X(h,x,this.length);let R=this[h+--x],U=1;for(;x>0&&(U*=256);)R+=this[h+--x]*U;return R},i.prototype.readUint8=i.prototype.readUInt8=function(h,x){return h=h>>>0,x||X(h,1,this.length),this[h]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(h,x){return h=h>>>0,x||X(h,2,this.length),this[h]|this[h+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(h,x){return h=h>>>0,x||X(h,2,this.length),this[h]<<8|this[h+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(h,x){return h=h>>>0,x||X(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(h,x){return h=h>>>0,x||X(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},i.prototype.readBigUInt64LE=te(function(h){h=h>>>0,Re(h,"offset");const x=this[h],C=this[h+7];(x===void 0||C===void 0)&&ze(h,this.length-8);const R=x+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,U=this[++h]+this[++h]*2**8+this[++h]*2**16+C*2**24;return BigInt(R)+(BigInt(U)<<BigInt(32))}),i.prototype.readBigUInt64BE=te(function(h){h=h>>>0,Re(h,"offset");const x=this[h],C=this[h+7];(x===void 0||C===void 0)&&ze(h,this.length-8);const R=x*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],U=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+C;return(BigInt(R)<<BigInt(32))+BigInt(U)}),i.prototype.readIntLE=function(h,x,C){h=h>>>0,x=x>>>0,C||X(h,x,this.length);let R=this[h],U=1,z=0;for(;++z<x&&(U*=256);)R+=this[h+z]*U;return U*=128,R>=U&&(R-=Math.pow(2,8*x)),R},i.prototype.readIntBE=function(h,x,C){h=h>>>0,x=x>>>0,C||X(h,x,this.length);let R=x,U=1,z=this[h+--R];for(;R>0&&(U*=256);)z+=this[h+--R]*U;return U*=128,z>=U&&(z-=Math.pow(2,8*x)),z},i.prototype.readInt8=function(h,x){return h=h>>>0,x||X(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},i.prototype.readInt16LE=function(h,x){h=h>>>0,x||X(h,2,this.length);const C=this[h]|this[h+1]<<8;return C&32768?C|4294901760:C},i.prototype.readInt16BE=function(h,x){h=h>>>0,x||X(h,2,this.length);const C=this[h+1]|this[h]<<8;return C&32768?C|4294901760:C},i.prototype.readInt32LE=function(h,x){return h=h>>>0,x||X(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},i.prototype.readInt32BE=function(h,x){return h=h>>>0,x||X(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},i.prototype.readBigInt64LE=te(function(h){h=h>>>0,Re(h,"offset");const x=this[h],C=this[h+7];(x===void 0||C===void 0)&&ze(h,this.length-8);const R=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(C<<24);return(BigInt(R)<<BigInt(32))+BigInt(x+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),i.prototype.readBigInt64BE=te(function(h){h=h>>>0,Re(h,"offset");const x=this[h],C=this[h+7];(x===void 0||C===void 0)&&ze(h,this.length-8);const R=(x<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(R)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+C)}),i.prototype.readFloatLE=function(h,x){return h=h>>>0,x||X(h,4,this.length),r.read(this,h,!0,23,4)},i.prototype.readFloatBE=function(h,x){return h=h>>>0,x||X(h,4,this.length),r.read(this,h,!1,23,4)},i.prototype.readDoubleLE=function(h,x){return h=h>>>0,x||X(h,8,this.length),r.read(this,h,!0,52,8)},i.prototype.readDoubleBE=function(h,x){return h=h>>>0,x||X(h,8,this.length),r.read(this,h,!1,52,8)};function ee(b,h,x,C,R,U){if(!i.isBuffer(b))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>R||h<U)throw new RangeError('"value" argument is out of bounds');if(x+C>b.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(h,x,C,R){if(h=+h,x=x>>>0,C=C>>>0,!R){const we=Math.pow(2,8*C)-1;ee(this,h,x,C,we,0)}let U=1,z=0;for(this[x]=h&255;++z<C&&(U*=256);)this[x+z]=h/U&255;return x+C},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(h,x,C,R){if(h=+h,x=x>>>0,C=C>>>0,!R){const we=Math.pow(2,8*C)-1;ee(this,h,x,C,we,0)}let U=C-1,z=1;for(this[x+U]=h&255;--U>=0&&(z*=256);)this[x+U]=h/z&255;return x+C},i.prototype.writeUint8=i.prototype.writeUInt8=function(h,x,C){return h=+h,x=x>>>0,C||ee(this,h,x,1,255,0),this[x]=h&255,x+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(h,x,C){return h=+h,x=x>>>0,C||ee(this,h,x,2,65535,0),this[x]=h&255,this[x+1]=h>>>8,x+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(h,x,C){return h=+h,x=x>>>0,C||ee(this,h,x,2,65535,0),this[x]=h>>>8,this[x+1]=h&255,x+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(h,x,C){return h=+h,x=x>>>0,C||ee(this,h,x,4,4294967295,0),this[x+3]=h>>>24,this[x+2]=h>>>16,this[x+1]=h>>>8,this[x]=h&255,x+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(h,x,C){return h=+h,x=x>>>0,C||ee(this,h,x,4,4294967295,0),this[x]=h>>>24,this[x+1]=h>>>16,this[x+2]=h>>>8,this[x+3]=h&255,x+4};function ce(b,h,x,C,R){xe(h,C,R,b,x,7);let U=Number(h&BigInt(4294967295));b[x++]=U,U=U>>8,b[x++]=U,U=U>>8,b[x++]=U,U=U>>8,b[x++]=U;let z=Number(h>>BigInt(32)&BigInt(4294967295));return b[x++]=z,z=z>>8,b[x++]=z,z=z>>8,b[x++]=z,z=z>>8,b[x++]=z,x}function oe(b,h,x,C,R){xe(h,C,R,b,x,7);let U=Number(h&BigInt(4294967295));b[x+7]=U,U=U>>8,b[x+6]=U,U=U>>8,b[x+5]=U,U=U>>8,b[x+4]=U;let z=Number(h>>BigInt(32)&BigInt(4294967295));return b[x+3]=z,z=z>>8,b[x+2]=z,z=z>>8,b[x+1]=z,z=z>>8,b[x]=z,x+8}i.prototype.writeBigUInt64LE=te(function(h,x=0){return ce(this,h,x,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeBigUInt64BE=te(function(h,x=0){return oe(this,h,x,BigInt(0),BigInt("0xffffffffffffffff"))}),i.prototype.writeIntLE=function(h,x,C,R){if(h=+h,x=x>>>0,!R){const Ve=Math.pow(2,8*C-1);ee(this,h,x,C,Ve-1,-Ve)}let U=0,z=1,we=0;for(this[x]=h&255;++U<C&&(z*=256);)h<0&&we===0&&this[x+U-1]!==0&&(we=1),this[x+U]=(h/z>>0)-we&255;return x+C},i.prototype.writeIntBE=function(h,x,C,R){if(h=+h,x=x>>>0,!R){const Ve=Math.pow(2,8*C-1);ee(this,h,x,C,Ve-1,-Ve)}let U=C-1,z=1,we=0;for(this[x+U]=h&255;--U>=0&&(z*=256);)h<0&&we===0&&this[x+U+1]!==0&&(we=1),this[x+U]=(h/z>>0)-we&255;return x+C},i.prototype.writeInt8=function(h,x,C){return h=+h,x=x>>>0,C||ee(this,h,x,1,127,-128),h<0&&(h=255+h+1),this[x]=h&255,x+1},i.prototype.writeInt16LE=function(h,x,C){return h=+h,x=x>>>0,C||ee(this,h,x,2,32767,-32768),this[x]=h&255,this[x+1]=h>>>8,x+2},i.prototype.writeInt16BE=function(h,x,C){return h=+h,x=x>>>0,C||ee(this,h,x,2,32767,-32768),this[x]=h>>>8,this[x+1]=h&255,x+2},i.prototype.writeInt32LE=function(h,x,C){return h=+h,x=x>>>0,C||ee(this,h,x,4,2147483647,-2147483648),this[x]=h&255,this[x+1]=h>>>8,this[x+2]=h>>>16,this[x+3]=h>>>24,x+4},i.prototype.writeInt32BE=function(h,x,C){return h=+h,x=x>>>0,C||ee(this,h,x,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[x]=h>>>24,this[x+1]=h>>>16,this[x+2]=h>>>8,this[x+3]=h&255,x+4},i.prototype.writeBigInt64LE=te(function(h,x=0){return ce(this,h,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),i.prototype.writeBigInt64BE=te(function(h,x=0){return oe(this,h,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Te(b,h,x,C,R,U){if(x+C>b.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function he(b,h,x,C,R){return h=+h,x=x>>>0,R||Te(b,h,x,4),r.write(b,h,x,C,23,4),x+4}i.prototype.writeFloatLE=function(h,x,C){return he(this,h,x,!0,C)},i.prototype.writeFloatBE=function(h,x,C){return he(this,h,x,!1,C)};function Q(b,h,x,C,R){return h=+h,x=x>>>0,R||Te(b,h,x,8),r.write(b,h,x,C,52,8),x+8}i.prototype.writeDoubleLE=function(h,x,C){return Q(this,h,x,!0,C)},i.prototype.writeDoubleBE=function(h,x,C){return Q(this,h,x,!1,C)},i.prototype.copy=function(h,x,C,R){if(!i.isBuffer(h))throw new TypeError("argument should be a Buffer");if(C||(C=0),!R&&R!==0&&(R=this.length),x>=h.length&&(x=h.length),x||(x=0),R>0&&R<C&&(R=C),R===C||h.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(C<0||C>=this.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("sourceEnd out of bounds");R>this.length&&(R=this.length),h.length-x<R-C&&(R=h.length-x+C);const U=R-C;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,C,R):Uint8Array.prototype.set.call(h,this.subarray(C,R),x),U},i.prototype.fill=function(h,x,C,R){if(typeof h=="string"){if(typeof x=="string"?(R=x,x=0,C=this.length):typeof C=="string"&&(R=C,C=this.length),R!==void 0&&typeof R!="string")throw new TypeError("encoding must be a string");if(typeof R=="string"&&!i.isEncoding(R))throw new TypeError("Unknown encoding: "+R);if(h.length===1){const z=h.charCodeAt(0);(R==="utf8"&&z<128||R==="latin1")&&(h=z)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(x<0||this.length<x||this.length<C)throw new RangeError("Out of range index");if(C<=x)return this;x=x>>>0,C=C===void 0?this.length:C>>>0,h||(h=0);let U;if(typeof h=="number")for(U=x;U<C;++U)this[U]=h;else{const z=i.isBuffer(h)?h:i.from(h,R),we=z.length;if(we===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(U=0;U<C-x;++U)this[U+x]=z[U%we]}return this};const ue={};function ge(b,h,x){ue[b]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${b}]`,this.stack,delete this.name}get code(){return b}set code(R){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:R,writable:!0})}toString(){return`${this.name} [${b}]: ${this.message}`}}}ge("ERR_BUFFER_OUT_OF_BOUNDS",function(b){return b?`${b} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ge("ERR_INVALID_ARG_TYPE",function(b,h){return`The "${b}" argument must be of type number. Received type ${typeof h}`},TypeError),ge("ERR_OUT_OF_RANGE",function(b,h,x){let C=`The value of "${b}" is out of range.`,R=x;return Number.isInteger(x)&&Math.abs(x)>2**32?R=Ne(String(x)):typeof x=="bigint"&&(R=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(R=Ne(R)),R+="n"),C+=` It must be ${h}. Received ${R}`,C},RangeError);function Ne(b){let h="",x=b.length;const C=b[0]==="-"?1:0;for(;x>=C+4;x-=3)h=`_${b.slice(x-3,x)}${h}`;return`${b.slice(0,x)}${h}`}function de(b,h,x){Re(h,"offset"),(b[h]===void 0||b[h+x]===void 0)&&ze(h,b.length-(x+1))}function xe(b,h,x,C,R,U){if(b>x||b<h){const z=typeof h=="bigint"?"n":"";let we;throw h===0||h===BigInt(0)?we=`>= 0${z} and < 2${z} ** ${(U+1)*8}${z}`:we=`>= -(2${z} ** ${(U+1)*8-1}${z}) and < 2 ** ${(U+1)*8-1}${z}`,new ue.ERR_OUT_OF_RANGE("value",we,b)}de(C,R,U)}function Re(b,h){if(typeof b!="number")throw new ue.ERR_INVALID_ARG_TYPE(h,"number",b)}function ze(b,h,x){throw Math.floor(b)!==b?(Re(b,x),new ue.ERR_OUT_OF_RANGE("offset","an integer",b)):h<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,b)}const lt=/[^+/0-9A-Za-z-_]/g;function Le(b){if(b=b.split("=")[0],b=b.trim().replace(lt,""),b.length<2)return"";for(;b.length%4!==0;)b=b+"=";return b}function Xe(b,h){h=h||1/0;let x;const C=b.length;let R=null;const U=[];for(let z=0;z<C;++z){if(x=b.charCodeAt(z),x>55295&&x<57344){if(!R){if(x>56319){(h-=3)>-1&&U.push(239,191,189);continue}else if(z+1===C){(h-=3)>-1&&U.push(239,191,189);continue}R=x;continue}if(x<56320){(h-=3)>-1&&U.push(239,191,189),R=x;continue}x=(R-55296<<10|x-56320)+65536}else R&&(h-=3)>-1&&U.push(239,191,189);if(R=null,x<128){if((h-=1)<0)break;U.push(x)}else if(x<2048){if((h-=2)<0)break;U.push(x>>6|192,x&63|128)}else if(x<65536){if((h-=3)<0)break;U.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((h-=4)<0)break;U.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return U}function Rt(b){const h=[];for(let x=0;x<b.length;++x)h.push(b.charCodeAt(x)&255);return h}function St(b,h){let x,C,R;const U=[];for(let z=0;z<b.length&&!((h-=2)<0);++z)x=b.charCodeAt(z),C=x>>8,R=x%256,U.push(R),U.push(C);return U}function xr(b){return t.toByteArray(Le(b))}function mt(b,h,x,C){let R;for(R=0;R<C&&!(R+x>=h.length||R>=b.length);++R)h[R+x]=b[R];return R}function k(b,h){return b instanceof h||b!=null&&b.constructor!=null&&b.constructor.name!=null&&b.constructor.name===h.name}function F(b){return b!==b}const W=function(){const b="0123456789abcdef",h=new Array(256);for(let x=0;x<16;++x){const C=x*16;for(let R=0;R<16;++R)h[C+R]=b[x]+b[R]}return h}();function te(b){return typeof BigInt>"u"?J:b}function J(){throw new Error("BigInt not supported")}})(NC);const PC=e=>!e||!Array.isArray(e)||e.length===0?[]:e,Iu=async e=>{const{data:t,error:r}=await ye.from("artists").select("stored_tracks").eq("id",e).maybeSingle();return r||!t||!t.stored_tracks?null:PC(t.stored_tracks)},Ji="https://api.spotify.com/v1",IC=async e=>{try{console.log(`[Client Spotify] Fetching tracks for artist Spotify ID: ${e}`);const t=await Cc(),r=await fetch(`${Ji}/artists/${e}/top-tracks?market=US`,{headers:{Authorization:`Bearer ${t}`}});if(!r.ok)return console.error(`[Client Spotify] Failed to get top tracks: ${r.statusText}`),null;const n=await r.json();if(!n.tracks||!Array.isArray(n.tracks))return console.error("[Client Spotify] Invalid top tracks data received from Spotify"),null;const o=new Set,a=[];n.tracks.forEach(i=>{i.id&&!o.has(i.id)&&(o.add(i.id),a.push({id:i.id,name:i.name,duration_ms:i.duration_ms,popularity:i.popularity,preview_url:i.preview_url??void 0}))});const l=await fetch(`${Ji}/artists/${e}/albums?include_groups=album,single&limit=20&market=US`,{headers:{Authorization:`Bearer ${t}`}});if(l.ok){const i=await l.json();if(i.items&&Array.isArray(i.items)){console.log(`[Client Spotify] Found ${i.items.length} albums/singles for artist ${e}`);const c=i.items.map(async u=>{try{const f=await fetch(`${Ji}/albums/${u.id}/tracks?limit=50&market=US`,{headers:{Authorization:`Bearer ${t}`}});return f.ok?(await f.json()).items||[]:[]}catch(f){return console.warn(`[Client Spotify] Error fetching tracks for album ${u.id}:`,f),[]}});(await Promise.all(c)).flat().forEach(u=>{u.id&&!o.has(u.id)&&(o.add(u.id),a.push({id:u.id,name:u.name,duration_ms:u.duration_ms,popularity:u.popularity,preview_url:u.preview_url??void 0}))})}else console.warn("[Client Spotify] Invalid albums data received from Spotify")}else console.warn(`[Client Spotify] Failed to get albums: ${l.statusText}`);return console.log(`[Client Spotify] Fetched ${a.length} unique tracks for artist ${e}`),{tracks:a}}catch(t){return console.error(`[Client Spotify] Error getting all artist tracks for ${e}:`,t),null}},MC=async(e,t=10)=>{try{const r=await Iu(e);if(r&&r.length>0)return console.log("Using stored tracks from database"),{tracks:r.sort((o,a)=>(a.popularity||0)-(o.popularity||0)).slice(0,t)};await IC(e);const n=await Iu(e);return n&&n.length>0?{tracks:n.sort((o,a)=>(a.popularity||0)-(o.popularity||0)).slice(0,t)}:{tracks:[]}}catch(r){return console.error("Error getting artist top tracks:",r),{tracks:[]}}},DC=async()=>{try{const{data:{session:e}}=await ye.auth.getSession();if(!(e!=null&&e.provider_token))return console.log("No provider token available"),re.error("Please sign in with Spotify to see your top artists"),[];const t=await fetch("https://api.spotify.com/v1/me/top/artists?limit=10",{headers:{Authorization:`Bearer ${e.provider_token}`}});if(!t.ok)throw t.status===401?(re.error("Spotify session expired. Please sign in again."),await ye.auth.signOut()):re.error(`Failed to fetch your top artists (${t.status})`),new Error(`Error fetching top artists: ${t.statusText}`);const{items:r=[]}=await t.json();return r.map(o=>{var a,l;return{id:o.id,spotify_id:o.id,name:o.name,image_url:((l=(a=o.images)==null?void 0:a[0])==null?void 0:l.url)??null,genres:o.genres??[],popularity:o.popularity??void 0}})}catch(e){return console.error("Failed to fetch user's top artists:",e),[]}},OC=async e=>{try{if(!e.length)return console.log("No seed artists provided for recommendations"),[];const{data:{session:t}}=await ye.auth.getSession();if(!(t!=null&&t.provider_token))return console.log("No provider token available"),re.error("Please sign in with Spotify to get recommendations"),[];const r=await fetch(`https://api.spotify.com/v1/recommendations?seed_artists=${e.slice(0,5).join(",")}&limit=10`,{headers:{Authorization:`Bearer ${t.provider_token}`}});if(!r.ok)throw r.status===401?(re.error("Spotify session expired. Please sign in again."),await ye.auth.signOut()):re.error(`Failed to fetch recommendations (${r.status})`),new Error(`Error fetching recommendations: ${r.statusText}`);return(await r.json()).tracks||[]}catch(t){return console.error("Failed to fetch recommendations:",t),[]}},LC=async()=>{var e;try{console.log("Fetching top artists from Spotify...");const{data:{session:t}}=await ye.auth.getSession();if(!t)return console.error("No active session"),re.error("Please sign in to access your top artists"),[];if(!t.provider_token)return console.error("No Spotify provider token available"),re.error("Unable to access Spotify. Please reconnect your account."),[];console.log("Using provider token to fetch artists from Spotify");const r=await fetch("https://api.spotify.com/v1/me/top/artists?limit=20",{headers:{Authorization:`Bearer ${t.provider_token}`}});if(!r.ok)return r.status===401?(console.error("Spotify token expired or invalid:",r.status),re.error("Spotify access expired. Please sign in again."),await ye.auth.signOut()):r.status===403?(console.error("Spotify permission denied:",r.status),re.error("Missing permission to access your Spotify data")):(console.error("Spotify API error:",r.status,await r.text()),re.error(`Spotify API error (${r.status})`)),[];const n=await r.json();return console.log(`Found ${((e=n.items)==null?void 0:e.length)||0} top artists from Spotify`),n.items&&n.items.length>0&&FC(n.items),n.items.map(o=>{var a,l,i,c;return{id:o.id,name:o.name,image:((l=(a=o.images)==null?void 0:a[0])==null?void 0:l.url)||"/placeholder.svg",genres:o.genres||[],popularity:o.popularity,spotifyUrl:(i=o.external_urls)==null?void 0:i.spotify,followers:(c=o.followers)==null?void 0:c.total}})}catch(t){return console.error("Error fetching top artists:",t),re.error("Failed to load artists from Spotify"),[]}};async function FC(e){var t,r,n,o;try{for(const a of e){const l={id:a.id,name:a.name,image_url:(r=(t=a.images)==null?void 0:t[0])==null?void 0:r.url,genres:a.genres||[],popularity:a.popularity,spotify_id:a.id,spotify_url:(n=a.external_urls)==null?void 0:n.spotify,followers:(o=a.followers)==null?void 0:o.total,updated_at:new Date().toISOString()};try{const{data:i,error:c}=await ye.from("artists").select("id").eq("spotify_id",a.id).maybeSingle();if(c){console.error("Error checking artist in database:",c);continue}if(i){const{error:d}=await ye.from("artists").update(l).eq("spotify_id",a.id);d&&console.error("Error updating artist:",d)}else{const{error:d}=await ye.from("artists").insert(l);d&&console.error("Error inserting artist:",d)}}catch(i){console.error("Database error saving artist:",i)}}}catch(a){console.error("Error saving top artists to database:",a)}}const Po=({artist:e,className:t,showPopularity:r=!1,actions:n,source:o,isFollowed:a})=>{const[l,i]=m.useState(!1),c=()=>{if(!r||typeof e.popularity!="number")return null;const d=Math.round(e.popularity/100*5);return s.jsx("div",{className:"flex items-center mt-2 space-x-1",children:Array(5).fill(0).map((u,f)=>s.jsx(Ra,{size:14,className:ae(f<d?"fill-primary text-primary":"text-muted-foreground","transition-colors duration-300")},f))})};return s.jsxs("div",{className:ae("group block overflow-hidden rounded-xl transition-all","border border-white/10 bg-black/40 hover:border-white/30",t),children:[s.jsxs(Ee,{to:`/artists/${e.id}`,className:"block",children:[s.jsxs("div",{className:"relative aspect-square overflow-hidden bg-secondary/20",children:[s.jsx("div",{className:ae("absolute inset-0 bg-secondary/20 animate-pulse",l?"opacity-0":"opacity-100")}),e.image?s.jsx("img",{src:e.image,alt:e.name,className:ae("object-cover w-full h-full transition-all duration-500 group-hover:scale-105",l?"opacity-100 scale-100":"opacity-0 scale-110"),onLoad:()=>i(!0)}):s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx(im,{size:48,className:"text-white/20"})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o&&s.jsx(qt,{className:"absolute top-2 right-2 bg-black/70 text-xs",children:o}),a&&s.jsx(qt,{className:"absolute top-2 left-2 bg-primary text-xs",children:"Following"})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold text-lg transition-colors group-hover:text-primary truncate",children:e.name}),e.genres&&e.genres.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:e.genres.slice(0,2).map((d,u)=>s.jsx(qt,{variant:"outline",className:"text-xs bg-white/5 hover:bg-white/10 transition-colors",children:d},u))}),c(),typeof e.upcoming_shows=="number"&&s.jsxs("div",{className:"flex items-center mt-4 text-sm text-white/60",children:[s.jsx(mn,{size:14,className:"mr-2 opacity-70"}),e.upcoming_shows>0?`${e.upcoming_shows} upcoming ${e.upcoming_shows===1?"show":"shows"}`:"No upcoming shows"]})]})]}),n&&n.length>0&&s.jsx("div",{className:"p-4 pt-0 flex gap-2",children:n.map((d,u)=>s.jsxs(pe,{variant:d.variant||"default",onClick:f=>{f.preventDefault(),f.stopPropagation(),d.onClick()},className:"w-full",disabled:d.disabled,size:"sm",children:[d.icon,d.label]},u))})]})},$C=()=>{const e=jt(),{isAuthenticated:t,user:r}=pr(),[n,o]=m.useState(!1),[a,l]=m.useState("all");m.useEffect(()=>{(async()=>{var B;if(console.log("Checking auth status:",t?"Authenticated":"Not authenticated"),!t){console.log("User not authenticated, redirecting to login"),e("/auth");return}const{data:D}=await ye.auth.getSession(),I=!!((B=D.session)!=null&&B.provider_token);o(I),console.log("Provider token check:",I?"Token present":"No token"),I||console.log("No Spotify token found, but continuing to show manually followed artists")})()},[t,e,r]);const{data:i,isLoading:c,error:d,refetch:u}=at({queryKey:["myTopArtists",r==null?void 0:r.id],queryFn:LC,enabled:t&&n,retry:1,staleTime:1e3*60*10}),{data:f,isLoading:g,error:p,refetch:w}=at({queryKey:["followedArtists",r==null?void 0:r.id],queryFn:async()=>{if(!(r!=null&&r.id))throw new Error("User ID not available");const{data:E,error:D}=await ye.rpc("get_user_follows",{p_user_id:r.id});if(D)throw D;return E},enabled:t,retry:1,staleTime:1e3*60*5}),v=async(E,D)=>{var I;try{re.loading(`Syncing artist ${D}...`);const B=await fetch("/api/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({operation:"artist",artistId:E})});if(!B.ok){const V=await B.json();throw new Error(V.error||"Failed to sync artist")}const{data:$}=await B.json(),q=(I=$==null?void 0:$.data)==null?void 0:I.id;if(!q)throw new Error("Artist sync did not return valid ID");const{error:Z}=await ye.from("user_follows").upsert({user_id:r.id,artist_id:q,created_at:new Date().toISOString()},{onConflict:"user_id,artist_id"});if(Z)throw Z;re.dismiss(),re.success(`Now following ${D}`),w()}catch(B){re.dismiss();const $=B instanceof Error?B.message:"Unknown error";re.error(`Failed to follow artist: ${$}`),console.error("Error following artist:",B)}},y=async(E,D)=>{try{const{error:I}=await ye.from("user_follows").delete().eq("id",E);if(I)throw I;re.success(`Unfollowed ${D}`),w()}catch(I){const B=I instanceof Error?I.message:(I==null?void 0:I.message)||"Unknown error";re.error(`Failed to unfollow artist: ${B}`),console.error("Error unfollowing artist:",I)}};if(!t)return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsx("main",{className:"flex-grow flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Authentication Required"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Please sign in to view your artists"}),s.jsx(pe,{onClick:()=>e("/auth"),children:"Sign In"})]})}),s.jsx(et,{})]});const N=c||g,_=f&&f.length>0,j=i&&i.length>0,S=_||j;return N?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsx("main",{className:"flex-grow flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Cr,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"text-lg",children:"Loading your artists..."})]})}),s.jsx(et,{})]}):S?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsxs("main",{className:"flex-grow px-6 md:px-8 lg:px-12 py-8 md:py-12",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"Your Artists"}),s.jsx("p",{className:"text-muted-foreground",children:"Artists you follow and recommendations from Spotify"})]}),s.jsxs(Ec,{value:a,onChange:l,className:"mb-8",children:[s.jsxs(Ka,{children:[s.jsx(Ur,{value:"all",children:"All Artists"}),s.jsx(Ur,{value:"followed",disabled:!_,children:"Followed Artists"}),s.jsx(Ur,{value:"spotify",disabled:!j,children:"Spotify Recommendations"})]}),s.jsx(Vr,{value:"all",className:"mt-6",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[_&&f.map(E=>{var D;return s.jsx(Po,{artist:{id:E.artist.id,name:E.artist.name,image:E.artist.image_url,genres:((D=E.artist.genres)==null?void 0:D.slice(0,2))||[],upcoming_shows:void 0},actions:[{label:"Unfollow",onClick:()=>y(E.id,E.artist.name),variant:"outline"}],isFollowed:!0},`followed-${E.artist.id}`)}),n&&i&&i.filter(E=>!(f!=null&&f.some(D=>D.artist.id===E.id||D.artist.name.toLowerCase()===E.name.toLowerCase()))).map(E=>{var D;return s.jsx(Po,{artist:{id:E.id,name:E.name,image:E.image,genres:((D=E.genres)==null?void 0:D.slice(0,2))||[],upcoming_shows:void 0},actions:[{label:"Follow",onClick:()=>v(E.id,E.name),variant:"default",icon:s.jsx(hd,{className:"h-4 w-4 mr-2"})}],source:"Spotify"},`spotify-${E.id}`)})]})}),s.jsx(Vr,{value:"followed",className:"mt-6",children:_?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:f.map(E=>{var D;return s.jsx(Po,{artist:{id:E.artist.id,name:E.artist.name,image:E.artist.image_url,genres:((D=E.artist.genres)==null?void 0:D.slice(0,2))||[],upcoming_shows:void 0},actions:[{label:"Unfollow",onClick:()=>y(E.id,E.artist.name),variant:"outline"}],isFollowed:!0},E.artist.id)})}):s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{children:"You haven't followed any artists yet"}),s.jsx(pe,{className:"mt-4",onClick:()=>e("/artists"),children:"Browse Artists"})]})}),s.jsx(Vr,{value:"spotify",className:"mt-6",children:j?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:i.map(E=>{var D;return s.jsx(Po,{artist:{id:E.id,name:E.name,image:E.image,genres:((D=E.genres)==null?void 0:D.slice(0,2))||[],upcoming_shows:void 0},actions:[{label:"Follow",onClick:()=>v(E.id,E.name),variant:"default",icon:s.jsx(hd,{className:"h-4 w-4 mr-2"}),disabled:f==null?void 0:f.some(I=>I.artist.id===E.id||I.artist.name.toLowerCase()===E.name.toLowerCase())}],source:"Spotify",isFollowed:f==null?void 0:f.some(I=>I.artist.id===E.id||I.artist.name.toLowerCase()===E.name.toLowerCase())},E.id)})}):n?s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{children:"No Spotify recommendations available"}),s.jsxs(pe,{className:"mt-4",onClick:()=>u(),variant:"outline",children:[s.jsx(lm,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}):s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{children:"Connect your Spotify account to see recommendations"}),s.jsx(pe,{className:"mt-4",onClick:()=>e("/auth?provider=spotify"),children:"Connect Spotify"})]})})]})]}),s.jsx(et,{})]}):s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsx("main",{className:"flex-grow flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md p-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No Artists Found"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:n?"We couldn't find any top artists in your Spotify account or followed artists.":"You haven't followed any artists yet."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsx(pe,{onClick:()=>e("/artists"),children:"Browse Artists"}),!n&&s.jsx(pe,{variant:"outline",onClick:()=>e("/auth?provider=spotify"),children:"Connect Spotify"})]})]})}),s.jsx(et,{})]})},Cg=m.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ae("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Cg.displayName="Textarea";var Qa="Popover",[Ag,Ek]=Jt(Qa,[Kr]),so=Kr(),[BC,Jr]=Ag(Qa),kg=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:o,onOpenChange:a,modal:l=!1}=e,i=so(t),c=m.useRef(null),[d,u]=m.useState(!1),[f,g]=un({prop:n,defaultProp:o??!1,onChange:a,caller:Qa});return s.jsx(_a,{...i,children:s.jsx(BC,{scope:t,contentId:jr(),triggerRef:c,open:f,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(p=>!p),[g]),hasCustomAnchor:d,onCustomAnchorAdd:m.useCallback(()=>u(!0),[]),onCustomAnchorRemove:m.useCallback(()=>u(!1),[]),modal:l,children:r})})};kg.displayName=Qa;var Tg="PopoverAnchor",UC=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Jr(Tg,r),a=so(r),{onCustomAnchorAdd:l,onCustomAnchorRemove:i}=o;return m.useEffect(()=>(l(),()=>i()),[l,i]),s.jsx(Gs,{...a,...n,ref:t})});UC.displayName=Tg;var Rg="PopoverTrigger",Pg=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Jr(Rg,r),a=so(r),l=Oe(t,o.triggerRef),i=s.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Lg(o.open),...n,ref:l,onClick:ie(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:s.jsx(Gs,{asChild:!0,...a,children:i})});Pg.displayName=Rg;var kc="PopoverPortal",[VC,WC]=Ag(kc,{forceMount:void 0}),Ig=e=>{const{__scopePopover:t,forceMount:r,children:n,container:o}=e,a=Jr(kc,t);return s.jsx(VC,{scope:t,forceMount:r,children:s.jsx(Tt,{present:r||a.open,children:s.jsx(Sa,{asChild:!0,container:o,children:n})})})};Ig.displayName=kc;var Kn="PopoverContent",Mg=m.forwardRef((e,t)=>{const r=WC(Kn,e.__scopePopover),{forceMount:n=r.forceMount,...o}=e,a=Jr(Kn,e.__scopePopover);return s.jsx(Tt,{present:n||a.open,children:a.modal?s.jsx(HC,{...o,ref:t}):s.jsx(qC,{...o,ref:t})})});Mg.displayName=Kn;var zC=cn("PopoverContent.RemoveScroll"),HC=m.forwardRef((e,t)=>{const r=Jr(Kn,e.__scopePopover),n=m.useRef(null),o=Oe(t,n),a=m.useRef(!1);return m.useEffect(()=>{const l=n.current;if(l)return ac(l)},[]),s.jsx(Fa,{as:zC,allowPinchZoom:!0,children:s.jsx(Dg,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(e.onCloseAutoFocus,l=>{var i;l.preventDefault(),a.current||(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ie(e.onPointerDownOutside,l=>{const i=l.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0,d=i.button===2||c;a.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ie(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),qC=m.forwardRef((e,t)=>{const r=Jr(Kn,e.__scopePopover),n=m.useRef(!1),o=m.useRef(!1);return s.jsx(Dg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,i;(l=e.onCloseAutoFocus)==null||l.call(e,a),a.defaultPrevented||(n.current||(i=r.triggerRef.current)==null||i.focus(),a.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:a=>{var c,d;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=a.target;((d=r.triggerRef.current)==null?void 0:d.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Dg=m.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...f}=e,g=Jr(Kn,r),p=so(r);return oc(),s.jsx(Da,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:a,children:s.jsx(qs,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>g.onOpenChange(!1),children:s.jsx(Na,{"data-state":Lg(g.open),role:"dialog",id:g.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Og="PopoverClose",YC=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=Jr(Og,r);return s.jsx(Ce.button,{type:"button",...n,ref:t,onClick:ie(e.onClick,()=>o.onOpenChange(!1))})});YC.displayName=Og;var GC="PopoverArrow",ZC=m.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,o=so(r);return s.jsx(ja,{...o,...n,ref:t})});ZC.displayName=GC;function Lg(e){return e?"open":"closed"}var KC=kg,XC=Pg,QC=Ig,JC=Mg;const e2=KC,t2=XC,Il=m.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},o)=>s.jsx(QC,{children:s.jsx(JC,{ref:o,align:t,sideOffset:r,className:ae("z-50 w-72 rounded-md border border-white/10 bg-black p-4 text-white shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Il.displayName=Il.displayName;var be=function(){return be=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},be.apply(this,arguments)};function r2(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function Fg(e,t,r){for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function oo(e){return e.mode==="multiple"}function ao(e){return e.mode==="range"}function Ja(e){return e.mode==="single"}var n2={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function s2(e,t){return Dt(e,"LLLL y",t)}function o2(e,t){return Dt(e,"d",t)}function a2(e,t){return Dt(e,"LLLL",t)}function i2(e){return"".concat(e)}function l2(e,t){return Dt(e,"cccccc",t)}function c2(e,t){return Dt(e,"yyyy",t)}var d2=Object.freeze({__proto__:null,formatCaption:s2,formatDay:o2,formatMonthCaption:a2,formatWeekNumber:i2,formatWeekdayName:l2,formatYearCaption:c2}),u2=function(e,t,r){return Dt(e,"do MMMM (EEEE)",r)},f2=function(){return"Month: "},m2=function(){return"Go to next month"},h2=function(){return"Go to previous month"},p2=function(e,t){return Dt(e,"cccc",t)},g2=function(e){return"Week n. ".concat(e)},x2=function(){return"Year: "},v2=Object.freeze({__proto__:null,labelDay:u2,labelMonthDropdown:f2,labelNext:m2,labelPrevious:h2,labelWeekNumber:g2,labelWeekday:p2,labelYearDropdown:x2});function y2(){var e="buttons",t=n2,r=Gl,n={},o={},a=1,l={},i=new Date;return{captionLayout:e,classNames:t,formatters:d2,labels:v2,locale:r,modifiersClassNames:n,modifiers:o,numberOfMonths:a,styles:l,today:i,mode:"default"}}function w2(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,o=e.toMonth,a=e.fromDate,l=e.toDate;return n?a=bt(n):t&&(a=new Date(t,0,1)),o?l=ka(o):r&&(l=new Date(r,11,31)),{fromDate:a?Vn(a):void 0,toDate:l?Vn(l):void 0}}var $g=m.createContext(void 0);function b2(e){var t,r=e.initialProps,n=y2(),o=w2(r),a=o.fromDate,l=o.toDate,i=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;i!=="buttons"&&(!a||!l)&&(i="buttons");var c;(Ja(r)||oo(r)||ao(r))&&(c=r.onSelect);var d=be(be(be({},n),r),{captionLayout:i,classNames:be(be({},n.classNames),r.classNames),components:be({},r.components),formatters:be(be({},n.formatters),r.formatters),fromDate:a,labels:be(be({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:be(be({},n.modifiers),r.modifiers),modifiersClassNames:be(be({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:be(be({},n.styles),r.styles),toDate:l});return s.jsx($g.Provider,{value:d,children:e.children})}function Ye(){var e=m.useContext($g);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Bg(e){var t=Ye(),r=t.locale,n=t.classNames,o=t.styles,a=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:o.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function _2(e){return s.jsx("svg",be({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Ug(e){var t,r,n=e.onChange,o=e.value,a=e.children,l=e.caption,i=e.className,c=e.style,d=Ye(),u=(r=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:_2;return s.jsxs("div",{className:i,style:c,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:o,onChange:n,children:a}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[l,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function N2(e){var t,r=Ye(),n=r.fromDate,o=r.toDate,a=r.styles,l=r.locale,i=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,u=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});var f=[];if($b(n,o))for(var g=bt(n),p=n.getMonth();p<=o.getMonth();p++)f.push(ci(g,p));else for(var g=bt(new Date),p=0;p<=11;p++)f.push(ci(g,p));var w=function(y){var N=Number(y.target.value),_=ci(bt(e.displayMonth),N);e.onChange(_)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:Ug;return s.jsx(v,{name:"months","aria-label":u(),className:c.dropdown_month,style:a.dropdown_month,onChange:w,value:e.displayMonth.getMonth(),caption:i(e.displayMonth,{locale:l}),children:f.map(function(y){return s.jsx("option",{value:y.getMonth(),children:i(y,{locale:l})},y.getMonth())})})}function j2(e){var t,r=e.displayMonth,n=Ye(),o=n.fromDate,a=n.toDate,l=n.locale,i=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,g=[];if(!o)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var p=o.getFullYear(),w=a.getFullYear(),v=p;v<=w;v++)g.push(ud(Bf(new Date),v));var y=function(_){var j=ud(bt(r),Number(_.target.value));e.onChange(j)},N=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:Ug;return s.jsx(N,{name:"years","aria-label":f(),className:c.dropdown_year,style:i.dropdown_year,onChange:y,value:r.getFullYear(),caption:u(r,{locale:l}),children:g.map(function(_){return s.jsx("option",{value:_.getFullYear(),children:u(_,{locale:l})},_.getFullYear())})})}function S2(e,t){var r=m.useState(e),n=r[0],o=r[1],a=t===void 0?n:t;return[a,o]}function E2(e){var t=e.month,r=e.defaultMonth,n=e.today,o=t||r||n||new Date,a=e.toDate,l=e.fromDate,i=e.numberOfMonths,c=i===void 0?1:i;if(a&&zn(a,o)<0){var d=-1*(c-1);o=Kt(a,d)}return l&&zn(o,l)<0&&(o=l),bt(o)}function C2(){var e=Ye(),t=E2(e),r=S2(t,e.month),n=r[0],o=r[1],a=function(l){var i;if(!e.disableNavigation){var c=bt(l);o(c),(i=e.onMonthChange)===null||i===void 0||i.call(e,c)}};return[n,a]}function A2(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,o=bt(e),a=bt(Kt(o,n)),l=zn(a,o),i=[],c=0;c<l;c++){var d=Kt(o,c);i.push(d)}return r&&(i=i.reverse()),i}function k2(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,o=t.numberOfMonths,a=o===void 0?1:o,l=n?a:1,i=bt(e);if(!r)return Kt(i,l);var c=zn(r,e);if(!(c<a))return Kt(i,l)}}function T2(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,o=t.numberOfMonths,a=o===void 0?1:o,l=n?a:1,i=bt(e);if(!r)return Kt(i,-l);var c=zn(i,r);if(!(c<=0))return Kt(i,-l)}}var Vg=m.createContext(void 0);function R2(e){var t=Ye(),r=C2(),n=r[0],o=r[1],a=A2(n,t),l=k2(n,t),i=T2(n,t),c=function(f){return a.some(function(g){return Zl(f,g)})},d=function(f,g){c(f)||(g&&qf(f,g)?o(Kt(f,1+t.numberOfMonths*-1)):o(f))},u={currentMonth:n,displayMonths:a,goToMonth:o,goToDate:d,previousMonth:i,nextMonth:l,isDateDisplayed:c};return s.jsx(Vg.Provider,{value:u,children:e.children})}function io(){var e=m.useContext(Vg);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Mu(e){var t,r=Ye(),n=r.classNames,o=r.styles,a=r.components,l=io().goToMonth,i=function(u){l(Kt(u,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:Bg,d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:o.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:d}),s.jsx(N2,{onChange:i,displayMonth:e.displayMonth}),s.jsx(j2,{onChange:i,displayMonth:e.displayMonth})]})}function P2(e){return s.jsx("svg",be({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function I2(e){return s.jsx("svg",be({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ha=m.forwardRef(function(e,t){var r=Ye(),n=r.classNames,o=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var l=a.join(" "),i=be(be({},o.button_reset),o.button);return e.style&&Object.assign(i,e.style),s.jsx("button",be({},e,{ref:t,type:"button",className:l,style:i}))});function M2(e){var t,r,n=Ye(),o=n.dir,a=n.locale,l=n.classNames,i=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var g=d(e.previousMonth,{locale:a}),p=[l.nav_button,l.nav_button_previous].join(" "),w=u(e.nextMonth,{locale:a}),v=[l.nav_button,l.nav_button_next].join(" "),y=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:I2,N=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:P2;return s.jsxs("div",{className:l.nav,style:i.nav,children:[!e.hidePrevious&&s.jsx(ha,{name:"previous-month","aria-label":g,className:p,style:i.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:o==="rtl"?s.jsx(y,{className:l.nav_icon,style:i.nav_icon}):s.jsx(N,{className:l.nav_icon,style:i.nav_icon})}),!e.hideNext&&s.jsx(ha,{name:"next-month","aria-label":w,className:v,style:i.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:o==="rtl"?s.jsx(N,{className:l.nav_icon,style:i.nav_icon}):s.jsx(y,{className:l.nav_icon,style:i.nav_icon})})]})}function Du(e){var t=Ye().numberOfMonths,r=io(),n=r.previousMonth,o=r.nextMonth,a=r.goToMonth,l=r.displayMonths,i=l.findIndex(function(w){return Zl(e.displayMonth,w)}),c=i===0,d=i===l.length-1,u=t>1&&(c||!d),f=t>1&&(d||!c),g=function(){n&&a(n)},p=function(){o&&a(o)};return s.jsx(M2,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:o,previousMonth:n,onPreviousClick:g,onNextClick:p})}function D2(e){var t,r=Ye(),n=r.classNames,o=r.disableNavigation,a=r.styles,l=r.captionLayout,i=r.components,c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Bg,d;return o?d=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?d=s.jsx(Mu,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(Mu,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(Du,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Du,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:a.caption,children:d})}function O2(e){var t=Ye(),r=t.footer,n=t.styles,o=t.classNames.tfoot;return r?s.jsx("tfoot",{className:o,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function L2(e,t,r){for(var n=r?fn(new Date):cr(new Date,{locale:e,weekStartsOn:t}),o=[],a=0;a<7;a++){var l=pt(n,a);o.push(l)}return o}function F2(){var e=Ye(),t=e.classNames,r=e.styles,n=e.showWeekNumber,o=e.locale,a=e.weekStartsOn,l=e.ISOWeek,i=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=L2(o,a,l);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),d.map(function(u,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(u,{locale:o}),children:i(u,{locale:o})},f)})]})}function $2(){var e,t=Ye(),r=t.classNames,n=t.styles,o=t.components,a=(e=o==null?void 0:o.HeadRow)!==null&&e!==void 0?e:F2;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(a,{})})}function B2(e){var t=Ye(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var Tc=m.createContext(void 0);function U2(e){if(!oo(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Tc.Provider,{value:t,children:e.children})}return s.jsx(V2,{initialProps:e.initialProps,children:e.children})}function V2(e){var t=e.initialProps,r=e.children,n=t.selected,o=t.min,a=t.max,l=function(d,u,f){var g,p;(g=t.onDayClick)===null||g===void 0||g.call(t,d,u,f);var w=!!(u.selected&&o&&(n==null?void 0:n.length)===o);if(!w){var v=!!(!u.selected&&a&&(n==null?void 0:n.length)===a);if(!v){var y=n?Fg([],n):[];if(u.selected){var N=y.findIndex(function(_){return wt(d,_)});y.splice(N,1)}else y.push(d);(p=t.onSelect)===null||p===void 0||p.call(t,y,d,u,f)}}},i={disabled:[]};n&&i.disabled.push(function(d){var u=a&&n.length>a-1,f=n.some(function(g){return wt(g,d)});return!!(u&&!f)});var c={selected:n,onDayClick:l,modifiers:i};return s.jsx(Tc.Provider,{value:c,children:r})}function Rc(){var e=m.useContext(Tc);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function W2(e,t){var r=t||{},n=r.from,o=r.to;return n&&o?wt(o,e)&&wt(n,e)?void 0:wt(o,e)?{from:o,to:void 0}:wt(n,e)?void 0:pl(n,e)?{from:e,to:o}:{from:n,to:e}:o?pl(e,o)?{from:o,to:e}:{from:e,to:o}:n?qf(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var Pc=m.createContext(void 0);function z2(e){if(!ao(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(Pc.Provider,{value:t,children:e.children})}return s.jsx(H2,{initialProps:e.initialProps,children:e.children})}function H2(e){var t=e.initialProps,r=e.children,n=t.selected,o=n||{},a=o.from,l=o.to,i=t.min,c=t.max,d=function(p,w,v){var y,N;(y=t.onDayClick)===null||y===void 0||y.call(t,p,w,v);var _=W2(p,n);(N=t.onSelect)===null||N===void 0||N.call(t,_,p,w,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(u.range_start=[a],l?(u.range_end=[l],wt(a,l)||(u.range_middle=[{after:a,before:l}])):u.range_end=[a]):l&&(u.range_start=[l],u.range_end=[l]),i&&(a&&!l&&u.disabled.push({after:ii(a,i-1),before:pt(a,i-1)}),a&&l&&u.disabled.push({after:a,before:pt(a,i-1)}),!a&&l&&u.disabled.push({after:ii(l,i-1),before:pt(l,i-1)})),c){if(a&&!l&&(u.disabled.push({before:pt(a,-c+1)}),u.disabled.push({after:pt(a,c-1)})),a&&l){var f=sr(l,a)+1,g=c-f;u.disabled.push({before:ii(a,g)}),u.disabled.push({after:pt(l,g)})}!a&&l&&(u.disabled.push({before:pt(l,-c+1)}),u.disabled.push({after:pt(l,c-1)}))}return s.jsx(Pc.Provider,{value:{selected:n,onDayClick:d,modifiers:u},children:r})}function Ic(){var e=m.useContext(Pc);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Vo(e){return Array.isArray(e)?Fg([],e):e!==void 0?[e]:[]}function q2(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],o=r[1];t[n]=Vo(o)}),t}var Qt;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Qt||(Qt={}));var Y2=Qt.Selected,wr=Qt.Disabled,G2=Qt.Hidden,Z2=Qt.Today,el=Qt.RangeEnd,tl=Qt.RangeMiddle,rl=Qt.RangeStart,K2=Qt.Outside;function X2(e,t,r){var n,o=(n={},n[Y2]=Vo(e.selected),n[wr]=Vo(e.disabled),n[G2]=Vo(e.hidden),n[Z2]=[e.today],n[el]=[],n[tl]=[],n[rl]=[],n[K2]=[],n);return e.fromDate&&o[wr].push({before:e.fromDate}),e.toDate&&o[wr].push({after:e.toDate}),oo(e)?o[wr]=o[wr].concat(t.modifiers[wr]):ao(e)&&(o[wr]=o[wr].concat(r.modifiers[wr]),o[rl]=r.modifiers[rl],o[tl]=r.modifiers[tl],o[el]=r.modifiers[el]),o}var Wg=m.createContext(void 0);function Q2(e){var t=Ye(),r=Rc(),n=Ic(),o=X2(t,r,n),a=q2(t.modifiers),l=be(be({},o),a);return s.jsx(Wg.Provider,{value:l,children:e.children})}function zg(){var e=m.useContext(Wg);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function J2(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function eA(e){return!!(e&&typeof e=="object"&&"from"in e)}function tA(e){return!!(e&&typeof e=="object"&&"after"in e)}function rA(e){return!!(e&&typeof e=="object"&&"before"in e)}function nA(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function sA(e,t){var r,n=t.from,o=t.to;if(n&&o){var a=sr(o,n)<0;a&&(r=[o,n],n=r[0],o=r[1]);var l=sr(e,n)>=0&&sr(o,e)>=0;return l}return o?wt(o,e):n?wt(n,e):!1}function oA(e){return ql(e)}function aA(e){return Array.isArray(e)&&e.every(ql)}function iA(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(oA(r))return wt(e,r);if(aA(r))return r.includes(e);if(eA(r))return sA(e,r);if(nA(r))return r.dayOfWeek.includes(e.getDay());if(J2(r)){var n=sr(r.before,e),o=sr(r.after,e),a=n>0,l=o<0,i=pl(r.before,r.after);return i?l&&a:a||l}return tA(r)?sr(e,r.after)>0:rA(r)?sr(r.before,e)>0:typeof r=="function"?r(e):!1})}function Mc(e,t,r){var n=Object.keys(t).reduce(function(a,l){var i=t[l];return iA(e,i)&&a.push(l),a},[]),o={};return n.forEach(function(a){return o[a]=!0}),r&&!Zl(e,r)&&(o.outside=!0),o}function lA(e,t){for(var r=bt(e[0]),n=ka(e[e.length-1]),o,a,l=r;l<=n;){var i=Mc(l,t),c=!i.disabled&&!i.hidden;if(!c){l=pt(l,1);continue}if(i.selected)return l;i.today&&!a&&(a=l),o||(o=l),l=pt(l,1)}return a||o}var cA=365;function Hg(e,t){var r=t.moveBy,n=t.direction,o=t.context,a=t.modifiers,l=t.retry,i=l===void 0?{count:0,lastFocused:e}:l,c=o.weekStartsOn,d=o.fromDate,u=o.toDate,f=o.locale,g={day:pt,week:hl,month:Kt,year:Sw,startOfWeek:function(y){return o.ISOWeek?fn(y):cr(y,{locale:f,weekStartsOn:c})},endOfWeek:function(y){return o.ISOWeek?Uf(y):Yl(y,{locale:f,weekStartsOn:c})}},p=g[r](e,n==="after"?1:-1);n==="before"&&d?p=Ew([d,p]):n==="after"&&u&&(p=Cw([u,p]));var w=!0;if(a){var v=Mc(p,a);w=!v.disabled&&!v.hidden}return w?p:i.count>cA?i.lastFocused:Hg(p,{moveBy:r,direction:n,context:o,modifiers:a,retry:be(be({},i),{count:i.count+1})})}var qg=m.createContext(void 0);function dA(e){var t=io(),r=zg(),n=m.useState(),o=n[0],a=n[1],l=m.useState(),i=l[0],c=l[1],d=lA(t.displayMonths,r),u=o??(i&&t.isDateDisplayed(i))?i:d,f=function(){c(o),a(void 0)},g=function(y){a(y)},p=Ye(),w=function(y,N){if(o){var _=Hg(o,{moveBy:y,direction:N,context:p,modifiers:r});wt(o,_)||(t.goToDate(_,o),g(_))}},v={focusedDay:o,focusTarget:u,blur:f,focus:g,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return s.jsx(qg.Provider,{value:v,children:e.children})}function Dc(){var e=m.useContext(qg);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function uA(e,t){var r=zg(),n=Mc(e,r,t);return n}var Oc=m.createContext(void 0);function fA(e){if(!Ja(e.initialProps)){var t={selected:void 0};return s.jsx(Oc.Provider,{value:t,children:e.children})}return s.jsx(mA,{initialProps:e.initialProps,children:e.children})}function mA(e){var t=e.initialProps,r=e.children,n=function(a,l,i){var c,d,u;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,l,i),l.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,a,l,i);return}(u=t.onSelect)===null||u===void 0||u.call(t,a,a,l,i)},o={selected:t.selected,onDayClick:n};return s.jsx(Oc.Provider,{value:o,children:r})}function Yg(){var e=m.useContext(Oc);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function hA(e,t){var r=Ye(),n=Yg(),o=Rc(),a=Ic(),l=Dc(),i=l.focusDayAfter,c=l.focusDayBefore,d=l.focusWeekAfter,u=l.focusWeekBefore,f=l.blur,g=l.focus,p=l.focusMonthBefore,w=l.focusMonthAfter,v=l.focusYearBefore,y=l.focusYearAfter,N=l.focusStartOfWeek,_=l.focusEndOfWeek,j=function(A){var P,O,G,X;Ja(r)?(P=n.onDayClick)===null||P===void 0||P.call(n,e,t,A):oo(r)?(O=o.onDayClick)===null||O===void 0||O.call(o,e,t,A):ao(r)?(G=a.onDayClick)===null||G===void 0||G.call(a,e,t,A):(X=r.onDayClick)===null||X===void 0||X.call(r,e,t,A)},S=function(A){var P;g(e),(P=r.onDayFocus)===null||P===void 0||P.call(r,e,t,A)},E=function(A){var P;f(),(P=r.onDayBlur)===null||P===void 0||P.call(r,e,t,A)},D=function(A){var P;(P=r.onDayMouseEnter)===null||P===void 0||P.call(r,e,t,A)},I=function(A){var P;(P=r.onDayMouseLeave)===null||P===void 0||P.call(r,e,t,A)},B=function(A){var P;(P=r.onDayPointerEnter)===null||P===void 0||P.call(r,e,t,A)},$=function(A){var P;(P=r.onDayPointerLeave)===null||P===void 0||P.call(r,e,t,A)},q=function(A){var P;(P=r.onDayTouchCancel)===null||P===void 0||P.call(r,e,t,A)},Z=function(A){var P;(P=r.onDayTouchEnd)===null||P===void 0||P.call(r,e,t,A)},V=function(A){var P;(P=r.onDayTouchMove)===null||P===void 0||P.call(r,e,t,A)},Y=function(A){var P;(P=r.onDayTouchStart)===null||P===void 0||P.call(r,e,t,A)},L=function(A){var P;(P=r.onDayKeyUp)===null||P===void 0||P.call(r,e,t,A)},M=function(A){var P;switch(A.key){case"ArrowLeft":A.preventDefault(),A.stopPropagation(),r.dir==="rtl"?i():c();break;case"ArrowRight":A.preventDefault(),A.stopPropagation(),r.dir==="rtl"?c():i();break;case"ArrowDown":A.preventDefault(),A.stopPropagation(),d();break;case"ArrowUp":A.preventDefault(),A.stopPropagation(),u();break;case"PageUp":A.preventDefault(),A.stopPropagation(),A.shiftKey?v():p();break;case"PageDown":A.preventDefault(),A.stopPropagation(),A.shiftKey?y():w();break;case"Home":A.preventDefault(),A.stopPropagation(),N();break;case"End":A.preventDefault(),A.stopPropagation(),_();break}(P=r.onDayKeyDown)===null||P===void 0||P.call(r,e,t,A)},T={onClick:j,onFocus:S,onBlur:E,onKeyDown:M,onKeyUp:L,onMouseEnter:D,onMouseLeave:I,onPointerEnter:B,onPointerLeave:$,onTouchCancel:q,onTouchEnd:Z,onTouchMove:V,onTouchStart:Y};return T}function pA(){var e=Ye(),t=Yg(),r=Rc(),n=Ic(),o=Ja(e)?t.selected:oo(e)?r.selected:ao(e)?n.selected:void 0;return o}function gA(e){return Object.values(Qt).includes(e)}function xA(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var o=e.modifiersClassNames[n];if(o)r.push(o);else if(gA(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function vA(e,t){var r=be({},e.styles.day);return Object.keys(t).forEach(function(n){var o;r=be(be({},r),(o=e.modifiersStyles)===null||o===void 0?void 0:o[n])}),r}function yA(e,t,r){var n,o,a,l=Ye(),i=Dc(),c=uA(e,t),d=hA(e,c),u=pA(),f=!!(l.onDayClick||l.mode!=="default");m.useEffect(function(){var D;c.outside||i.focusedDay&&f&&wt(i.focusedDay,e)&&((D=r.current)===null||D===void 0||D.focus())},[i.focusedDay,e,r,f,c.outside]);var g=xA(l,c).join(" "),p=vA(l,c),w=!!(c.outside&&!l.showOutsideDays||c.hidden),v=(a=(o=l.components)===null||o===void 0?void 0:o.DayContent)!==null&&a!==void 0?a:B2,y=s.jsx(v,{date:e,displayMonth:t,activeModifiers:c}),N={style:p,className:g,children:y,role:"gridcell"},_=i.focusTarget&&wt(i.focusTarget,e)&&!c.outside,j=i.focusedDay&&wt(i.focusedDay,e),S=be(be(be({},N),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=j||_?0:-1,n)),d),E={isButton:f,isHidden:w,activeModifiers:c,selectedDays:u,buttonProps:S,divProps:N};return E}function wA(e){var t=m.useRef(null),r=yA(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(ha,be({name:"day",ref:t},r.buttonProps)):s.jsx("div",be({},r.divProps))}function bA(e){var t=e.number,r=e.dates,n=Ye(),o=n.onWeekNumberClick,a=n.styles,l=n.classNames,i=n.locale,c=n.labels.labelWeekNumber,d=n.formatters.formatWeekNumber,u=d(Number(t),{locale:i});if(!o)return s.jsx("span",{className:l.weeknumber,style:a.weeknumber,children:u});var f=c(Number(t),{locale:i}),g=function(p){o(t,r,p)};return s.jsx(ha,{name:"week-number","aria-label":f,className:l.weeknumber,style:a.weeknumber,onClick:g,children:u})}function _A(e){var t,r,n=Ye(),o=n.styles,a=n.classNames,l=n.showWeekNumber,i=n.components,c=(t=i==null?void 0:i.Day)!==null&&t!==void 0?t:wA,d=(r=i==null?void 0:i.WeekNumber)!==null&&r!==void 0?r:bA,u;return l&&(u=s.jsx("td",{className:a.cell,style:o.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:a.row,style:o.row,children:[u,e.dates.map(function(f){return s.jsx("td",{className:a.cell,style:o.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},Db(f))})]})}function Ou(e,t,r){for(var n=r!=null&&r.ISOWeek?Uf(t):Yl(t,r),o=r!=null&&r.ISOWeek?fn(e):cr(e,r),a=sr(n,o),l=[],i=0;i<=a;i++)l.push(pt(o,i));var c=l.reduce(function(d,u){var f=r!=null&&r.ISOWeek?Vf(u):zf(u,r),g=d.find(function(p){return p.weekNumber===f});return g?(g.dates.push(u),d):(d.push({weekNumber:f,dates:[u]}),d)},[]);return c}function NA(e,t){var r=Ou(bt(e),ka(e),t);if(t!=null&&t.useFixedWeeks){var n=Lb(e,t);if(n<6){var o=r[r.length-1],a=o.dates[o.dates.length-1],l=hl(a,6-n),i=Ou(hl(a,1),l,t);r.push.apply(r,i)}}return r}function jA(e){var t,r,n,o=Ye(),a=o.locale,l=o.classNames,i=o.styles,c=o.hideHead,d=o.fixedWeeks,u=o.components,f=o.weekStartsOn,g=o.firstWeekContainsDate,p=o.ISOWeek,w=NA(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:a,weekStartsOn:f,firstWeekContainsDate:g}),v=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:$2,y=(r=u==null?void 0:u.Row)!==null&&r!==void 0?r:_A,N=(n=u==null?void 0:u.Footer)!==null&&n!==void 0?n:O2;return s.jsxs("table",{id:e.id,className:l.table,style:i.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(v,{}),s.jsx("tbody",{className:l.tbody,style:i.tbody,children:w.map(function(_){return s.jsx(y,{displayMonth:e.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),s.jsx(N,{displayMonth:e.displayMonth})]})}function SA(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var EA=SA()?m.useLayoutEffect:m.useEffect,nl=!1,CA=0;function Lu(){return"react-day-picker-".concat(++CA)}function AA(e){var t,r=e??(nl?Lu():null),n=m.useState(r),o=n[0],a=n[1];return EA(function(){o===null&&a(Lu())},[]),m.useEffect(function(){nl===!1&&(nl=!0)},[]),(t=e??o)!==null&&t!==void 0?t:void 0}function kA(e){var t,r,n=Ye(),o=n.dir,a=n.classNames,l=n.styles,i=n.components,c=io().displayMonths,d=AA(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),u=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],g=l.month,p=e.displayIndex===0,w=e.displayIndex===c.length-1,v=!p&&!w;o==="rtl"&&(t=[p,w],w=t[0],p=t[1]),p&&(f.push(a.caption_start),g=be(be({},g),l.caption_start)),w&&(f.push(a.caption_end),g=be(be({},g),l.caption_end)),v&&(f.push(a.caption_between),g=be(be({},g),l.caption_between));var y=(r=i==null?void 0:i.Caption)!==null&&r!==void 0?r:D2;return s.jsxs("div",{className:f.join(" "),style:g,children:[s.jsx(y,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(jA,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function TA(e){var t=Ye(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function RA(e){var t,r,n=e.initialProps,o=Ye(),a=Dc(),l=io(),i=m.useState(!1),c=i[0],d=i[1];m.useEffect(function(){o.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),d(!0)))},[o.initialFocus,c,a.focus,a.focusTarget,a]);var u=[o.classNames.root,o.className];o.numberOfMonths>1&&u.push(o.classNames.multiple_months),o.showWeekNumber&&u.push(o.classNames.with_weeknumber);var f=be(be({},o.styles.root),o.style),g=Object.keys(n).filter(function(w){return w.startsWith("data-")}).reduce(function(w,v){var y;return be(be({},w),(y={},y[v]=n[v],y))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:TA;return s.jsx("div",be({className:u.join(" "),style:f,dir:o.dir,id:o.id,nonce:n.nonce,title:n.title,lang:n.lang},g,{children:s.jsx(p,{children:l.displayMonths.map(function(w,v){return s.jsx(kA,{displayIndex:v,displayMonth:w},v)})})}))}function PA(e){var t=e.children,r=r2(e,["children"]);return s.jsx(b2,{initialProps:r,children:s.jsx(R2,{children:s.jsx(fA,{initialProps:r,children:s.jsx(U2,{initialProps:r,children:s.jsx(z2,{initialProps:r,children:s.jsx(Q2,{children:s.jsx(dA,{children:t})})})})})})})}function IA(e){return s.jsx(PA,be({},e,{children:s.jsx(RA,{initialProps:e})}))}function Gg({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(IA,{showOutsideDays:r,className:ae("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ae(xl({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ae(xl({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...o})=>s.jsx(S0,{className:"h-4 w-4"}),IconRight:({...o})=>s.jsx(wn,{className:"h-4 w-4"})},...n})}Gg.displayName="Calendar";const MA=()=>{var y,N,_;const e=jt(),[t,r]=m.useState(void 0),[n,o]=m.useState(""),[a,l]=m.useState(null),[i,c]=m.useState({name:"",venue:"",city:"",state:"",country:"USA",description:""}),{data:d,isLoading:u}=at({queryKey:["artistSearch",n],queryFn:()=>_C(n),enabled:n.length>2}),f=((y=d==null?void 0:d.artists)==null?void 0:y.items)||[],g=j=>{const{name:S,value:E}=j.target;c(D=>({...D,[S]:E}))},p=j=>{l(j),o(""),c(S=>({...S,name:`${j.name} Concert`}))},w=()=>{l(null)},v=async j=>{var E,D,I;if(j.preventDefault(),!a){re.error("Please select an artist");return}if(!t){re.error("Please select a date");return}if(!i.venue||!i.city||!i.state){re.error("Please fill in all required fields");return}const S={...i,artist:{id:a.id,name:a.name,image_url:(D=(E=a.images)==null?void 0:E[0])==null?void 0:D.url,spotify_id:a.id,genres:a.genres,popularity:a.popularity},date:t==null?void 0:t.toISOString()};console.log("Submitting show data to API:",S);try{const B=await fetch("/api/shows/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!B.ok){const Z=await B.json();throw new Error(Z.error||`API Error: ${B.status}`)}const $=await B.json();re.success("Show created successfully!"),console.log("API Response:",$);const q=(I=$.show)!=null&&I.id?`/show/${$.show.id}`:"/shows";setTimeout(()=>{e(q)},1500)}catch(B){console.error("Error creating show:",B),re.error(`Failed to create show: ${B instanceof Error?B.message:"Unknown error"}`)}};return s.jsxs("form",{onSubmit:v,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(It,{htmlFor:"artist",children:"Artist"}),a?s.jsxs("div",{className:"flex items-center mt-2 p-2 border border-border rounded-md bg-secondary/30",children:[((_=(N=a.images)==null?void 0:N[0])==null?void 0:_.url)&&s.jsx("img",{src:a.images[0].url,alt:a.name,className:"w-10 h-10 rounded-full object-cover mr-3"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:a.name}),a.genres&&a.genres.length>0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:a.genres.slice(0,2).join(", ")})]}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",onClick:w,children:s.jsx(Jl,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"relative",children:[s.jsx(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(ot,{id:"artist",placeholder:"Search for an artist...",className:"pl-10",value:n,onChange:j=>o(j.target.value)}),n.length>2&&s.jsx("div",{className:"absolute z-10 mt-1 w-full bg-popover rounded-md shadow-md border border-border",children:u?s.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Loading..."}):f.length===0?s.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No artists found"}):s.jsx("ul",{className:"max-h-60 overflow-y-auto",children:f.map(j=>{var S,E;return s.jsxs("li",{className:"flex items-center p-2 hover:bg-accent cursor-pointer",onClick:()=>p(j),children:[(E=(S=j.images)==null?void 0:S[0])!=null&&E.url?s.jsx("img",{src:j.images[0].url,alt:j.name,className:"w-8 h-8 rounded-full object-cover mr-3"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center mr-3",children:s.jsx("span",{className:"text-xs",children:j.name.charAt(0)})}),s.jsx("span",{children:j.name})]},j.id)})})})]})]}),s.jsxs("div",{children:[s.jsx(It,{htmlFor:"name",children:"Show Name"}),s.jsx(ot,{id:"name",name:"name",value:i.name,onChange:g,placeholder:"Enter show name",required:!0})]}),s.jsxs("div",{children:[s.jsx(It,{htmlFor:"date",children:"Date"}),s.jsxs(e2,{children:[s.jsx(t2,{asChild:!0,children:s.jsxs(pe,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(dr,{className:"mr-2 h-4 w-4"}),t?Dt(t,"PPP"):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(Il,{className:"w-auto p-0",children:s.jsx(Gg,{mode:"single",selected:t,onSelect:r,initialFocus:!0})})]})]}),s.jsxs("div",{children:[s.jsx(It,{htmlFor:"venue",children:"Venue"}),s.jsx(ot,{id:"venue",name:"venue",value:i.venue,onChange:g,placeholder:"Enter venue name",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(It,{htmlFor:"city",children:"City"}),s.jsx(ot,{id:"city",name:"city",value:i.city,onChange:g,placeholder:"Enter city",required:!0})]}),s.jsxs("div",{children:[s.jsx(It,{htmlFor:"state",children:"State"}),s.jsx(ot,{id:"state",name:"state",value:i.state,onChange:g,placeholder:"Enter state",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(It,{htmlFor:"description",children:"Description (Optional)"}),s.jsx(Cg,{id:"description",name:"description",value:i.description,onChange:g,placeholder:"Enter show description",className:"resize-none",rows:4})]})]}),s.jsx(pe,{type:"submit",className:"w-full",children:"Create Show"})]})},DA=()=>{const e=jt(),{isAuthenticated:t}=pr();return t?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsx("main",{className:"flex-grow px-6 md:px-8 lg:px-12 py-12",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs(pe,{variant:"ghost",className:"mb-6",onClick:()=>e(-1),children:[s.jsx(ss,{className:"mr-2 h-4 w-4"}),"Back"]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Create a New Show"}),s.jsx("p",{className:"text-muted-foreground",children:"Add a new concert to the platform and let fans vote on the setlist"})]}),s.jsx("div",{className:"bg-card border border-border rounded-xl p-6 md:p-8",children:s.jsx(MA,{})})]})}),s.jsx(et,{})]}):(e("/login"),null)},OA=()=>{const e=mr();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background text-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-muted-foreground mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary hover:text-primary/80 underline",children:"Return to Home"})]})})};async function LA(e){var t,r,n,o,a,l,i,c,d;try{console.log(`Fetching artist details for ID: ${e}`);const{data:u,error:f}=await ye.from("artists").select("*").or(`id.eq.${e},ticketmaster_id.eq.${e}`).single();if(u&&!f&&!(!u.updated_at||new Date(u.updated_at).getTime()<Date.now()-864e5))return{...u,upcomingShows:0};let g;const p=e.startsWith("tm-")?e.replace("tm-",""):e;try{g=await Hn(`attractions/${p}.json`)}catch{const _=await Hn("attractions.json",{keyword:e.startsWith("tm-")?decodeURIComponent(e.replace("tm-","")).replace(/-/g," "):e});if(((r=(t=_._embedded)==null?void 0:t.attractions)==null?void 0:r.length)>0)g=_._embedded.attractions[0];else throw new Error("Artist not found in Ticketmaster")}if(!g)throw new Error("Failed to fetch artist data from Ticketmaster");const w={name:g.name,image_url:((o=(n=g.images)==null?void 0:n.find(N=>N.ratio==="16_9"&&N.width>500))==null?void 0:o.url)||null,genres:[],ticketmaster_id:g.id,url:g.url||null,spotify_id:null,spotify_url:null,followers:null,popularity:null,stored_tracks:null,setlist_fm_id:null,setlist_fm_mbid:null};if(((a=g.classifications)==null?void 0:a.length)>0){const N=g.classifications[0],_=[];(l=N.genre)!=null&&l.name&&_.push(N.genre.name),(i=N.subGenre)!=null&&i.name&&_.push(N.subGenre.name),w.genres=_}try{const N=await Sg(w.name);if(N!=null&&N.id){w.spotify_id=N.id,w.spotify_url=((c=N.external_urls)==null?void 0:c.spotify)||null,w.popularity=N.popularity||null,w.followers=((d=N.followers)==null?void 0:d.total)||null;const{tracks:_}=await MC(N.id);(_==null?void 0:_.length)>0&&(w.stored_tracks=_.map(j=>({id:j.id,name:j.name,duration_ms:j.duration_ms,popularity:j.popularity,preview_url:j.preview_url})))}}catch(N){console.error(`Error fetching Spotify details for ${w.name}:`,N)}const{data:v,error:y}=await ye.from("artists").upsert(w).select().single();if(y)throw console.error("Error upserting artist data:",y),re.error("Error saving artist data"),y;if(!v)throw new Error("Failed to upsert artist data");return{...v,upcomingShows:0}}catch(u){throw console.error("Error in fetchArtistById:",u),u}}const Lr=(e,t,r,n,o)=>{const a={step:t,source:r,message:n,timestamp:new Date,details:o};return e.errors.push(a),console.error(`❌ ERROR at ${t} (${r}): ${n}`,o||""),a},Io=(e,t,r,n)=>{const o={step:t,message:r,timestamp:new Date,details:n};return e.successes.push(o),console.log(`✅ SUCCESS at ${t}: ${r}`,""),o};async function FA(e){console.log(`ℹ️ INFO: Starting artist tracks test for artist ID: ${e.artistId} `);try{let t;try{const{data:r,error:n}=await ye.from("artists").select("*").eq("id",e.artistId).maybeSingle();n?(Lr(e,"Get Artist","Database",`Failed to fetch artist from database: ${n.message}`,n),console.log("Will try API fetch instead since database fetch failed")):r&&(t=r,Io(e,"Get Artist",`Successfully fetched artist from database: ${t.name}`))}catch(r){Lr(e,"Get Artist","Database",`Error querying database: ${r.message}`,r),console.log("Will try API fetch instead due to database error")}if(!t)try{if(t=await LA(e.artistId),!t)return Lr(e,"Get Artist","API",`Artist not found with ID: ${e.artistId}`),{success:!1,message:`Artist not found with ID: ${e.artistId}`,artistId:e.artistId,errors:e.errors,successes:e.successes,startTime:new Date,endTime:new Date,completed:!0,supabase:e.supabase};Io(e,"Get Artist",`Successfully fetched artist from API: ${t.name}`)}catch(r){return Lr(e,"Get Artist","API",`Failed to fetch artist from API: ${r.message}`,r),{success:!1,message:`Failed to fetch artist: ${r.message}`,artistId:e.artistId,errors:e.errors,successes:e.successes,startTime:new Date,endTime:new Date,completed:!0,supabase:e.supabase}}if(t.stored_tracks&&Array.isArray(t.stored_tracks)&&t.stored_tracks.length>0)return Io(e,"Check Tracks",`Artist has ${t.stored_tracks.length} tracks stored`),{success:!0,message:`Artist ${t.name} has ${t.stored_tracks.length} tracks stored`,artistId:e.artistId,errors:e.errors,successes:e.successes,startTime:new Date,endTime:new Date,completed:!0,supabase:e.supabase};if(t.spotify_id){Lr(e,"Check Tracks","API","Artist has Spotify ID but no stored tracks. Should trigger track fetch.");try{const r=await Sg(t.name);r&&r.id&&(Io(e,"Spotify Lookup",`Found Spotify artist ID: ${r.id}`),e.spotifyArtistId=r.id)}catch(r){Lr(e,"Spotify Lookup","API",`Failed to lookup Spotify artist: ${r.message}`,r)}return{success:!1,message:`Artist has Spotify ID (${t.spotify_id}) but no stored tracks`,artistId:e.artistId,errors:e.errors,successes:e.successes,startTime:new Date,endTime:new Date,completed:!0,supabase:e.supabase}}else return Lr(e,"Check Tracks","API","Artist has no Spotify ID and no stored tracks."),{success:!1,message:"Artist has no Spotify ID or stored tracks",artistId:e.artistId,errors:e.errors,successes:e.successes,startTime:new Date,endTime:new Date,completed:!0,supabase:e.supabase}}catch(t){return Lr(e,"Artist Tracks Test","Client",`Error running artist tracks test: ${t.message}`,t),{success:!1,message:`Error running artist tracks test: ${t.message}`,artistId:e.artistId,errors:e.errors,successes:e.successes,startTime:new Date,endTime:new Date,completed:!0,supabase:e.supabase}}}const Zg="K8vZ917GtG0",sl="Our Last Night";async function $A(e){const t=e||Zg;console.log("Starting user journey test for artist ID:",t);const r={artistId:t,spotifyArtistId:null,supabase:ye,errors:[],successes:[]},n={startTime:new Date,endTime:null,errors:[],successes:[],completed:!1,artistId:t,supabase:ye};try{console.log(`Running artist tracks test for: ${t}`);const o=await FA(r);n.errors=r.errors,n.successes=r.successes,n.success=o.success,n.message=o.message,o.success?console.log("Artist tracks test succeeded:",o.message):console.error("Artist tracks test failed:",o.message),n.completed=!0}catch(o){console.error("Error running user journey test:",o),n.errors.push({step:"Global",source:"Client",message:o instanceof Error?o.message:"Unknown error",timestamp:new Date,details:o})}finally{return n.endTime=new Date,n.completed=!0,console.log(`Test completed with ${n.errors.length} errors and ${n.successes.length} successes`),n}}const BA=({customArtistId:e,customArtistName:t})=>{var i;const[r,n]=m.useState(null),[o,a]=m.useState(!1);m.useEffect(()=>(e&&n(null),()=>{}),[e]);const l=async()=>{a(!0),n(null);try{console.log(`Running test with artist ID: ${e||"default"}`);const c=await $A(e);n(c)}catch(c){console.error("Error running test:",c)}finally{a(!1)}};return s.jsxs(We,{className:"w-full max-w-4xl",children:[s.jsxs(ut,{children:[s.jsxs(Nt,{className:"flex justify-between items-center",children:["User Journey Test",r&&s.jsx(qt,{variant:r.errors.length===0?"default":"destructive",className:"ml-2",children:r.errors.length===0?"All Tests Passed":`${r.errors.length} Errors`})]}),s.jsxs(kr,{children:["Tests the user journey from artist search to voting on setlists",t&&s.jsxs("span",{className:"font-semibold ml-1",children:["for ",t]})]})]}),s.jsx(qe,{className:"space-y-4",children:o?s.jsxs("div",{className:"flex flex-col items-center justify-center py-10",children:[s.jsx(Cr,{className:"h-10 w-10 animate-spin mb-4"}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Running user journey test..."})]}):r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-background rounded-lg border",children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Start Time"}),s.jsx("div",{children:r.startTime.toLocaleTimeString()})]}),s.jsxs("div",{className:"p-4 bg-background rounded-lg border",children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"End Time"}),s.jsx("div",{children:((i=r.endTime)==null?void 0:i.toLocaleTimeString())||"N/A"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium mb-2",children:["Success Log (",r.successes.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto p-2 border rounded-lg bg-background",children:r.successes.length>0?r.successes.map((c,d)=>s.jsxs("div",{className:"text-sm p-2 border-l-4 border-green-500 pl-2 bg-green-500/5",children:[s.jsxs("span",{className:"font-medium",children:[c.step,":"]})," ",c.message]},d)):s.jsx("div",{className:"text-sm p-2",children:"No successes logged"})})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium mb-2",children:["Error Log (",r.errors.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto p-2 border rounded-lg bg-background",children:r.errors.length>0?r.errors.map((c,d)=>s.jsxs("div",{className:"text-sm p-2 border-l-4 border-destructive pl-2 bg-destructive/5",children:[s.jsxs("div",{className:"font-medium",children:[c.step," (",c.source,")"]}),s.jsx("div",{children:c.message}),c.details&&s.jsxs("details",{className:"mt-1",children:[s.jsx("summary",{className:"text-xs text-muted-foreground cursor-pointer",children:"View details"}),s.jsx("pre",{className:"text-xs mt-1 p-2 bg-muted rounded overflow-x-auto",children:JSON.stringify(c.details,null,2)})]})]},d)):s.jsx("div",{className:"text-sm p-2",children:"No errors detected"})})]})]}):s.jsx("div",{className:"text-center py-10",children:s.jsxs("p",{className:"text-muted-foreground mb-4",children:["Click the button below to run the automated user journey test",t&&s.jsxs("span",{children:[" for ",t]})]})})}),s.jsx(Ts,{children:s.jsx(pe,{onClick:l,disabled:o,className:"w-full",children:o?s.jsxs(s.Fragment,{children:[s.jsx(Cr,{className:"mr-2 h-4 w-4 animate-spin"}),"Running Test..."]}):"Run User Journey Test"})})]})},UA=()=>{const[e,t]=m.useState(""),[r,n]=m.useState(null),o=l=>{n(l),t(""),re.success(`Selected artist: ${l.name}`)},a=()=>{n(null),re.info(`Using default artist: ${sl}`)};return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(Je,{}),s.jsx("main",{className:"flex-grow container mx-auto px-4 py-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-10",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"User Journey Test"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"This test simulates the complete user journey from artist search to setlist voting and provides detailed information about each step in the process."}),s.jsxs(We,{className:"mb-8",children:[s.jsx(ut,{children:s.jsx(Nt,{children:"Select an Artist to Test"})}),s.jsx(qe,{children:s.jsxs("div",{className:"max-w-lg",children:[s.jsx(Ks,{placeholder:"Search for an artist to test...",onChange:t,value:e,className:"mb-2",disableRedirect:!0,children:e.length>2&&s.jsx(gc,{query:e,onSelect:o})}),r?s.jsxs("div",{className:"mt-4 p-4 bg-secondary/30 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Selected Artist: ",r.name]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["ID: ",r.id]})]}),s.jsx(pe,{variant:"outline",size:"sm",onClick:a,children:"Reset to Default"})]}),s.jsxs("p",{className:"text-xs mt-2",children:["Default artist: ",sl," (ID: ",Zg,")"]})]}):s.jsx("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:s.jsxs("p",{className:"text-sm",children:["No artist selected. The test will use the default artist: ",sl]})})]})})]})]}),s.jsx(BA,{customArtistId:r==null?void 0:r.id,customArtistName:r==null?void 0:r.name})]})}),s.jsx(et,{})]})},VA=()=>{const e=jt();return m.useEffect(()=>{document.title="Admin | TheSet",e("/admin/sync-test")},[e]),null},WA=()=>{const e=jt(),[t,r]=m.useState(!0),[n,o]=m.useState([]),[a,l]=m.useState([]);m.useEffect(()=>{async function d(){try{const{data:u}=await ye.auth.getSession();if(!u.session){e("/auth");return}i()}catch(u){console.error("Error checking authentication:",u),e("/auth")}}d()},[e]);async function i(){try{r(!0);const d=await DC();if(d&&Array.isArray(d)){o(d.slice(0,10));const u=await OC();if(u&&u.shows&&Array.isArray(u.shows)&&l(u.shows.slice(0,8)),!u||!u.shows||u.shows.length<3){const f=[];for(const g of d.slice(0,3))try{const p=await tc(g.id);p&&Array.isArray(p)&&f.push(...p)}catch(p){console.error(`Error fetching events for artist ${g.name}:`,p)}f.length>0&&l(g=>{const p=new Set(g.map(v=>v.id)),w=f.filter(v=>!p.has(v.id));return[...g,...w].slice(0,8)})}}}catch(d){console.error("Error fetching user data:",d)}finally{r(!1)}}function c(d){try{return new Date(d).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}catch{return"TBD"}}return s.jsxs("div",{className:"min-h-screen flex flex-col bg-black",children:[s.jsx(Je,{}),s.jsx("main",{className:"flex-grow px-6 md:px-8 lg:px-12 py-12",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-8",children:"Your Personalized Dashboard"}),t?s.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[s.jsx(Cr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),s.jsx("p",{className:"text-lg text-white",children:"Loading your personalized recommendations..."})]}):s.jsxs("div",{className:"space-y-12",children:[s.jsxs("section",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Your Top Artists"}),s.jsx(pe,{variant:"outline",onClick:()=>e("/my-artists"),children:"See All"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:n.slice(0,5).map(d=>s.jsxs(We,{className:"bg-[#0A0A0A] border-white/10 hover:border-white/30 transition-all cursor-pointer overflow-hidden",onClick:()=>e(`/artist/${d.id}`),children:[s.jsx("div",{className:"aspect-square overflow-hidden",children:s.jsx("img",{src:d.image_url||"https://placehold.co/300x300/111/333?text=Artist",alt:d.name,className:"w-full h-full object-cover transition-transform hover:scale-105"})}),s.jsxs(qe,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-white truncate",children:d.name}),d.genres&&d.genres.length>0&&s.jsx("p",{className:"text-sm text-white/60 truncate mt-1",children:d.genres[0]})]})]},d.id))})]}),s.jsxs("section",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Recommended Shows"}),s.jsx(pe,{variant:"outline",onClick:()=>e("/shows"),children:"Browse All Shows"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.slice(0,4).map(d=>s.jsxs(We,{className:"bg-[#0A0A0A] border-white/10 hover:border-white/30 transition-all cursor-pointer",onClick:()=>e(`/show/${d.id}`),children:[s.jsx("div",{className:"aspect-video overflow-hidden",children:s.jsx("img",{src:d.image_url||"https://placehold.co/600x400/111/333?text=Show",alt:d.name,className:"w-full h-full object-cover transition-transform hover:scale-105"})}),s.jsxs(qe,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-white line-clamp-2",children:d.name}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("p",{className:"text-sm text-white/70",children:c(d.date)}),d.venue&&s.jsxs("p",{className:"text-sm text-white/60 truncate",children:[d.venue.city,", ",d.venue.state]})]})]})]},d.id))})]}),s.jsx("section",{children:s.jsxs(We,{className:"bg-card border-border/50",children:[s.jsxs(ut,{children:[s.jsx(Nt,{className:"text-xl text-foreground",children:"How TheSet Works"}),s.jsx(kr,{className:"text-muted-foreground",children:"Personalize your concert experience by voting on your favorite songs"})]}),s.jsxs(qe,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4 items-start",children:[s.jsx("div",{className:"bg-primary/10 w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-primary font-semibold",children:"1"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground",children:"Find Your Shows"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Discover upcoming concerts from your favorite artists"})]})]}),s.jsxs("div",{className:"flex gap-4 items-start",children:[s.jsx("div",{className:"bg-primary/10 w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-primary font-semibold",children:"2"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground",children:"Vote on Songs"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Help shape the setlist by voting for songs you want to hear"})]})]}),s.jsxs("div",{className:"flex gap-4 items-start",children:[s.jsx("div",{className:"bg-primary/10 w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-primary font-semibold",children:"3"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-foreground",children:"Enjoy the Experience"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get a more personalized concert with songs the crowd wants"})]})]}),s.jsx(pe,{className:"w-full mt-4 btn-twitter",onClick:()=>e("/shows"),children:"Browse Upcoming Shows"})]})]})})]})]})}),s.jsx(et,{})]})};function zA(){return pr()}const HA=()=>{const{user:e,isAuthenticated:t}=zA(),[r,n]=m.useState({message:"",success:!1,loading:!1}),o=async()=>{n(l=>({...l,loading:!0,message:""}));try{const i=await(await fetch("/api/admin/set-admin",{method:"GET",headers:{"Content-Type":"application/json"}})).json();n({message:i.message,success:i.success,loading:!1})}catch(l){console.error("Error setting admin status:",l),n({message:l instanceof Error?l.message:"Failed to set admin status",success:!1,loading:!1})}};if(!t)return s.jsx("div",{className:"container max-w-2xl py-12",children:s.jsxs(We,{children:[s.jsxs(ut,{children:[s.jsx(Nt,{children:"Admin Setup"}),s.jsx(kr,{children:"Set up your account as an admin for TheSet application"})]}),s.jsx(qe,{children:s.jsxs(vs,{variant:"destructive",children:[s.jsx(Oo,{className:"h-4 w-4"}),s.jsx($o,{children:"Authentication Required"}),s.jsx(ys,{children:"You need to be logged in to access this page."})]})}),s.jsx(Ts,{children:s.jsx(pe,{onClick:()=>window.location.href="/login",children:"Go to Login"})})]})});const a=(e==null?void 0:e.email)==="seth@bambl.ing";return s.jsx("div",{className:"container max-w-2xl py-12",children:s.jsxs(We,{children:[s.jsxs(ut,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx($0,{className:"h-5 w-5"}),"Admin Setup"]}),s.jsx(kr,{children:"Set up your account as an admin for TheSet application"})]}),s.jsx(qe,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"rounded-lg border p-4",children:[s.jsx("div",{className:"font-semibold",children:"Current Account"}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:e==null?void 0:e.email})]}),!a&&s.jsxs(vs,{variant:"destructive",children:[s.jsx(Oo,{className:"h-4 w-4"}),s.jsx($o,{children:"Email Not Authorized"}),s.jsx(ys,{children:"Only seth@bambl.ing can be set as an admin."})]}),r.message&&s.jsxs(vs,{variant:r.success?"default":"destructive",className:r.success?"bg-green-50 text-green-800 border-green-200":"",children:[r.success?s.jsx(C0,{className:"h-4 w-4"}):s.jsx(Oo,{className:"h-4 w-4"}),s.jsx($o,{children:r.success?"Success":"Error"}),s.jsx(ys,{children:r.message})]})]})}),s.jsx(Ts,{children:s.jsx(pe,{onClick:o,disabled:!a||r.loading||r.success&&r.message.includes("admin"),children:r.loading?"Processing...":"Set as Admin"})})]})})};function qA(){to("Import Venues & Shows","Search and import venues and upcoming shows into the database");const[e,t]=m.useState(""),[r,n]=m.useState(""),[o,a]=m.useState(""),[l,i]=m.useState(!1),[c,d]=m.useState([]),[u,f]=m.useState(null),g=async w=>{if(w.preventDefault(),!e.trim()){re.error("Please enter a search term");return}i(!0),d([]);try{const v=new URLSearchParams;v.append("type","venue"),v.append("query",e),r.trim()&&v.append("city",r),o.trim()&&v.append("state",o);const y=await fetch(`/api/search?${v.toString()}`);if(!y.ok)throw new Error("Search failed");const N=await y.json();d(N.results||[])}catch(v){console.error("Error searching venues:",v),re.error("Failed to search venues")}finally{i(!1)}},p=async w=>{if(w.id){f(w.id);try{const v=await fetch("/api/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"venue",operation:"cascade_sync",id:w.id})}),y=await v.json();if(!v.ok)throw new Error(y.error||"Failed to import venue");re.success(`Imported ${w.name} and upcoming shows`)}catch(v){console.error("Error importing venue:",v),re.error("Failed to import venue")}finally{f(null)}}};return s.jsxs("div",{className:"min-h-screen flex flex-col bg-[#0A0A10]",children:[s.jsx(Je,{}),s.jsxs("main",{className:"flex-grow container max-w-4xl mx-auto py-8 px-4",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Import Venues & Shows"}),s.jsx("p",{className:"text-muted-foreground",children:"Search for venues and import their upcoming shows into the database."})]}),s.jsxs(We,{className:"mb-8",children:[s.jsx(ut,{children:s.jsx(Nt,{children:"Search for Venues"})}),s.jsx(qe,{children:s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{children:[s.jsx(It,{htmlFor:"search",children:"Venue Name"}),s.jsx(ot,{id:"search",placeholder:"Enter venue name...",value:e,onChange:w=>t(w.target.value),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(It,{htmlFor:"city",children:"City (Optional)"}),s.jsx(ot,{id:"city",placeholder:"City",value:r,onChange:w=>n(w.target.value)})]}),s.jsxs("div",{children:[s.jsx(It,{htmlFor:"state",children:"State (Optional)"}),s.jsx(ot,{id:"state",placeholder:"State code (e.g. CA, NY)",value:o,onChange:w=>a(w.target.value),maxLength:2})]})]})]}),s.jsx(pe,{type:"submit",className:"w-full",disabled:l,children:l?s.jsx(s.Fragment,{children:"Searching..."}):s.jsxs(s.Fragment,{children:[s.jsx(hn,{className:"mr-2 h-4 w-4"}),"Search Venues"]})})]})})]}),c.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Search Results"}),s.jsx("div",{className:"grid gap-4",children:c.map(w=>s.jsx(We,{className:"overflow-hidden",children:s.jsx(qe,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[w.image_url&&s.jsx("div",{className:"w-full md:w-1/4",children:s.jsx("img",{src:w.image_url,alt:w.name,className:"rounded-md w-full object-cover aspect-video"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold",children:w.name}),s.jsxs("div",{className:"flex items-center text-muted-foreground mt-2",children:[s.jsx(Ar,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:[w.city,w.state,w.country].filter(Boolean).join(", ")})]}),s.jsx("div",{className:"mt-4 flex space-x-4",children:s.jsx(pe,{onClick:()=>p(w),disabled:u===w.id,className:"flex-1",children:u===w.id?"Importing...":s.jsxs(s.Fragment,{children:[s.jsx(j0,{className:"mr-2 h-4 w-4"}),"Import Venue & Shows"]})})})]})]})})},w.id))})]}),c.length===0&&!l&&e&&s.jsxs("div",{className:"text-center p-8 border rounded-lg",children:[s.jsx("h3",{className:"text-lg font-medium",children:"No venues found"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Try a different search term or location"})]})]}),s.jsx(et,{})]})}function YA(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Lc="ScrollArea",[Kg,Ck]=Jt(Lc),[GA,Ot]=Kg(Lc),Xg=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:a=600,...l}=e,[i,c]=m.useState(null),[d,u]=m.useState(null),[f,g]=m.useState(null),[p,w]=m.useState(null),[v,y]=m.useState(null),[N,_]=m.useState(0),[j,S]=m.useState(0),[E,D]=m.useState(!1),[I,B]=m.useState(!1),$=Oe(t,Z=>c(Z)),q=Xs(o);return s.jsx(GA,{scope:r,type:n,dir:q,scrollHideDelay:a,scrollArea:i,viewport:d,onViewportChange:u,content:f,onContentChange:g,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:E,onScrollbarXEnabledChange:D,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:I,onScrollbarYEnabledChange:B,onCornerWidthChange:_,onCornerHeightChange:S,children:s.jsx(Ce.div,{dir:q,...l,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});Xg.displayName=Lc;var Qg="ScrollAreaViewport",Jg=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:o,...a}=e,l=Ot(Qg,r),i=m.useRef(null),c=Oe(t,i,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(Ce.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Jg.displayName=Qg;var gr="ScrollAreaScrollbar",Fc=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Ot(gr,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=o,i=e.orientation==="horizontal";return m.useEffect(()=>(i?a(!0):l(!0),()=>{i?a(!1):l(!1)}),[i,a,l]),o.type==="hover"?s.jsx(ZA,{...n,ref:t,forceMount:r}):o.type==="scroll"?s.jsx(KA,{...n,ref:t,forceMount:r}):o.type==="auto"?s.jsx(ex,{...n,ref:t,forceMount:r}):o.type==="always"?s.jsx($c,{...n,ref:t}):null});Fc.displayName=gr;var ZA=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Ot(gr,e.__scopeScrollArea),[a,l]=m.useState(!1);return m.useEffect(()=>{const i=o.scrollArea;let c=0;if(i){const d=()=>{window.clearTimeout(c),l(!0)},u=()=>{c=window.setTimeout(()=>l(!1),o.scrollHideDelay)};return i.addEventListener("pointerenter",d),i.addEventListener("pointerleave",u),()=>{window.clearTimeout(c),i.removeEventListener("pointerenter",d),i.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),s.jsx(Tt,{present:r||a,children:s.jsx(ex,{"data-state":a?"visible":"hidden",...n,ref:t})})}),KA=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Ot(gr,e.__scopeScrollArea),a=e.orientation==="horizontal",l=ti(()=>c("SCROLL_END"),100),[i,c]=YA("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(i==="idle"){const d=window.setTimeout(()=>c("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(d)}},[i,o.scrollHideDelay,c]),m.useEffect(()=>{const d=o.viewport,u=a?"scrollLeft":"scrollTop";if(d){let f=d[u];const g=()=>{const p=d[u];f!==p&&(c("SCROLL"),l()),f=p};return d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[o.viewport,a,c,l]),s.jsx(Tt,{present:r||i!=="hidden",children:s.jsx($c,{"data-state":i==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ie(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ie(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ex=m.forwardRef((e,t)=>{const r=Ot(gr,e.__scopeScrollArea),{forceMount:n,...o}=e,[a,l]=m.useState(!1),i=e.orientation==="horizontal",c=ti(()=>{if(r.viewport){const d=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;l(i?d:u)}},10);return Xn(r.viewport,c),Xn(r.content,c),s.jsx(Tt,{present:n||a,children:s.jsx($c,{"data-state":a?"visible":"hidden",...o,ref:t})})}),$c=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,o=Ot(gr,e.__scopeScrollArea),a=m.useRef(null),l=m.useRef(0),[i,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=ox(i.viewport,i.content),u={...n,sizes:i,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:g=>a.current=g,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:g=>l.current=g};function f(g,p){return rk(g,l.current,i,p)}return r==="horizontal"?s.jsx(XA,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const g=o.viewport.scrollLeft,p=Fu(g,i,o.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollLeft=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollLeft=f(g,o.dir))}}):r==="vertical"?s.jsx(QA,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&a.current){const g=o.viewport.scrollTop,p=Fu(g,i);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollTop=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollTop=f(g))}}):null}),XA=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=Ot(gr,e.__scopeScrollArea),[l,i]=m.useState(),c=m.useRef(null),d=Oe(t,c,a.onScrollbarXChange);return m.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),s.jsx(rx,{"data-orientation":"horizontal",...o,ref:d,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ei(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(a.viewport){const g=a.viewport.scrollLeft+u.deltaX;e.onWheelScroll(g),ix(g,f)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&l&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ga(l.paddingLeft),paddingEnd:ga(l.paddingRight)}})}})}),QA=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,a=Ot(gr,e.__scopeScrollArea),[l,i]=m.useState(),c=m.useRef(null),d=Oe(t,c,a.onScrollbarYChange);return m.useEffect(()=>{c.current&&i(getComputedStyle(c.current))},[c]),s.jsx(rx,{"data-orientation":"vertical",...o,ref:d,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ei(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(a.viewport){const g=a.viewport.scrollTop+u.deltaY;e.onWheelScroll(g),ix(g,f)&&u.preventDefault()}},onResize:()=>{c.current&&a.viewport&&l&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ga(l.paddingTop),paddingEnd:ga(l.paddingBottom)}})}})}),[JA,tx]=Kg(gr),rx=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:i,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:u,onResize:f,...g}=e,p=Ot(gr,r),[w,v]=m.useState(null),y=Oe(t,$=>v($)),N=m.useRef(null),_=m.useRef(""),j=p.viewport,S=n.content-n.viewport,E=it(u),D=it(c),I=ti(f,10);function B($){if(N.current){const q=$.clientX-N.current.left,Z=$.clientY-N.current.top;d({x:q,y:Z})}}return m.useEffect(()=>{const $=q=>{const Z=q.target;(w==null?void 0:w.contains(Z))&&E(q,S)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[j,w,S,E]),m.useEffect(D,[n,D]),Xn(w,I),Xn(p.content,I),s.jsx(JA,{scope:r,scrollbar:w,hasThumb:o,onThumbChange:it(a),onThumbPointerUp:it(l),onThumbPositionChange:D,onThumbPointerDown:it(i),children:s.jsx(Ce.div,{...g,ref:y,style:{position:"absolute",...g.style},onPointerDown:ie(e.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),N.current=w.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),B($))}),onPointerMove:ie(e.onPointerMove,B),onPointerUp:ie(e.onPointerUp,$=>{const q=$.target;q.hasPointerCapture($.pointerId)&&q.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=_.current,p.viewport&&(p.viewport.style.scrollBehavior=""),N.current=null})})})}),pa="ScrollAreaThumb",nx=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=tx(pa,e.__scopeScrollArea);return s.jsx(Tt,{present:r||o.hasThumb,children:s.jsx(ek,{ref:t,...n})})}),ek=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...o}=e,a=Ot(pa,r),l=tx(pa,r),{onThumbPositionChange:i}=l,c=Oe(t,f=>l.onThumbChange(f)),d=m.useRef(void 0),u=ti(()=>{d.current&&(d.current(),d.current=void 0)},100);return m.useEffect(()=>{const f=a.viewport;if(f){const g=()=>{if(u(),!d.current){const p=nk(f,i);d.current=p,i()}};return i(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[a.viewport,u,i]),s.jsx(Ce.div,{"data-state":l.hasThumb?"visible":"hidden",...o,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ie(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),w=f.clientX-p.left,v=f.clientY-p.top;l.onThumbPointerDown({x:w,y:v})}),onPointerUp:ie(e.onPointerUp,l.onThumbPointerUp)})});nx.displayName=pa;var Bc="ScrollAreaCorner",sx=m.forwardRef((e,t)=>{const r=Ot(Bc,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(tk,{...e,ref:t}):null});sx.displayName=Bc;var tk=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,o=Ot(Bc,r),[a,l]=m.useState(0),[i,c]=m.useState(0),d=!!(a&&i);return Xn(o.scrollbarX,()=>{var f;const u=((f=o.scrollbarX)==null?void 0:f.offsetHeight)||0;o.onCornerHeightChange(u),c(u)}),Xn(o.scrollbarY,()=>{var f;const u=((f=o.scrollbarY)==null?void 0:f.offsetWidth)||0;o.onCornerWidthChange(u),l(u)}),d?s.jsx(Ce.div,{...n,ref:t,style:{width:a,height:i,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ga(e){return e?parseInt(e,10):0}function ox(e,t){const r=e/t;return isNaN(r)?0:r}function ei(e){const t=ox(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function rk(e,t,r,n="ltr"){const o=ei(r),a=o/2,l=t||a,i=o-l,c=r.scrollbar.paddingStart+l,d=r.scrollbar.size-r.scrollbar.paddingEnd-i,u=r.content-r.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return ax([c,d],f)(e)}function Fu(e,t,r="ltr"){const n=ei(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-o,l=t.content-t.viewport,i=a-n,c=r==="ltr"?[0,l]:[l*-1,0],d=_l(e,c);return ax([0,l],[0,i])(d)}function ax(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function ix(e,t){return e>0&&e<t}var nk=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){const a={left:e.scrollLeft,top:e.scrollTop},l=r.left!==a.left,i=r.top!==a.top;(l||i)&&t(),r=a,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function ti(e,t){const r=it(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Xn(e,t){const r=it(t);nt(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}var lx=Xg,sk=Jg,ok=sx;const cx=m.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(lx,{ref:n,className:ae("relative overflow-hidden",e),...r,children:[s.jsx(sk,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(dx,{}),s.jsx(ok,{})]}));cx.displayName=lx.displayName;const dx=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(Fc,{ref:n,orientation:t,className:ae("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(nx,{className:"relative flex-1 rounded-full bg-border"})}));dx.displayName=Fc.displayName;function ak(){const[e,t]=m.useState(""),[r,n]=m.useState([]),[o,a]=m.useState(!1),l=c=>{n(d=>[...d,`[${new Date().toISOString()}] ${c}`])},i=async()=>{if(e.trim()){a(!0),l(`Starting sync for artist: ${e}`);try{const c=await fetch("/api/admin/sync-test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({artistName:e})});if(!c.ok){const u=await c.text();throw new Error(u)}const d=await c.json();l("Sync completed successfully"),l(`Artist ID: ${d.artistId}`),l(`Songs imported: ${d.songsCount}`),l(`Shows imported: ${d.showsCount}`),l(`Setlists imported: ${d.setlistsCount}`)}catch(c){l(`Error: ${c.message}`)}finally{a(!1)}}};return s.jsxs("div",{className:"container mx-auto p-8",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Admin Sync Test"}),s.jsxs("div",{className:"flex gap-4 mb-8",children:[s.jsx(ot,{placeholder:"Enter artist name",value:e,onChange:c=>t(c.target.value),className:"max-w-md"}),s.jsx(pe,{onClick:i,disabled:o||!e.trim(),children:o?"Syncing...":"Start Sync"})]}),s.jsxs(We,{className:"p-4",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Sync Logs"}),s.jsxs(cx,{className:"h-[500px] w-full rounded-md border p-4",children:[r.map((c,d)=>s.jsx("div",{className:"text-sm mb-2 font-mono",children:c},d)),r.length===0&&s.jsx("div",{className:"text-muted-foreground text-center py-8",children:"No logs yet. Start a sync to see detailed progress."})]})]})]})}var xa=["light","dark"],Uc="(prefers-color-scheme: dark)",ik=typeof window>"u",ux=m.createContext(void 0),lk=e=>m.useContext(ux)?e.children:m.createElement(dk,{...e}),ck=["light","dark"],dk=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:o="theme",themes:a=ck,defaultTheme:l=r?"system":"light",attribute:i="data-theme",value:c,children:d,nonce:u})=>{let[f,g]=m.useState(()=>$u(o,l)),[p,w]=m.useState(()=>$u(o)),v=c?Object.values(c):a,y=m.useCallback(S=>{let E=S;if(!E)return;S==="system"&&r&&(E=Bu());let D=c?c[E]:E,I=t?fk():null,B=document.documentElement;if(i==="class"?(B.classList.remove(...v),D&&B.classList.add(D)):D?B.setAttribute(i,D):B.removeAttribute(i),n){let $=xa.includes(l)?l:null,q=xa.includes(E)?E:$;B.style.colorScheme=q}I==null||I()},[]),N=m.useCallback(S=>{let E=typeof S=="function"?S(S):S;g(E);try{localStorage.setItem(o,E)}catch{}},[e]),_=m.useCallback(S=>{let E=Bu(S);w(E),f==="system"&&r&&!e&&y("system")},[f,e]);m.useEffect(()=>{let S=window.matchMedia(Uc);return S.addListener(_),_(S),()=>S.removeListener(_)},[_]),m.useEffect(()=>{let S=E=>{if(E.key!==o)return;let D=E.newValue||l;N(D)};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[N]),m.useEffect(()=>{y(e??f)},[e,f]);let j=m.useMemo(()=>({theme:f,setTheme:N,forcedTheme:e,resolvedTheme:f==="system"?p:f,themes:r?[...a,"system"]:a,systemTheme:r?p:void 0}),[f,N,e,p,r,a]);return m.createElement(ux.Provider,{value:j},m.createElement(uk,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:r,enableColorScheme:n,storageKey:o,themes:a,defaultTheme:l,attribute:i,value:c,children:d,attrs:v,nonce:u}),d)},uk=m.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:o,defaultTheme:a,value:l,attrs:i,nonce:c})=>{let d=a==="system",u=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${i.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=o?xa.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(w,v=!1,y=!0)=>{let N=l?l[w]:w,_=v?w+"|| ''":`'${N}'`,j="";return o&&y&&!v&&xa.includes(w)&&(j+=`d.style.colorScheme = '${w}';`),r==="class"?v||N?j+=`c.add(${_})`:j+="null":N&&(j+=`d[s](n,${_})`),j},p=e?`!function(){${u}${g(e)}}()`:n?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${d})){var t='${Uc}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${g(l?"x[e]":"e",!0)}}${d?"":"else{"+g(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${g(l?"x[e]":"e",!0)}}else{${g(a,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})}),$u=(e,t)=>{if(ik)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},fk=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Bu=e=>(e||(e=window.matchMedia(Uc)),e.matches?"dark":"light");const mk="G-CNM6621HGW",hk=()=>{const e=mr();return m.useEffect(()=>{l0(e.pathname+e.search)},[e]),null},pk=()=>s.jsx("svg",{width:"0",height:"0",className:"hidden",children:s.jsx("defs",{children:s.jsxs("linearGradient",{id:"app-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",stopColor:"#40e6bf"}),s.jsx("stop",{offset:"100%",stopColor:"#01ec8d"})]})})});function gk(){return m.useEffect(()=>{i0(mk);const e=()=>{document.querySelectorAll("svg:not(.ignore-gradient) path").forEach(r=>{r.getAttribute("stroke")&&r.getAttribute("stroke")!=="none"&&r.setAttribute("stroke","url(#app-gradient)"),r.getAttribute("fill")&&r.getAttribute("fill")!=="none"&&r.setAttribute("fill","url(#app-gradient)")})};e();const t=new MutationObserver(r=>{r.forEach(n=>{n.addedNodes.length&&e()})});return t.observe(document.body,{childList:!0,subtree:!0}),()=>t.disconnect()},[]),s.jsx(gx,{client:new xx,children:s.jsx(lk,{attribute:"class",defaultTheme:"dark",enableSystem:!0,children:s.jsx(vx,{children:s.jsx(Kl,{children:s.jsxs(v0,{children:[s.jsx(hk,{}),s.jsx(pk,{}),s.jsxs(yx,{children:[s.jsx(rt,{path:"/",element:s.jsx(Uj,{})}),s.jsx(rt,{path:"/artists/:id",element:s.jsx(Gj,{})}),s.jsx(rt,{path:"/shows/:id",element:s.jsx(xS,{})}),s.jsx(rt,{path:"/shows",element:s.jsx(_S,{})}),s.jsx(rt,{path:"/artists",element:s.jsx(SS,{})}),s.jsx(rt,{path:"/search",element:s.jsx(ES,{})}),s.jsx(rt,{path:"/how-it-works",element:s.jsx(CS,{})}),s.jsx(rt,{path:"/login",element:s.jsx(AS,{})}),s.jsx(rt,{path:"/auth",element:s.jsx(pC,{})}),s.jsx(rt,{path:"/auth/callback",element:s.jsx(vC,{})}),s.jsx(rt,{path:"/profile",element:s.jsx(To,{children:s.jsx(yC,{})})}),s.jsx(rt,{path:"/my-artists",element:s.jsx(To,{children:s.jsx($C,{})})}),s.jsx(rt,{path:"/dashboard",element:s.jsx(To,{children:s.jsx(WA,{})})}),s.jsx(rt,{path:"/create-show",element:s.jsx(To,{children:s.jsx(DA,{})})}),s.jsx(rt,{path:"/import",element:s.jsx(qA,{})}),s.jsx(rt,{path:"/admin",element:s.jsx(VA,{})}),s.jsx(rt,{path:"/admin/setup",element:s.jsx(HA,{})}),s.jsx(rt,{path:"/admin/sync-test",element:s.jsx(ak,{})}),s.jsx(rt,{path:"/test-journey",element:s.jsx(UA,{})}),s.jsx(rt,{path:"*",element:s.jsx(OA,{})})]})]})})})})})}const ol=document.getElementById("root");if(!ol)console.error("Root element not found!");else try{Yu(ol).render(s.jsxs(s.Fragment,{children:[s.jsx(gk,{}),s.jsx(qx,{position:"top-right"})]}))}catch(e){console.error("Error rendering app:",e),ol.innerHTML=`
      <div style="padding: 20px; text-align: center; color: white; background-color: #111;">
        <h1>Something went wrong</h1>
        <p>There was an error loading the application. Please check the console for details.</p>
        <pre style="background: #222; padding: 10px; text-align: left; margin-top: 20px; overflow: auto; color: #f8f8f8; border-radius: 4px;">${e}</pre>
      </div>
    `}
